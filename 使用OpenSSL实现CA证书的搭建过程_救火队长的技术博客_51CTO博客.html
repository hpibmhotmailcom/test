<!DOCTYPE html>
<!-- saved from url=(0044)https://blog.51cto.com/xiaoshuaigege/1965113 -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
        <title>使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客</title>
    <meta name="keywords" content="使用OpenSSL实现CA证书的搭建过程,Linux博客,51CTO博客">
<meta name="description" content="使用OpenSSL实现CA证书的搭建过程，CA,CatificateAuthority,通俗的理解就是一种认证机制。它的作用就是提供证书（也就是服务端证书，由域名，公司信息，序列号，签名信息等等组成）来加强客户端与服务器端访问信息的安全性，同时提供证书的发放等相关工作。国内的大部分互联网公司都在国际CA机构申请了CA证书，并且在用户进行访问的时候，对用户的信息加密，保障了用户的信息安全。理论上来说，任何组织或者个人都可以扮演CA的角色，只不过，难以得到客户端的信任，不能推而广之，最典型应用莫过于12306网站，这个网站就是自己给自己颁发的根证书。">    <meta name="applicable-device" content="pc">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="msvalidate.01" content="91C5324FE68C0A46FA65F3FEC225EA65">
    <link rel="canonical" href="https://blog.51cto.com/xiaoshuaigege/1965113">
    <link type="favicon" rel="shortcut icon" href="https://blog.51cto.com/favicon.ico">
        <script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/push.js.download"></script><script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/hm.js.download"></script><script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/antidomxss_v640.js.download"></script><script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/interfaceacting211222.js.download"></script><script type="application/ld+json">{"@context":"https://ziyuan.baidu.com/contexts/cambrian.jsonld","@id":"https://blog.51cto.com/xiaoshuaigege/1965113","appid":"1576672126670053","title":"使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客","images":[],"description":"CA,Catificate Authority,通俗的理解就是一种认证机制。它的作用就是提供证书（也就是服务端证书，由域名，公司信息，序列号，签名信息等等组成）来加强客户端与服务器端访问信息的安全性，同时提供证书的发放等相关工作。国内的大部","pubDate":"2017-09-14T08:49:23","upDate":"2017-09-14T08:49:23"}</script>
        <link href="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/medal.css_v=6baad06a01" rel="stylesheet">    <script>var userId=""</script>
    <script async="" src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/googletagmanager.js.download"></script>
    <script>
        var HOME_URL = 'https://home.51cto.com/';
        var STATICPATH = 'https://static1.51cto.com/edu/';
    </script>
    <script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/moment.min.js_v=0e7067c46a"></script><script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/statisticsdb.js.download" charset="utf-8"></script><style type="text/css">#waf_nc_block {position: fixed;_position: absolute;width: 100%;height: 100%;top: 0;bottom: 0;left: 0;z-index: 99999;}.waf-nc-mask {background: #f8f8f8;opacity: 0.5;filter:alpha(opacity=50); width: 100%;height: 100%;} .waf-nc-wrapper {width:480px; height:254px; position: absolute; top: 50%; left: 50%; margin-top: -127px; margin-left: -240px; margin-bottom: 16px; background:#ffffff; border:3px solid #00A2CA;} .waf-nc-icon {position: absolute;top: 60px;left: 20px;} .waf-nc-title {margin-top: 23px; margin-left: 47px; font-size:16px; color:#333333; line-height:10px; text-align:left;} .waf-nc-splitter {margin-left: 26px; margin-top: 5px; width:430px; height:0px; border:1px solid #f4f4f4; } .waf-nc-description { margin-top: 70px; margin-left: 170px; font-size:12px; color:#333333; text-align: left; } #nocaptcha { margin-top: 40px; margin-left: 150px; width:300px; height36px;}</style><script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/nc.js.download"></script><style>@charset "utf-8";
@font-face{font-family:'nc_iconfont';src:url("//at.alicdn.com/t/font_1465353706_4784257.eot");src:url("//at.alicdn.com/t/font_1465353706_4784257.eot?#iefix") format('embedded-opentype'),url("//at.alicdn.com/t/font_1465353706_4784257.woff") format('woff'),url("//at.alicdn.com/t/font_1465353706_4784257.ttf") format('truetype'),url("//at.alicdn.com/t/font_1465353706_4784257.svg#iconfont") format('svg')}@font-face{font-family:'ncpc_iconfont';src:url("//at.alicdn.com/t/font_384029_rhzpmteb25oecdi.eot");src:url("//at.alicdn.com/t/font_384029_rhzpmteb25oecdi.eot?#iefix") format('embedded-opentype'),url("//at.alicdn.com/t/font_384029_rhzpmteb25oecdi.woff") format('woff'),url("//at.alicdn.com/t/font_384029_rhzpmteb25oecdi.ttf") format('truetype'),url("//at.alicdn.com/t/font_384029_rhzpmteb25oecdi.svg#ncpc_iconfont") format('svg')}.nc-container div#nc-loading-circle{background:transparent;width:20px;height:20px;display:inline-block;position:relative;vertical-align:middle}.nc-container div#nc-loading-circle .sk-circle{background:transparent;width:100%;height:100%;position:absolute;left:0;top:0}.nc-container #nc-loading-circle .sk-circle:before{content:'';display:block;margin:0 auto;width:15%;height:15%;background-color:#818181;border-radius:100%;-webkit-animation:sk-circleFadeDelay 1.2s infinite ease-in-out both;animation:sk-circleFadeDelay 1.2s infinite ease-in-out both}.nc-container #nc-loading-circle .sk-circle2{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.nc-container #nc-loading-circle .sk-circle3{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.nc-container #nc-loading-circle .sk-circle4{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.nc-container #nc-loading-circle .sk-circle5{-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg);transform:rotate(120deg)}.nc-container #nc-loading-circle .sk-circle6{-webkit-transform:rotate(150deg);-ms-transform:rotate(150deg);transform:rotate(150deg)}.nc-container #nc-loading-circle .sk-circle7{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.nc-container #nc-loading-circle .sk-circle8{-webkit-transform:rotate(210deg);-ms-transform:rotate(210deg);transform:rotate(210deg)}.nc-container #nc-loading-circle .sk-circle9{-webkit-transform:rotate(240deg);-ms-transform:rotate(240deg);transform:rotate(240deg)}.nc-container #nc-loading-circle .sk-circle10{-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.nc-container #nc-loading-circle .sk-circle11{-webkit-transform:rotate(300deg);-ms-transform:rotate(300deg);transform:rotate(300deg)}.nc-container #nc-loading-circle .sk-circle12{-webkit-transform:rotate(330deg);-ms-transform:rotate(330deg);transform:rotate(330deg)}.nc-container #nc-loading-circle .sk-circle2:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.nc-container #nc-loading-circle .sk-circle3:before{-webkit-animation-delay:-1s;animation-delay:-1s}.nc-container #nc-loading-circle .sk-circle4:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.nc-container #nc-loading-circle .sk-circle5:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.nc-container #nc-loading-circle .sk-circle6:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.nc-container #nc-loading-circle .sk-circle7:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.nc-container #nc-loading-circle .sk-circle8:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.nc-container #nc-loading-circle .sk-circle9:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.nc-container #nc-loading-circle .sk-circle10:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.nc-container #nc-loading-circle .sk-circle11:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.nc-container #nc-loading-circle .sk-circle12:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes sk-circleFadeDelay{0%,39%,100%{opacity:0}40%{opacity:1}}@-webkit-keyframes sk-circleFadeDelay{0%,39%,100%{opacity:0}40%{opacity:1}}@keyframes sk-circleFadeDelay{0%,39%,100%{opacity:0}40%{opacity:1}}.nc-container .scale_text2 #nc-loading-circle .sk-circle:before{background-color:#fff}.nc_iconfont{font-family:"nc_iconfont";color:#ff3f08;font-size:16px;font-style:normal}.ncpc_iconfont{font-family:"ncpc_iconfont";color:#ff3f08;font-size:16px;font-style:normal}.captcha-error .icon_ban{float:left;font-size:16px;padding-right:5px;line-height:14px}.clickCaptcha_text .btn_refresh{font-style:normal;cursor:pointer;background:#fff;color:#737383}.imgCaptcha .btn_refresh{font-size:20px;cursor:pointer;background:#fff;color:#737383}.nc_voice{display:none;position:relative;margin-top:-34px;z-index:99;width:auto;height:34px;background:#fff}.omeo-code-img,.omeo-code-audio{font-size:0;text-align:left}.omeo-code-audiobox,.omeo-code-img a,.omeo-code-audio a,.omeo-code-state{display:inline-block;*display:inline;zoom:1;height:32px;vertical-align:top;font-size:12px}.omeo-code .omeo-code-refresh{background:transparent;width:32px;height:32px;font-size:20px;color:#888;text-align:center;text-decoration:none;padding-left:4px;line-height:32px}.omeo-code .omeo-switch{display:none;width:32px;height:32px;border-left:1px solid #e1e1e1;background-image:url("//g.alicdn.com/sd/ncpc/images/checkcode.png");background-repeat:no-repeat}.omeo-img-active .omeo-code-img{display:block}.omeo-img-active .omeo-code-audio{display:none}.omeo-code-img img{border:1px solid #cdcdcd;cursor:pointer}.omeo-code-img .omeo-switch{background-position:9px -41px}.omeo-audio-active .omeo-code-audio{display:block}.omeo-audio-active .omeo-code-img{display:none}.omeo-code-refresh{position:relative;left:95px}.omeo-code-audiobox{position:relative;height:30px;line-height:32px;border:1px solid #e1e1e1;text-align:center;overflow:hidden;left:100px;top:1px;width:45%;min-width:80px;background-color:#eee}.omeo-code-audiobox a{display:block;text-decoration:none;color:#06c}.omeo-code-audiobox-playing a{visibility:hidden}.omeo-code-audiobox span,.omeo-code-audiobox b{visibility:hidden;position:absolute;top:0;left:0;height:30px;font-weight:100;overflow:hidden}.omeo-code-audiobox-playing span,.omeo-code-audiobox-playing b{visibility:visible}.omeo-code-audiobox span{z-index:0;width:0;background:#186bca}.omeo-code-audiobox b{width:100%;z-index:1;text-align:left;text-indent:30px;color:#999;background:url("//g.alicdn.com/sd/ncpc/images/checkcode.png") no-repeat 14px -89px}.omeo-code-audio .omeo-switch{background-position:5px 10px}input[type=text]::-ms-clear{display:none}.omeo-box{position:relative;background-color:#fff}.omeo-code-echo{position:absolute;top:2px;left:2px}.omeo-code-echo input{padding:5px;height:18px;line-height:18px;border:1px solid #ddd;width:80px;outline:0}.omeo-code-state{height:30px;line-height:30px;text-indent:25px;white-space:nowrap;background-image:url("//g.alicdn.com/sd/ncpc/images/checkcode.png");background-repeat:no-repeat;background-position:100px 100px}.omeo-code-echo .omeo-code-state-error{width:auto;background-position:7px -193px}.omeo-code-echo .omeo-code-state-success{position:absolute;width:30px;background-position:7px -243px}.omeo-code-state{position:absolute;left:0;top:28px}.nc_voice_close{display:inline-block;position:relative;cursor:pointer;left:95px;top:0;border-left:#ddd 2px solid;padding:0 0 0 7px;background-color:#fff;font-size:20px;color:#888;line-height:32px}.nc_help{position:absolute;width:100%;height:100%;left:0;top:0;z-index:99999}.nc_help .mask{background-color:#000;opacity:.5;filter:alpha(opacity=50);width:100%;height:100%;top:0;left:0}.nc_btn_close{position:absolute;height:20px;left:500px;border-radius:20px;padding:10px 30px;background-color:#aaa;color:#fff;cursor:pointer;z-index:10}.nc_btn_close:hover{background-color:#afafaf}.nc_hand{position:absolute;width:68px;height:53px;background-image:url("//g.alicdn.com/sd/ncpc/images/hand.png");z-index:3}.nc_slide_bg{z-index:3;font-size:12px;text-align:center;color:#fff;line-height:34px}.nc_voicebtn{position:absolute;padding:0;right:-25px;font-size:23px;color:#888;cursor:pointer;line-height:34px}.nc_helpbtn{position:absolute;cursor:pointer;right:-95px;top:4px;font-size:12px;background-color:#ffb668;color:#fff;padding:4px;border-radius:2px;line-height:18px;display:none}.nc_helpbtn:before{width:0;height:0;content:"";position:absolute;left:-2px;top:6px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-right:4px solid #ffb668}.nc-container .errloading{border:#faf1d5 1px solid;text-indent:3px;background-image:none;font-size:12px;width:290px;line-height:20px;padding:7px 5px 8px 5px;color:#ef9f06;}.nc-container .errloading a{color:#30a7fc}.nc_captcha_text .nc_err{float:left;text-indent:0}.button_move{transition:left .5s;-moz-transition:left .5s;-webkit-transition:left .5s;-o-transition:left .5s}.bg_move{transition:width .5s;-moz-transition:width .5s;-webkit-transition:width .5s;-o-transition:width .5s}.nc_slide_box{position:absolute}.nc_captcha_text{height:auto;line-height:20px;visibility:hidden;font-size:12px;color:#999;font-weight:normal}.nc-container .nc_captcha_img_text{width:auto;height:auto;line-height:20px;visibility:hidden;font-size:12px;color:#999;font-weight:normal;display:none;padding:0 0 10px 0;background-position:0 0;}.nc-container .nc_captcha_img_text span.nc-lang-cnt{line-height:inherit}.nc-container .imgCaptcha .nc_captcha_img_text{width:auto}.nc_captcha_img_text{height:auto;line-height:20px;visibility:hidden;font-size:12px;color:#999;font-weight:normal;display:none;padding:0 0 10px 3px;background-position:0 0}.nc-container .nc_wrapper{width:auto}.nc_scale{width:auto;height:34px;background:#e8e8e8;position:relative;margin:0;padding:0}.nc_scale.is_audio{margin-right:25px}.nc-container .nc_scale div{height:auto}.nc-container .nc_scale ul{list-style:none}.nc-container .nc_scale .btn_slide{color:#737383;background-image:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.nc-container .nc_scale span{text-align:center;width:40px;height:32px;line-height:32px;border:1px solid #ccc;position:absolute;left:0;cursor:move;background:#fff;z-index:2}.nc-container .nc_scale span.nc-lang-cnt{*line-height:34px;float:none;width:auto;height:auto;*height:34px;border:none;position:static;cursor:inherit;background:none;z-index:0;display:inline}.nc_slide_button{width:40px;height:32px;border:1px solid #ccc;position:absolute;left:0;cursor:move;background:#fff url("//g.alicdn.com/sd/ncpc/images/rt.png") no-repeat center;z-index:2}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.nc_scale span{height:32px}}.nc-container .nc_scale .btnok{cursor:default;background:#fff url("//g.alicdn.com/sd/ncpc/images/yes.png") no-repeat center;z-index:3}.nc-container .nc_scale .btnok2{cursor:default;font-size:20px;background:#fff url("//g.alicdn.com/sd/ncpc/images/no.png") no-repeat center;z-index:3}.nc-container .nc_scale .btn_warn{cursor:default;color:#ff3f08;line-height:34px;text-align:center;font-size:20px;background:#fff;z-index:3}.nc-container .clickCaptcha_text .btn_refresh{font-size:20px}.nc-container .clickCaptcha_text .icon_close{line-height:30px;margin-left:8px;cursor:default;color:#ff3f08;font-size:16px;float:left;margin-right:2px;background:transparent;z-index:3}.nc-container .nc_captcha_img_text .icon_close{cursor:default;color:#ff3f08;font-size:16px;float:left;margin-right:4px;background:transparent;z-index:3;line-height:18px}.nc-container .errloading .icon_warn{cursor:default;color:#ff3f08;font-size:18px;float:left;background:transparent;z-index:3}.nc-container .nc_scale .btn_ok{cursor:default;line-height:34px;text-align:center;font-size:20px;background:#fff;z-index:3;color:#76c61d}.nc-container .nc_scale .nc_ok,.nc-container .nc_scale .nc_bg{background:#7ac23c}.nc-container .nc_scale .nc_bg{position:absolute;height:100%;_height:34px;left:0;width:10px}.nc-container .nc_scale div.redbar{background:#fc461e;opacity:.5;filter:alpha(opacity=50)}.nc-container .nc_scale div.orange{background:#f00}.nc-container .nc_scale .scale_text{width:100%;height:100%;text-align:center;position:absolute;z-index:1;background:transparent;color:#9c9c9c;line-height:34px;font-size:12px;cursor:pointer}.nc-container .nc_scale .scale_text2{text-align:left;color:#fff;font-size:12px;text-indent:10px}.nc-container .nc_scale .scale_text2 b{padding-left:0;font-weight:normal}.nc-container .nc_scale .scale_text.scale_loading_text{text-align:center}.nc-container .nc_scale .imgCaptcha,.nc-container .nc_scale .clickCaptcha{display:none;overflow:hidden;border:1px solid #ccc;background:#fff;z-index:20000;}.nc-container .nc_scale .imgCaptcha p.error span,.nc-container .nc_scale .clickCaptcha p.error span{line-height:normal}.nc-container .nc_scale .imgCaptcha{height:auto}.nc-container .nc_scale .clickCaptcha{position:absolute;left:0;top:35px;height:270px;background:#fff;display:none;}.nc-container .nc_scale .clickCaptcha p.error i{color:#ff3f08;font-style:normal}.nc-container .nc_scale .clickCaptcha div{position:static;clear:both;width:100%;background:#fff;height:auto}.nc-container .nc_scale .clickCaptcha .clickCaptcha_text{height:30px;line-height:30px;font-size:12px;color:#999;}.nc-container .nc_scale .clickCaptcha .clickCaptcha_text b{font-weight:normal}.nc_btn_2{position:absolute;right:0;top:0;cursor:pointer;margin:2px 9px 0 0}.nc_iconfont.nc_btn_2{position:absolute;right:0;top:0;cursor:pointer}.nc_iconfont.nc_btn_1{position:absolute;top:10px;right:5px}.nc_btn_1{top:10px;right:10px}.scale_text i{font-style:normal;border:none;position:static;cursor:default;color:#fffc00;background:none;display:inline;width:100%}.nc-container .clickCaptcha .clickCaptcha_img{margin:0 auto;clear:both;position:relative;}.nc-container .clickCaptcha .clickCaptcha_img img{width:230px;height:230px;margin-left:10px;margin-top:5px}.nc-container .clickCaptcha .clickCaptcha_btn{margin:10px 0 0 15px;position:relative;text-align:left;}.nc-container .clickCaptcha .clickCaptcha_btn img{cursor:pointer}.nc-container .imgCaptcha{position:absolute;left:0;top:35px;height:auto;padding-bottom:15px;border:1px solid #ccc;background:#fff;}.nc-container .imgCaptcha div{position:static;width:90%;background-color:#fff}.nc-container .imgCaptcha,.nc-container .clickCaptcha{text-align:left;}.nc-container .imgCaptcha a,.nc-container .clickCaptcha a{color:#ff3f08}.nc-container .imgCaptcha .imgCaptcha_text{height:42px;line-height:42px;width:120px;background:#fff;font-size:14px;text-align:left;color:#747474;float:left;margin-left:10px;}.nc-container .imgCaptcha .imgCaptcha_text input{margin-top:5px;height:30px;line-height:30px;font-size:14px;width:90px;background:#fff}.nc-container .imgCaptcha .imgCaptcha_text input:focus{outline:none;color:#bbb}.nc-container .imgCaptcha .imgCaptcha_btn{margin:0 0 0 12px;*margin-left:0;clear:both;padding-top:5px;width:90%;}.nc-container .imgCaptcha .imgCaptcha_btn img{cursor:pointer}.nc-container .imgCaptcha .nc_scale_submit{margin:0 auto;cursor:pointer;background-color:#fc461e;width:120px;height:32px;line-height:32px;color:#fff;text-align:center}.nc-container .imgCaptcha .imgCaptcha_img{margin:4px 0 0 100px;height:40px;width:130px;overflow:hidden;cursor:pointer;}.nc-container .imgCaptcha .imgCaptcha_img img{width:130px}.nc-container .imgCaptcha .imgCaptcha_img input{border:solid 1px #ccc}.nc-lang-ar_MA,.nc-lang-ar_SA,.nc-lang-iw_HE,.nc-lang-iw_IL{text-align:right;*text-align:left;}.nc-lang-ar_MA .nc_scale .scale_text2,.nc-lang-ar_SA .nc_scale .scale_text2,.nc-lang-iw_HE .nc_scale .scale_text2,.nc-lang-iw_IL .nc_scale .scale_text2{text-align:right;}.nc-lang-ar_MA .nc_scale .scale_text2 span,.nc-lang-ar_SA .nc_scale .scale_text2 span,.nc-lang-iw_HE .nc_scale .scale_text2 span,.nc-lang-iw_IL .nc_scale .scale_text2 span{*display:inline-block;padding:0 56px 0 0}.nc-lang-ar_MA .nc_captcha_img_text,.nc-lang-ar_SA .nc_captcha_img_text,.nc-lang-iw_HE .nc_captcha_img_text,.nc-lang-iw_IL .nc_captcha_img_text{*text-align:right}.nc-lang-ar_MA span.nc-lang-cnt,.nc-lang-ar_SA span.nc-lang-cnt,.nc-lang-iw_HE span.nc-lang-cnt,.nc-lang-iw_IL span.nc-lang-cnt{text-align:right;direction:rtl}.nocaptcha span.nc-lang-cnt{float:none;height:auto;line-height:30px}.nc-container{font-size:12px;-ms-touch-action:none;touch-action:none;}.nc-container p{margin:0;padding:0;display:inline}.nc-container .scale_text.scale_text span[data-nc-lang="_startTEXT"]{display:inline-block;width:100%}.nc-container .scale_text.scale_text.slidetounlock span[data-nc-lang="_startTEXT"]{background:-webkit-gradient(linear,left top,right top,color-stop(0,#4d4d4d),color-stop(.4,#4d4d4d),color-stop(.5,#fff),color-stop(.6,#4d4d4d),color-stop(1,#4d4d4d));-webkit-background-clip:text;-webkit-text-fill-color:transparent;-webkit-animation:slidetounlock 3s infinite;-webkit-text-size-adjust:none}.nc-container .nc_scale .nc-align-center.scale_text2{text-align:center;text-indent:-42px}@-webkit-keyframes slidetounlock{0%{background-position:-200px 0}100%{background-position:200px 0}}.nc-container.tb-login .clickCaptcha_text .icon_close{line-height:30px;margin-left:0;cursor:default;color:#ff3f08;font-size:16px;float:left;margin-right:0;background:transparent;z-index:3}.nc-container.tb-login{position:relative;margin-top:20px;display:none;}.nc-container.tb-login .nc_scale{width:auto;}.nc-container.tb-login .nc_scale .scale_text2{text-indent:-42px;text-align:center;}.nc-container.tb-login .nc_scale .scale_text2 b{padding:0}.nc-container.tb-login .nc_scale.nc_err div.scale_text{background:#f79977}.nc-container.tb-login .errloading{width:auto}.nc-container.tb-login .imgCaptcha,.nc-container.tb-login .clickCaptcha{width:252px;*width:256px;border:0;*height:300px;min-height:300px;max-height:inherit !important;}.nc-container.tb-login .imgCaptcha div.login-msg.error,.nc-container.tb-login .clickCaptcha div.login-msg.error{background:#fff2f2}.nc-container.tb-login .imgCaptcha .captcha-error,.nc-container.tb-login .clickCaptcha .captcha-error{position:absolute;top:0;width:244px;height:auto;margin-bottom:15px;padding:3px;border:solid 1px #ff8e8e;line-height:18px}.nc-container.tb-login .imgCaptcha .captcha-inform,.nc-container.tb-login .clickCaptcha .captcha-inform{font-size:110%;margin-left:20px}.nc-container.tb-login .imgCaptcha{padding-top:66px;}.nc-container.tb-login .imgCaptcha .imgCaptcha_text{width:100px;margin-left:0;}.nc-container.tb-login .imgCaptcha .imgCaptcha_text input:focus{color:#000}.nc-container.tb-login .imgCaptcha .imgCaptcha_img{width:120px;_width:100px}.nc-container.tb-login .imgCaptcha .imgCaptcha_btn{width:100%;margin-left:0}.nc-container.tb-login .imgCaptcha .nc_scale_submit{width:100%;height:36px;line-height:36px;margin-top:20px;margin-left:0;border-radius:3px;font-size:16px;font-family:Tahoma,Helvetica,Arial,sans-serif;background:#ff3f08}.nc-container.tb-login .clickCaptcha{padding-top:40px;}.nc-container.tb-login .clickCaptcha .clickCaptcha_text{text-indent:4px}.nc-container.tb-login .clickCaptcha .clickCaptcha_img img{margin-left:10px}.nc-container.tb-login .nc_btn_1{top:77px;_top:57px}.nc-container.tb-login .nc_btn_2{top:36px}.login .nc-container.tb-login .login-msg p,.login-box .nc-container.tb-login .login-msg p{width:auto;float:left}.nc-container.tb-login.nc-old-login{margin:20px 0 10px 0;width:250px;}.nc-container.tb-login.nc-old-login .nc_wrapper{width:250px}.nc-container.tb-login.nc-old-login .imgCaptcha,.nc-container.tb-login.nc-old-login .clickCaptcha{width:250px;min-height:auto;}.nc-container.tb-login.nc-old-login .imgCaptcha .captcha-error,.nc-container.tb-login.nc-old-login .clickCaptcha .captcha-error{line-height:16px}.nc-container.tb-login.nc-old-login .clickCaptcha{padding-top:28px;}.nc-container.tb-login.nc-old-login .clickCaptcha .clickCaptcha_img img{width:200px;height:200px}.nc-container.nc-old-login.show-click-captcha{padding-bottom:60px}.nc-container.nc-old-login.show-click-captcha.nc-tm-min-fix{padding-bottom:40px}.nc-container.tb-login.nc-tm-min-fix .clickCaptcha{max-height:340px !important}#content .login-box .bd .nc-container.tb-login .login-msg{margin:10px auto 15px auto}#content .login-box .bd .nc-container.tb-login.nc-old-login.show-click-captcha .login-msg{margin:2px 0 0 0}.nc-container .nc_scale .nc-cc{display:none;position:absolute;left:0;top:35px;z-index:20000;width:360px;height:570px;border:1px solid #5eaef1;border-radius:4px;background:#fff;font-size:14px;line-height:18px;color:#333;}.nc-container .nc_scale .nc-cc.nc-cc-status-loading .nc-cc-btn,.nc-container .nc_scale .nc-cc.nc-cc-status-verifing .nc-cc-btn{background-color:#90c1eb}.nc-container .nc_scale .nc-cc.nc-cc-status-loading .nc-cc-btn,.nc-container .nc_scale .nc-cc.nc-cc-status-verifing .nc-cc-btn,.nc-container .nc_scale .nc-cc.nc-cc-status-loading .nc-cc-refresh,.nc-container .nc_scale .nc-cc.nc-cc-status-verifing .nc-cc-refresh{cursor:default}.nc-container .nc_scale .nc-cc.nc-cc-status-loading .nc-cc-refresh,.nc-container .nc_scale .nc-cc.nc-cc-status-verifing .nc-cc-refresh{color:#999}.nc-container .nc_scale .nc-cc a{color:#3199f4;text-decoration:none}.nc-container .nc_scale .nc-cc .nc_iconfont{vertical-align:top;margin-right:8px}.nc-container .nc_scale .nc-cc-btn{display:inline-block;*display:inline;*zoom:1;vertical-align:top;letter-spacing:normal;word-spacing:normal;width:100px;line-height:30px;text-align:center;background-color:#3199f4;color:#fff;border-radius:4px;cursor:pointer;}.nc-container .nc_scale .nc-cc-btn.nc-cc-disabled{background-color:#90c1eb;cursor:default}.nc-container .nc_scale .nc-cc-btn .nc-lang-cnt{line-height:18px}.nc-container .nc_scale .nc-cc-header{padding:20px 20px 19px 20px;height:100px;background:#f4f8fa;border-bottom:1px solid #ccc}.nc-container .nc_scale .nc-cc-img1-box{float:left;width:100px;height:100px;margin-right:16px}.nc-container .nc_scale .nc-cc-txt{overflow:hidden;*zoom:1;line-height:30px;padding-top:11px}.nc-container .nc_scale .nc-cc-img2-box{position:relative;padding:0 20px;margin-top:20px}.nc-container .nc_scale .nc-cc-items{position:absolute;left:20px;_left:0;top:0;width:320px;overflow:hidden}.nc-container .nc_scale .nc-cc-items-inner{margin-right:-20px}.nc-container .nc_scale .nc-cc-item{position:relative;display:inline-block;*display:inline;*zoom:1;vertical-align:top;letter-spacing:normal;word-spacing:normal;margin-right:10px;margin-bottom:10px;border:1px solid #ccc;width:98px;height:98px;background:url("//gtms02.alicdn.com/tps/i2/T1ty2QFNNXXXc6Yc2r-1-1.gif");}.nc-container .nc_scale .nc-cc-item:hover{border-color:#3199f4}.nc-container .nc_scale .nc-cc-item .nc_iconfont{display:none;position:absolute;right:0;bottom:0;color:#3199f4;font-size:22px;margin-right:0}.nc-container .nc_scale .nc-cc-item.nc-cc-selected .nc_iconfont{display:block}.nc-container .nc_scale .nc-cc-tip{display:none;position:absolute;left:0;bottom:60px;width:360px;line-height:18px;text-align:center;color:#eb4f38;}.nc-container .nc_scale .nc-cc-tip span{line-height:normal}.nc-container .nc_scale .nc-cc-footer{position:absolute;left:0;bottom:20px;width:360px;height:30px;line-height:30px;text-align:center;}.nc-container .nc_scale .nc-cc-footer .nc_iconfont{color:#c4cbd0}.nc-container .nc_scale .nc-cc-refresh,.nc-container .nc_scale .nc-cc-wait{position:absolute;left:20px;top:0;color:#3199f4;cursor:pointer}.nc-container .nc_scale .nc-cc-wait{display:none}.nc-container .nc_scale .nc-cc-cancel{position:absolute;right:20px;top:0;color:#3199f4;cursor:pointer;}.nc-container .nc_scale .nc-cc-cancel .nc_iconfont{position:relative;top:-1px}.nc-container .nc_scale .nc-cc-loading{margin-top:247px;text-align:center;line-height:14px}.nc-container .nc_scale .nc-cc-loading-img{display:inline-block;*display:inline;*zoom:1;vertical-align:top;letter-spacing:normal;word-spacing:normal;vertical-align:middle;background:url("//img.alicdn.com/tps/TB1OdxsKpXXXXcgXFXXXXXXXXXX-14-14.gif") no-repeat;width:14px;height:14px;position:relative;top:-1px;margin-right:9px}.nc-container .nc_scale .nc-cc-fail{position:absolute;left:50%;top:50%;width:320px;height:180px;margin-left:-160px;margin-top:-90px;background:#fff;border-radius:4px}.nc-container .nc_scale .nc-cc-fail-inner{text-align:center;padding:55px 10px 10px}.nc-container .nc_scale .nc-cc-fail-action{margin:28px 0 18px;}.nc-container .nc_scale .nc-cc-fail-action a{display:inline-block;*display:inline;*zoom:1;vertical-align:top;letter-spacing:normal;word-spacing:normal;line-height:30px;margin-left:16px}.nc-container .nc_scale .nc-cc-contact{text-align:right;color:#666;padding-right:9px}.nc-container .nc_scale .nc-cc-mask{display:none;position:absolute;left:0;top:0;width:360px;height:570px;background:rgba(0,0,0,0.3);filter:progid:DXImageTransform.Microsoft.gradient(enabled='true',startColorstr='#4C000000', endColorstr='#4C000000');}:root .nc-container .nc_scale .nc-cc-mask{-webkit-filter:none;filter:none}.nc-container .nc_scale .nc-cc-arrow-1,.nc-container .nc_scale .nc-cc-arrow-2{display:none;position:absolute;top:340px;border:solid transparent;height:0;width:0}.nc-container .nc_scale .nc-cc-arrow-1{border-width:16px;margin-top:-1px}.nc-container .nc_scale .nc-cc-arrow-2{border-width:15px}.nc-container .nc_scale .nc-cc-right .nc-cc-arrow-1,.nc-container .nc_scale .nc-cc-left .nc-cc-arrow-1,.nc-container .nc_scale .nc-cc-right .nc-cc-arrow-2,.nc-container .nc_scale .nc-cc-left .nc-cc-arrow-2{display:block;_display:none}.nc-container .nc_scale .nc-cc-right{left:180px;top:-339px;}.nc-container .nc_scale .nc-cc-right .nc-cc-arrow-1{border-right-color:#5eaef1;left:-32px}.nc-container .nc_scale .nc-cc-right .nc-cc-arrow-2{border-right-color:#fff;left:-30px}.nc-container .nc_scale .nc-cc-left{left:-335px;top:-339px;}.nc-container .nc_scale .nc-cc-left .nc-cc-arrow-1{border-left-color:#5eaef1;right:-32px}.nc-container .nc_scale .nc-cc-left .nc-cc-arrow-2{border-left-color:#fff;right:-30px}</style><style></style></head>

<body>
<img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/share_default.jpg" border="0" style="width:0; height:0; position:absolute;">
<div class="Content-box" style="min-height: 637px;">
    
<div class="Content detail-content-new">
    <!--关注-->
    <div class="fixtitle">
        <div class="clearfix Page">
            <h3 class="fl title">使用OpenSSL实现CA证书的搭建过程</h3>
            <div class="messbox fr">
                                                            <a id="checkFollow1_6217242" class="follow-1 checkFollow on">关注</a>
                                                    <a href="https://blog.51cto.com/xiaoshuaigege" class="name" target="_blank" title="Eumenides_s">Eumenides_s</a>
                <strong>
                    <a href="https://blog.51cto.com/xiaoshuaigege" class="avatar" target="_blank">
                        <img class="is-vip-img is-vip-img-4" data-uid="6217242" src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/wKioL1ngd9qznignAAAZM1-1ZP4926_small.jpg">
                    </a>
                </strong>
            </div>
        </div>
    </div>

    <!--左边悬浮操作项-->
    <aside class="action-aside action-aside-left">
        <div class="inner">
            <ul><li class="directoryBtn"><strong><a href="javascript:;" class="arrowing"><i class="iconblog bloggengduo"></i></a><span>目录</span></strong></li>
                                <li>
                    <strong class="is-praise  " type="1" blog_id="1965113" userid="6217242">
                        <a href="javascript:;"><i></i></a>
                        <span><b class="praise-num">2</b>赞</span>
                    </strong>
                </li>
                <li>
                    <strong class="favorites-opt ">
                        <a href="javascript:;"><i></i></a>
                        <span><b class="favorites-num">4</b>收藏</span>
                    </strong>
                </li>
                <li>
                    <strong class="Topraise">
                        <a href="javascript:;"><i class="iconblog blogpinglun"></i></a>
                        <span><b class="comments_num"></b>评论</span>
                    </strong>
                </li>
                <li class="share">
                    <strong class="">
                        <a href="javascript:;"><i class="iconblog blogfen"></i></a>
                        <span>分享</span>
                    </strong>
                    <div class="bdsharebuttonbox">
                        <div class="ins">
                            <a class="bds_tsina" data-cmd="tsina" rel="nofollow"><i class="iconblog blogfenxiangweibo"></i>微博</a>
                            <a class="bds_sqq" data-cmd="sqq" rel="nofollow"><i class="iconblog blogfenxiangqq"></i>QQ</a>
                            <a class="bds_weixin" data-cmd="weixin" rel="nofollow"><i class="iconblog blogfenxiangweixin"></i>微信</a>
                            <img src="https://blog.51cto.com/xiaoshuaigege/1965113">
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </aside>

    <!--大模块引入-->
    <div class="clearfix Page" id="page_center" style="position:relative;">
                <aside class="detail-content-directory common-content-directory">
     <!-- 文章目录 -->
     <section class="common-section common-spacing table-contents" style="background:none">
        <div class="clearfix common-sub-title">
            <strong title="文章目录">文章目录</strong>
            <i class="iconblog blogquxiao18" id="closeDirectory"></i>
        </div>
        <div class="directory" id="directory-parent2">
            <ul class="directory-list directory-list-left" id="directory-left">
                                                                   <li class="lv1 on">
                            <div class="title" title="实验环境的准备">
                                <span data-id="#h0">
                                                                        实验环境的准备                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="CA配置介绍">
                                <span data-id="#h1">
                                                                        CA配置介绍                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="创建所需要的文件">
                                <span data-id="#h2">
                                                                        创建所需要的文件                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="CA 自签名证书(构造根CA)">
                                <span data-id="#h3">
                                                                        CA 自签名证书(构造根CA)                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv4">
                            <div class="title" title="首先生成私钥文件">
                                <span data-id="#h4">
                                                                        首先生成私钥文件                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv4">
                            <div class="title" title="生成自签名证书">
                                <span data-id="#h5">
                                                                        生成自签名证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="颁发证书">
                                <span data-id="#h6">
                                                                        颁发证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv3">
                            <div class="title" title="子CA证书机构向根CA申请证书">
                                <span data-id="#h7">
                                                                        子CA证书机构向根CA申请证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv3">
                            <div class="title" title="普通用户向子CA机构，申请证书">
                                <span data-id="#h8">
                                                                        普通用户向子CA机构，申请证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="查看证书状态">
                                <span data-id="#h9">
                                                                        查看证书状态                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="吊销证书">
                                <span data-id="#h10">
                                                                        吊销证书                                </span>
                            </div>
                        </li>
                                                        </ul>
        </div>
    </section>
</aside>
                <article class="detail-content-left">
    <style>
    .hljs-center{
        text-align: center;
    }
    .hljs-right{
        text-align: right;
    }
    #result{
        overflow: auto;
    }
    .detail-content-left s{
        text-decoration: line-through;
    }
    .cto-mermaid{
        text-align: center;
    }
    .cto-mermaid svg{
        max-width: 100%;
    }
    #result img{
        height: auto;
    }
</style>

<div class="common-section common-spacing mb30 article-detail">
    <div class="title">
        <h1>使用OpenSSL实现CA证书的搭建过程</h1>
                                <span class="original">原创</span>
    </div>
    <div class="messbox">
        <p class="clearfix mess-line1">
            <a class="fl" href="https://blog.51cto.com/xiaoshuaigege">Eumenides_s</a>
            <time class="fl" pubdate="2017-09-14 08:49:23">2017-09-14 08:49:23</time>
                        <span class="fl">博主文章分类：<a href="https://blog.51cto.com/xiaoshuaigege/category2" target="_blank">Linux 学习</a></span>
                        <span class="fr" id="copyright-btn">©著作权</span>
        </p>
        <p class="clearfix mess-tag">
                        <strong class="fl">
                <em class="fl">文章标签</em>
                                    <a href="https://blog.51cto.com/topic/linux.html" class="fl" target="_blank">Linux</a>
                                    <a href="https://blog.51cto.com/topic/ca.html" class="fl" target="_blank"> CA</a>
                                    <a href="https://blog.51cto.com/topic/openssl.html" class="fl" target="_blank"> OpenSSL</a>
                            </strong>
                                    <strong class="fl">
                <em class="fl">文章分类</em>
                                <a href="https://blog.51cto.com/nav/linux" class="fl" target="_blank">Linux</a>
                                <a href="https://blog.51cto.com/nav/ops" class="fl" target="_blank">系统/运维</a>
                            </strong>
                    <strong class="fl"><em class="fl">阅读数</em><b class="fl">2591</b></strong></p>
    </div>
        <div class="copytext" id="copytext">
        ©著作权归作者所有：来自51CTO博客作者Eumenides_s的原创作品，请联系作者获取转载授权，否则将追究法律责任<br><a href="https://blog.51cto.com/xiaoshuaigege/1965113">使用OpenSSL实现CA证书的搭建过程</a><br><a href="https://blog.51cto.com/xiaoshuaigege/1965113">https://blog.51cto.com/xiaoshuaigege/1965113</a>    </div>
    <div class="article-content-wrap">
                    <div class="artical-content-bak main-content editor-side-new">
                <div class="con editor-preview-side" id="result"><span style="padding:0px;margin:0px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);">个人博客地址：</span><a rel="nofollow" href="http://www.pojun.tech/" style="white-space:normal;padding:0px;margin:0px;color:rgb(1,95,145);background-color:rgb(255,255,255);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;" target="_blank"><i class="iconblog bloglink" style="font-size:inherit;"></i>&nbsp;http://www.pojun.tech/</a><span style="padding:0px;margin:0px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);">&nbsp;欢迎访问</span>什么是CA<blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">CA,Catificate Authority,通俗的理解就是一种认证机制。它的作用就是提供证书（也就是服务端证书，由域名，公司信息，序列号，签名信息等等组成）来加强客户端与服务器端访问信息的安全性，同时提供证书的发放等相关工作。国内的大部分互联网公司都在国际CA机构申请了CA证书，并且在用户进行访问的时候，对用户的信息加密，保障了用户的信息安全。理论上来说，任何组织或者个人都可以扮演CA的角色，只不过，难以得到客户端的信任，不能推而广之，最典型应用莫过于12306网站，这个网站就是自己给自己颁发的根证书。<br>目前能够让浏览器默认支持的CA大厂有很多，Windows 操作系统在安装之初，也默认安装了很多受信任的根证书。可以通过控制面板–Internet选项来进行查看。</p></blockquote><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/windows 中预装的根证书.png" alt="使用OpenSSL实现CA证书的搭建过程_ CA" style="border:0px;vertical-align:middle;"></p>SSL/TLS<blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">SSL/TLS是网络通信过程中非常重要的两个协议。互联网的通信安全就建立在SSL/TLS协议基础之上。他们通过一系列的加密行为保障了通信的安全，是如今互联网通信最主要的应用之一。</p></blockquote><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">SSL/TLS是一个很大的互联网应用，关于他们的介绍互联网上有很多，我们暂时不做详细的介绍。关于SSL/TLS通信的过程大致可以用下面的这张图来进行描述。</p></blockquote><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/SSLTLS通信过程.png" alt="使用OpenSSL实现CA证书的搭建过程_Linux_02" style="border:0px;vertical-align:middle;"></p>OpenSSL<blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">OpenSSL是一套开源软件，在Linux中可以很容易的安装。它能够很容易的完成密钥生成以及证书管理。我们接下来就利用OpenSSL搭建CA证书，并实现证书的申请与分发。</p></blockquote>OpenSSL实现CA证书的搭建<blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><ul class="list-paddingleft-2"><li><p>实验环境的准备</p></li><li><p>CA的配置介绍</p></li><li><p>创建所需要的文件</p></li><li><p>CA 自签名证书</p></li><li><p>颁发证书</p></li><li><p>查看证书状态</p></li><li><p>证书吊销</p></li></ul></blockquote><h2 id="h0" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">实验环境的准备</h2><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">首先我们应该准备三个虚拟机，他们分别用来表示根CA证书机构，以及子CA证书机构，和证书申请用户。 那么问题来了，用户向子CA证书机构申请证书，子CA机构向根CA机构申请授权，根CA是如何取得证书的呢？答案是根CA自己给自己颁发的证书。 实验环境的拓扑结构如下图所示。</p></blockquote><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/CA实验环境示意图.png" alt="使用OpenSSL实现CA证书的搭建过程_ OpenSSL_03" style="border:0px;vertical-align:middle;"></p><h2 id="h1" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">CA配置介绍</h2><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">要手动创建CA证书，就必须首先了解，OpenSSL中关于CA的配置，配置文件位于下面的/etc/pki/tls/openssl.cnf</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_0" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_0">####################################################################
[ ca ]
default_ca= CA_default		#默认CA
####################################################################
[ CA_default ]
dir=/etc/pki/CA		 # CA的工作目录这里其实是定义了一个变量
certs= $dir/certs        # 证书存储路径
crl_dir= $dir/crl	 # 证书吊销列表
database= $dir/index.txt # 证书数据库列表

new_certs_dir= $dir/newcerts	#新的证书路径
certificate= $dir/cacert.pem 	# CA自己的证书
serial= $dir/serial 		#下一个证书的编号，十六进制，默认00
crlnumber= $dir/crlnumber	#下一个要被吊销的证书编号，十六进制，默认00
crl= $dir/crl.pem 		# The current CRL
private_key= $dir/private/cakey.pem # CA 的私钥
RANDFILE= $dir/private/.rand	# private random number file
x509_extensions	= usr_cert	# The extentions to add to the cert


# Comment out the following two lines for the "traditional"
# (and highly broken) format.
name_opt = ca_default		# 命名方式
cert_opt = ca_default		# CA的选项

# Extension copying option: use with caution.
# copy_extensions = copy


# Extensions to add to a CRL. Note: Netscape communicator chokes on V2 CRLs
# so this is commented out by default to leave a V1 CRL.
# crlnumber must also be commented out to leave a V1 CRL.
# crl_extensions= crl_ext
default_days= 365			# 默认证书的有效期限
default_crl_days= 30			# how long before next CRL
default_md= default		# use public key default MD
preserve= no			# keep passed DN ordering


# A few difference way of specifying how similar the request should look
# For type CA, the listed attributes must be the same, and the optional
# and supplied fields are just that :-)
policy= policy_match  	#策略
			#这里记录的是 将来CA在搭建的时候，以及客户端申请证书的时候，需要提交的信息的匹配程度。

# For the CA policy
[ policy_match ]			# match意味着CA以及子CA必须一致
countryName	= match			# 国家
stateOrProvinceName= match		# 州或者省
organizationName= match			#组织公司
organizationalUnitName	= optional
commonName= supplied
emailAddress= optional

# For the 'anything' policy
# At this point in time, you must list all acceptable 'object'
# types.
[ policy_anything ]		#可以对外提供证书申请，这时，证书的匹配就可以不用那么严格
countryName= optional
stateOrProvinceName= optional
localityName= optional
organizationName= optional
organizationalUnitName= optional
commonName= supplied
emailAddress= optional</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li><li>24.</li><li>25.</li><li>26.</li><li>27.</li><li>28.</li><li>29.</li><li>30.</li><li>31.</li><li>32.</li><li>33.</li><li>34.</li><li>35.</li><li>36.</li><li>37.</li><li>38.</li><li>39.</li><li>40.</li><li>41.</li><li>42.</li><li>43.</li><li>44.</li><li>45.</li><li>46.</li><li>47.</li><li>48.</li><li>49.</li><li>50.</li><li>51.</li><li>52.</li><li>53.</li><li>54.</li><li>55.</li><li>56.</li><li>57.</li><li>58.</li><li>59.</li><li>60.</li><li>61.</li><li>62.</li><li>63.</li><li>64.</li><li>65.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><h2 id="h2" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">创建所需要的文件</h2><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:10.5px;">这里有一点需要注意，我们的实验环境中包含了三个主机，其中两个的角色是作为CA认证机构存在的，所以创建所需要的文件的时候，主机A和主机B都需要创建。 如果不提前创建这两个文件，那么在生成证书的过程中会出现错误。 我们将文件创建在配置文件中指定的路径下面。</p><ul class="list-paddingleft-2"><li><p>生成证书索引数据库文件&nbsp;<code class="highlighter-rouge" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;">touch /etc/pki/CA/index.txt</code></p></li><li><p>指定第一个颁发证书的序列号&nbsp;<code class="highlighter-rouge" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;">echo 01 &gt; /etc/pki/CA/serial</code></p></li></ul></blockquote><h2 id="h3" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">CA 自签名证书(构造根CA)</h2><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">首先构造根CA的证书。因为没有任何机构能够给根CA颁发证书，所以只能根CA自己给自己颁发证书。</p></blockquote><h4 id="h4" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">首先生成私钥文件</h4><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">私钥文件是非常重要的文件，除了自己本身以外，其他任何人都不能取得。所以在生成私钥文件的同时最好修改该文件的权限，并且采用加密的形式进行生成。</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_1" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_1"># 执行命令生成私钥文件。
# 采用了des3的方式对私钥文件进行了加密
# 同时临时指定了umask ，使得生成的私钥文件只对自己具有读写权限。
[root@localhost ~]#(umask 066;openssl genrsa -out /etc/pki/CA/private/cakey.pem -des3 2048 )
Generating RSA private key, 2048 bit long modulus
...............+++
.......................................+++
e is 65537 (0x10001)
Enter pass phrase for /etc/pki/CA/private/cakey.pem:	#这里需要输入密码
Verifying - Enter pass phrase for /etc/pki/CA/private/cakey.pem:	#这里确认密码

#  查看一个生成的私钥文件，就会发现已经被加密了
[root@localhost ~]#cat /etc/pki/CA/private/cakey.pem
-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: DES-EDE3-CBC,A4FB61EACD1544F2

9JrKVEPhnWhx1W+W1V4PdIvVHNDwb8mb0JYILvXZKc07gvNcYKIlvUoTxjtihbpk
wYQcVm0Z6b2+fjZBXVVR9igFB2OOE74BnSNMsbfPTs5W/SwWLxv0R6x0SbiZ8v/7
D6Qh3u/rXmOQWWTvQnLzh6JaT00c8zgUnn48vMev17Xyg32oJqKqJVL5RNBGmJur
6CaWX8mB5q+HYiBUXzNLQp9T3HNGcnmDNyk0gylEvjeJo3Hq+IOAkjfJE4sYO9ER
tQtsLViFUc5jXX7p0nIO0ANwE7zdjBt9I4aXknZiC4rFYJJtNSa1Wrhoo/MhuwWH
zjc4UyoB1C71sbq2LMgeElHhXN/TfqWGfXFqhkyBJwgrmzQibOJSFeWHZNurILof
UwgNLlABmazvIL5Ps6LgZtyrO2ODSDTzPiCO7kQ0S3mTHYk9+WEeEyMb4uum6oAx
oCofADL0wea+5mHVUA2s6KwRBFr01HiQ00fiul6LFvXdCwt9IL62blIJYn2veQHl
oPvC5cTnPVqJ28GJWbPvJjiOLB8Hh+4DPwxaRA1eYf2R9SR0R1SYJIBTI6NNqNwW
Lq+pD89bGCbFdYID+kAZfG27FonmmLvvhTn3jQKVPpwQBROHQ9gpwMLnpmpJWwNK
byUSit+Vt+mvbzOLjuTdsTzklwZEOkNpaE/jTqusWuhXS33D4bqA+Ws+xNVDnx6e
rbrGcbX9skXyti21oEIYem0H37ZS2fV9z+/CM/55maOX5xNVQ4aDxWuiMyyUd03D
nhhM5A4mcDvIZLpWDbHzjtkl2H9Pnb9fvGzOIOm7lVQrX8BdidpWjwGTLYG/zUX5
i9NimSnoiqgkhEYl8KXzbnMfD4hX69BXI7le5HAaS38wDKPsmRRW/dgGfRNKzfTZ
qmBimscMsllz21QnG9eqineFDdexGZw1oEQsHp2CivtEwaIKTqOZfNiwHJvm1cbz
M0NOgs+r2qze0czV9dTqM5pVND1Iac1DXYflYZ9g54riQNre/sHp1qpdNQHRRMTP
yTFnGsEfWmI4V4HiSrdQpyHIrnFUryse9kJmRKDfQK7icUf5/KrOD4FOS5zsHrep
/cE14w7s0Zqko9upkYQNBys5TbBmAK8yVJ/Zq7jU3qjDxkYNddpOt8k33vl9CG53
OeWxcWOzJCHIOjakJlLnS+XitsSY4hzUlfEO0/Ffi99zyHXybNPws5Og4KNfgcqW
ReG943oKc5qplfST2tr0K10ipD3WoV+lMbLugrwhfmVOyHGypfJhUMU0oKEjYPP3
JjHSiW0hrnNvrPQ4/mqSps3LyWYZWvH40N88U6dbxgbUgamXLHWtzJdyfBNii8uH
obtye7oeYpAzx0hNurXhpSoswFbxwU5u80eL0/YkfkzkL1P9vtMvDUw/TVNbwHVg
kTS9WEQA52XLMBtanzRzLGJVIXX6ODGgXt2Gql3KO1p43OyZq4Ksvyj8NuvdmBdO
y9SrMvv+cdOMmTkj4nmGBjqSDeFmrSSQf0HoUbfXXXw/RIW/gkcm4qPmNJXUolYp
WBOg5jT78pcJ2sRwb6YQDgC5HleBwuZujixUlKgdZxF1DEpJNBFnNDxq8yKadEzB
-----END RSA PRIVATE KEY-----</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li><li>24.</li><li>25.</li><li>26.</li><li>27.</li><li>28.</li><li>29.</li><li>30.</li><li>31.</li><li>32.</li><li>33.</li><li>34.</li><li>35.</li><li>36.</li><li>37.</li><li>38.</li><li>39.</li><li>40.</li><li>41.</li><li>42.</li><li>43.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><h4 id="h5" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">生成自签名证书</h4><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">私钥文件是非常重要的文件，除了自己本身以外，其他任何人都不能取得。所以在生成私钥文件的同时最好修改该文件的权限，并且采用加密的形式进行生成。</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_2" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_2"># 调用命令生成一个签名证书
# 生成证书的过程中需要输入之前设定的私钥的密码
# -new: 生成新证书签署请求
# -x509: 专用于CA生成自签证书
# -key: 生成请求时用到的私钥文件
# -days n：证书的有效期限
# -out /PATH/TO/SOMECERTFILE: 证书的保存路径
[root@localhost ~]#openssl req -new -x509 -key  /etc/pki/CA/private/cakey.pem -days 7300 -out  /etc/pki/CA/cacert.pem
Enter pass phrase for /etc/pki/CA/private/cakey.pem:
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [XX]:CN
State or Province Name (full name) []:shandong
Locality Name (eg, city) [Default City]:qingdao
Organization Name (eg, company) [Default Company Ltd]:pojun.tech
Organizational Unit Name (eg, section) []:opt
Common Name (eg, your name or your server's hostname) []:ca.pojun.tech
Email Address []:</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><h2 id="h6" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">颁发证书</h2><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">颁发证书这里我们将分成两个环节介绍，分别是 子CA证书机构向根CA证书机构申请证书以及普通用户向子CA证书机构申请证书。</p></blockquote><h3 id="h7" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">子CA证书机构向根CA申请证书</h3><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>A 在需要使用证书的主机上生成证书请求</strong></p><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">首先在B主机上生成私钥，这一个过程与前面根CA机构生成私钥的过程是一致的。</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_3" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_3"># 这次我们修改了私钥的长度
# 并且没有采用加密的方式生成
# 因为主机B是要作为子CA机构的形式存在，他也是一个CA，所以生成私钥的时候，就应该按照配置文件中指定的内容，生成cakey.pem
[root@centos6 pki]$(umask 066; openssl genrsa -out /etc/pki/CA/private/cakey.pem 1024)
Generating RSA private key, 1024 bit long modulus
......++++++
..............++++++
e is 65537 (0x10001)

# 查看私钥文件可以发现，没有了加密的标识
# 同时因为生成时指定了1024的长度，私钥的长度明显的变短了。
[root@centos6 ~]$cat /etc/pki/CA/private/cakey.pem
-----BEGIN RSA PRIVATE KEY-----
MIICXgIBAAKBgQCxLyAKQCkysisrsuou6oJFJHs/Gk9L406x6sON1a2JX3516FJ2
·····中间省略······
R1ogCVEZq36sgNYUwaT55gLKk5Ik5T6YQimy0bsvo5oQuw==
-----END RSA PRIVATE KEY-----</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">利用私钥文件，生成证书申请文件。</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_4" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_4"># 其实这里的时间是没有必要指定的。
# 因为证书的时间，是由颁发机构指定的，因此申请机构填写了时间也没用
# 其中有些信息必须要与根证书的内容相同因为在根证书的openssl.cnf文件中已经指定。
[root@centos6 tls]$openssl req -new -key /etc/pki/CA/private/cakey.pem  -days 3650 -out /etc/pki/tls/subca.csr
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [XX]:CN
State or Province Name (full name) []:shandong
Locality Name (eg, city) [Default City]:qingdao
Organization Name (eg, company) [Default Company Ltd]:pojun.tech
Organizational Unit Name (eg, section) []:opt
Common Name (eg, your name or your server's hostname) []:subca.pojun.tech     
Email Address []:

# 这里的两步 默认也可以不用填
Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:123456
An optional company name []:magedu.com</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li><li>24.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>B 将证书的申请文件，传递给根CA</strong></p><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">将前一步生成的证书的申请文件，传递给根CA机构</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_5" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_5"># 最好将申请文件，传输到指定的目录下，这样便于管理
[root@centos6 tls]$scp /etc/pki/tls/subca.csr  172.18.253.127:/etc/pki/CA</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>C CA颁发证书</strong></p><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">此时切换到根CA主机，生成证书</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_6" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_6"># 这里的时间必须要进行指定。这时证书颁发机构指定的证书的有效期。
# [root@localhost CA]#openssl ca -in /etc/pki/CA/subca.csr -out /etc/pki/CA/certs/subca.crt -days 3650
Using configuration from /etc/pki/tls/openssl.cnf
Enter pass phrase for /etc/pki/CA/private/cakey.pem:
Check that the request matches the signature
Signature ok
Certificate Details:
        Serial Number: 1 (0x1)
        Validity
            Not Before: Sep 11 14:38:13 2017 GMT
            Not After : Sep 11 14:38:14 2018 GMT
        Subject:
            countryName               = CN
            stateOrProvinceName       = shandong
            organizationName          = pojun.tech
            organizationalUnitName    = opt
            commonName                = subca.pojun.tech
        X509v3 extensions:
            X509v3 Basic Constraints: 
                CA:FALSE
            Netscape Comment: 
                OpenSSL Generated Certificate
            X509v3 Subject Key Identifier: 
                DB:3E:9C:F4:F4:E9:42:15:00:E7:35:52:FE:04:9A:48:8C:BD:1A:1B
            X509v3 Authority Key Identifier: 
                keyid:01:17:F1:CB:91:4B:20:AD:C7:DF:13:05:A4:D8:83:B2:AB:75:D1:05

Certificate is to be certified until Sep 11 14:38:14 2018 GMT (3650 days)Sign the certificate? [y/n]:y


1 out of 1 certificate requests certified, commit? [y/n]y
Write out database with 1 new entries
Data Base Updated

#此时查看index.txt 文件中，会看到增加了一条新的记录。
[root@localhost CA]#cat index.txt
V	180911143814Z		01	unknown	/C=CN/ST=shandong/O=pojun.tech/OU=opt/CN=subca.pojun.tech</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li><li>24.</li><li>25.</li><li>26.</li><li>27.</li><li>28.</li><li>29.</li><li>30.</li><li>31.</li><li>32.</li><li>33.</li><li>34.</li><li>35.</li><li>36.</li><li>37.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>D 将根CA生成的证书颁发给请求者</strong></p><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_7" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_7"># 主机B是作为子CA机构存在的，所以证书文件，必须是cacert.pem，否则，子CA将不能够给其他用户颁发证书。
[root@localhost CA]#scp  /etc/pki/CA/certs/subca.crt 172.18.250.114:/etc/pki/CA/cacert.pem</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><h3 id="h8" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">普通用户向子CA机构，申请证书</h3><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">这一个过程，与子CA向根CA申请证书的过程是类似的。我们将命令的记录如下</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_8" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_8">#生成私钥文件
# 因为是普通用户，所以生成的私钥文件应该与之前的cacert.pem 有所区别 
[root@localhost ~]# (umask 066; openssl genrsa -out /etc/pki/tls/private/app.key 1024)

#利用私钥文件，生成证书申请文件
[root@localhost ~]# openssl req -new -key /etc/pki/tls/private/app.key  -out /etc/pki/tls/app.csr


# 将证书申请文件发送给 子CA证书颁发机构
[root@localhost ~]# scp /etc/pki/tls/app.csr  172.18.250.114:/etc/pki/CA

# 切换到子CA证书颁发机构
# 子CA证书颁发机构颁发证书
[root@centos6 CA]$openssl ca -in /etc/pki/CA/app.csr -out /etc/pki/CA/certs/app.crt -days 365

#将生成的证书传递给申请者
[root@centos6 CA]$scp /etc/pki/CA/certs/app.crt  172.18.253.58:/etc/pki/CA/certs/</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">这样，正常的证书颁发流程就算是完成了。将我们生成的根证书，子CA证书以及普通用户证书导出到Windows系统中，并安装，然后我们就可以看到，整个证书路径了。如下图所示。</p></blockquote><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/CA证书路径.png" alt="使用OpenSSL实现CA证书的搭建过程_ CA_04" style="border:0px;vertical-align:middle;"></p><h2 id="h9" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">查看证书状态</h2><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">查看证书状态，使用下面这条命令 ，可以查看证书的内容以及颁发者的多种信息。</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_9" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_9">openssl x509 -in /etc/pki/CA/cacert.pem -noout -text|issuer|subject|serial|dates

-text   证书的内容
-issuer 证书颁发者的信息
-subject  证书主体的信息
-serial	 证书的序列号信息
-dates 查看证书的时间


# 证书颁发者的信息
[root@localhost ~]#openssl x509 -in /etc/pki/CA/cacert.pem -noout -issuer
issuer= /C=CN/ST=shandong/L=qingdao/O=pojun.tech/OU=opt/CN=ca.pojun.tech

# 
[root@localhost ~]#openssl x509 -in /etc/pki/CA/cacert.pem -noout -subject
subject= /C=CN/ST=shandong/L=qingdao/O=pojun.tech/OU=opt/CN=ca.pojun.tech

# 证书的有效时间
[root@localhost ~]#openssl x509 -in /etc/pki/CA/cacert.pem -noout -dates
notBefore=Sep 11 13:43:42 2017 GMT
notAfter=Sep  6 13:43:42 2037 GMT


#也可以根据index.txt 文件中的证书编号，进行查看状态
[root@localhost ~]#openssl ca -status 01
Using configuration from /etc/pki/tls/openssl.cnf01=Valid (V)</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li><li>24.</li><li>25.</li><li>26.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><h2 id="h10" style="font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);">吊销证书</h2><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">这里我们将子CA的证书吊销掉。</p></blockquote><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>A 首先在子CA主机上获取到要吊销的证书的serial</strong></p><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">前面的例子中，我们的子CA证书的存放路径是<code class="highlighter-rouge" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;">&nbsp;/etc/pki/CA/certs/subca.crt</code></p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_10" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_10">[root@centos6 CA]$openssl x509 -in /etc/pki/CA/certs/subca.crt -noout -serial -subject
serial=01
subject= /C=CN/ST=shandong/O=pojun.tech/OU=opt/CN=subca.pojun.tech</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>B 在根CA上根据客户提交的serial与subject信息，对比检验是否与index.txt文件中的信息一致，然后吊销证书</strong></p><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_11" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_11">#进入到CA的路径下，查看文件目录
[root@localhost CA]#pwd
/etc/pki/CA

[root@localhost CA]#tree
.
├── cacert.pem
├── certs
│   └── subca.crt		# 这是直接颁发给子CA的证书文件├── crl
├── index.txt
├── index.txt.attr
├── index.txt.old
├── newcerts
│   └── 01.pem			#这个就是与子CA证书一致的Serial文件├── private
│   └── cakey.pem
├── serial
├── serial.old
└── subca.csr


# 吊销子CA的证书 使用revoke 命令
[root@localhost CA]#openssl ca -revoke /etc/pki/CA/newcerts/01.pem 
Using configuration from /etc/pki/tls/openssl.cnf
Enter pass phrase for /etc/pki/CA/private/cakey.pem:
Revoking Certificate 01.
Data Base Updated</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li><li>24.</li><li>25.</li><li>26.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>C 指定第一个吊销证书的编号</strong></p><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">指定吊销证书的编号，只有在更新证书吊销列表之前，才需要操作</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_12" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_12"># 这条命令与生成证书时指定证书serial 号码的作用是一致的。
# 就是说，指定下一个证书吊销时的编号。
[root@localhost ~]#echo 01 &gt; /etc/pki/CA/crlnumber
[root@localhost ~]#cat /etc/pki/CA/crlnumber
01</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>D 更新证书吊销列表</strong></p><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">前面指定了证书吊销列表编号之后，就可以来更新证书吊销列表了。</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_13" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_13">[root@localhost ~]#openssl ca -gencrl -out /etc/pki/CA/crl/crl.pem
Using configuration from /etc/pki/tls/openssl.cnf
Enter pass phrase for /etc/pki/CA/private/cakey.pem:   #这里提示输入密码</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">查看证书吊销列表的文件</p></blockquote><div class="code-toolbar"><div class="hljs-cto"><button data-clipboard-target="#code_id_14" class="copy_btn disable">登录后复制</button><div class="code-toolbar"><pre class="highlight prettyprint language-highli" style="font-family:Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);" tabindex="0"><code class=" has-numbering language-highli" id="code_id_14">[root@localhost ~]#openssl crl -in /etc/pki/CA/crl/crl.pem -noout -text
Certificate Revocation List (CRL):   #证书吊销列表
        Version 2 (0x1)
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: /C=CN/ST=shandong/L=qingdao/O=pojun.tech/OU=opt/CN=ca.pojun.tech
        Last Update: Sep 12 11:58:17 2017 GMT
        Next Update: Oct 12 11:58:17 2017 GMT
        CRL extensions:
            X509v3 CRL Number: 
                1
Revoked Certificates:					#这里的标识显示，证书已经被吊销了
    Serial Number: 01					#吊销的序列号
        Revocation Date: Sep 12 11:52:47 2017 GMT
    Signature Algorithm: sha256WithRSAEncryption
         b4:6e:f2:73:21:ed:c4:38:39:06:29:76:61:ac:d6:ee:a4:5d:
         e8:cb:7c:8b:f8:01:21:ba:bd:b2:46:fa:ea:bf:de:fa:6e:f6:
         85:d6:93:7c:81:b4:2d:d5:eb:c2:94:a3:6f:13:6d:f3:3f:48:
         56:85:72:96:cf:e0:ea:a9:0e:07:43:6d:62:2d:4d:e2:2e:b5:
         02:6a:27:7a:31:76:eb:4e:b1:d6:83:8b:d7:39:10:14:d6:94:
         77:4b:10:d8:24:46:95:1b:48:87:16:77:ce:8c:1b:54:2c:4d:
         ee:2f:24:13:10:62:30:32:74:9e:84:49:c9:dc:a9:fc:31:60:
         57:b5:43:7a:a3:09:75:60:1e:6a:f2:26:e9:54:37:2d:ce:0b:
         ac:b2:41:c2:d9:02:99:fc:a3:99:15:9c:10:a7:f4:be:08:83:
         23:ee:ef:74:83:ea:fd:f7:c9:e1:87:6f:9b:1d:c3:df:88:2d:
         79:2b:71:4b:9e:6f:ae:f9:08:d9:66:d4:f1:49:df:7e:89:99:
         06:a3:86:72:37:02:78:0f:16:e8:87:8a:61:5b:a3:ac:e2:46:
         38:ce:86:29:c9:c6:e5:8c:f8:25:2f:7e:d1:62:13:57:a3:a6:
         10:42:13:b9:e4:0b:fa:9f:f4:d0:95:9b:5d:9b:2d:38:7f:8d:
         ac:c0:e6:3f</code><ul class="pre-numbering" style=""><li>1.</li><li>2.</li><li>3.</li><li>4.</li><li>5.</li><li>6.</li><li>7.</li><li>8.</li><li>9.</li><li>10.</li><li>11.</li><li>12.</li><li>13.</li><li>14.</li><li>15.</li><li>16.</li><li>17.</li><li>18.</li><li>19.</li><li>20.</li><li>21.</li><li>22.</li><li>23.</li><li>24.</li><li>25.</li><li>26.</li><li>27.</li><li>28.</li><li>29.</li></ul></pre><div class="toolbar"></div></div></div><div class="toolbar"></div></div><blockquote style="padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><p style="margin-top:0px;margin-bottom:0px;">在实际的使用过程中，有很多这样的实例。例如我们经常使用的淘宝，在使用浏览器访问淘宝的时候，就可以查看淘宝的证书吊销列表。如下图所示。</p></blockquote><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/淘宝的证书吊销列表.png" alt="使用OpenSSL实现CA证书的搭建过程_ OpenSSL_05" style="border:0px;vertical-align:middle;"></p><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><strong>至此，关于自己搭建CA的过程基本上就完成了。熟悉了上面的操作之后，就可以自己动手简单的搭建一个证书了，然后也可以体验一下整个流程</strong></p>参考资料<p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><a rel="nofollow" href="http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html" style="color:rgb(0,127,255);" target="_blank"><i class="iconblog bloglink" style="font-size:inherit;"></i>&nbsp;http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html</a></p><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><a rel="nofollow" href="http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html" style="color:rgb(0,127,255);" target="_blank"><i class="iconblog bloglink" style="font-size:inherit;"></i>&nbsp;http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html</a></p><p style="margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);"><a rel="nofollow" href="http://kb.cnblogs.com/page/197396/" style="color:rgb(0,127,255);" target="_blank"><i class="iconblog bloglink" style="font-size:inherit;"></i>&nbsp;http://kb.cnblogs.com/page/197396/</a></p><p><br></p><p><br></p><p><span style="color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);">个人博客地址：</span><a rel="nofollow" href="http://www.pojun.tech/" style="padding:0px;margin:0px;color:rgb(1,95,145);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;white-space:normal;" target="_blank"><i class="iconblog bloglink" style="font-size:inherit;"></i>&nbsp;http://www.pojun.tech/</a><span style="color:rgb(51,51,51);font-family:&#39;Open Sans&#39;, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);">&nbsp;欢迎访问</span></p></div>
            </div>
		
        <div id="asideoffset"></div>
        <div class="clearfix label-list">

<!--            <span>本文包含：</span>-->
<!--          -->
<!--            <a href="" target="_blank"></a>-->

        </div>
    </div>
    <div class="action-box">
        <ul>
                        <li>
                <strong class="is-praise  " type="1" blog_id="1965113" userid="6217242">
                    <a href="javascript:;"><i></i></a>
                    <span><b class="praise-num">2</b>赞</span>
                </strong>
            </li>
            <li>
                <strong class="favorites-opt ">
                    <a href="javascript:;"><i></i></a>
                    <span><b class="favorites-num">4</b>收藏</span>
                </strong>
            </li>
            <li>
                <strong class="Topraise">
                    <a href="javascript:;"><i class="iconblog blogpinglun"></i></a>
                    <span><b class="comments_num"></b>评论</span>
                </strong>
            </li>
            <li class="share">
                <strong class="">
                    <a href="javascript:;"><i class="iconblog blogfen"></i></a>
                    <span>分享</span>
                </strong>
                <div class="bdsharebuttonbox">
                    <div class="ins">
                        <a class="bds_tsina" data-cmd="tsina" rel="nofollow"><i class="iconblog blogfenxiangweibo"></i>微博</a>
                        <a class="bds_sqq" data-cmd="sqq" rel="nofollow"><i class="iconblog blogfenxiangqq"></i>QQ</a>
                        <a class="bds_weixin" data-cmd="weixin" rel="nofollow"><i class="iconblog blogfenxiangweixin"></i>微信</a>
                        <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/qr-url">
                    </div>
                </div>
            </li>
                        <li>
                <strong class="article-report">
                    <a href="javascript:;"><i class="iconblog blogjubaobeifen report-icon" style="font-size: 23px"></i></a>
                    <span>举报</span>
                </strong>
            </li>
                    </ul>
    </div>
    <div class="clearfix lists">
                 <p class="fl"><span>上一篇：</span><a href="https://blog.51cto.com/xiaoshuaigege/1965112">Linux的启动流程(CentOS 7)</a></p>
                            <p class="fr"><span>下一篇：</span><a href="https://blog.51cto.com/xiaoshuaigege/1965114">SSH 端口转发实战</a></p>
            </div>
    <div class="text-aticle">

    </div>
</div>
<!-- 蒙层 -->
<div class="Mask"></div>

<div class="report-dialog-root">
    <div class="report-dialog-container">
        <p class="report-dialog-title">举报文章</p>
        <div class="report-type-container model-split_top" data-type="0" id="report-specific-type">
            <p class="report-type-tit">请选择举报类型</p>
            <div class="report-type-enmu">
                <span class="report-type-item type-item_first" data-type="1">内容侵权</span>
                <span class="report-type-item type-item_first item-split" data-type="2">涉嫌营销</span>
                <span class="report-type-item type-item_first item-split" data-type="3">内容抄袭</span>
                <span class="report-type-item type-item_first item-split" data-type="4">违法信息</span>
                <span class="report-type-item type-item_first item-split" data-type="5">其他</span>
            </div>
        </div>
        <div class="report-type-container model-split_top report-hide-model" id="report-specific-reasons" data-type="0">
            <p class="report-type-tit">具体原因</p>
            <div class="report-type-enmu">
                <span class="report-type-item type-item_second" data-type="1">包含不真实信息</span>
                <span class="report-type-item type-item_second item-split" data-type="2">涉及个人隐私</span>
            </div>
        </div>
        <div class="report-type-container model-split_top report-hide-model" id="report-original-link">
            <p class="report-type-tit">原文链接（必填）</p>
            <input type="text" placeholder="请输入被侵权的原文链接" class="report-orgin_input">
        </div>
        <div class="report-type-container model-split_top textarea-content">
            <p class="report-type-tit">补充说明</p>
            <textarea maxlength="200" class="report-reason_textarea" placeholder="请详细描述您的举报内容" id="report-more-info"></textarea>
            <p class="report-textarea-tip"><span class="tip-left">0</span><span>/200</span></p>
        </div>
        <div class="report-type-container">
            <p class="report-type-tit">上传截图</p>
            <div class="report-img-container">
                <i class="iconblog blogtianjiabeifen report-add-icon"></i>
                <input type="file" accept="image/jpg,image/jpeg,image/png" name="file" class="repot-btn-select" onchange="selectImg(this)">
            </div>
            <p class="report-img_rule">格式支持JPEG/PNG/JPG，图片不超过1.9M</p>
            <div class="report-img-show">
                <img src="https://blog.51cto.com/xiaoshuaigege/1965113" alt="" id="report-img">
                <div class="report-img-close">
                    <i class="iconblog bloga-shanchutupian report-close-icon"></i>
                </div>
            </div>
        </div>
        <div class="report-btn-container">
            <button class="report-btn-cancel">取消</button>
            <button class="report-btn-concert">确认</button>
        </div>
        <div class="report-warm-tip report-hide-model">
            已经收到您得举报信息，我们会尽快审核
        </div>
    </div>
</div>
<script>
  var writeMessage= "©著作权归作者所有：来自51CTO博客作者Eumenides_s的原创作品，请联系作者获取转载授权，否则将追究法律责任\r\n使用OpenSSL实现CA证书的搭建过程\r\nhttps:\/\/blog.51cto.com\/xiaoshuaigege\/1965113";
  var copyData='\r\n-----------------------------------\r\n'+writeMessage

 function copy(value, cb) {
  // 动态创建 textarea 标签
  const textarea = document.createElement('textarea')
  // 将该 textarea 设为 readonly 防止 iOS 下自动唤起键盘，同时将 textarea 移出可视区域
  textarea.readOnly = 'readonly'
  textarea.style.position = 'absolute'
  textarea.style.left = '-9999px'
  // 将要 copy 的值赋给 textarea 标签的 value 属性
  textarea.value = value
  // 将 textarea 插入到 body 中
  document.body.appendChild(textarea)
  // 选中值并复制
  textarea.select()
  textarea.setSelectionRange(0, textarea.value.length)
  document.execCommand('Copy')
  document.body.removeChild(textarea)
  if (cb && Object.prototype.toString.call(cb) === '[object Function]') {
    cb()
  }

}


  $('#result').on('copy', function (event) {
    if (!window.getSelection) {
      return
    }
    let copyString = window.getSelection().toString()
    if(isCodeCopy){
        return
    }
    if (copyString.length < 200) {
       copy(copyString)
      return
    }
    copyString=copyString+copyData
    copy(copyString)

  })
  $('#markdownContent').on('copy', function (event) {
    if (!window.getSelection) {
      return
    }

    let copyString = window.getSelection().toString()
     if(isCodeCopy){
        return
    }
    if (copyString.length < 200) {
      copy(copyString)
      return
    }
    copyString=copyString+copyData
    copy(copyString)


  })
    var is_old = "1"
    if(is_old == 0) {
        var reg=/<(h[1-4])([^>]*)>/g;
        var htmlData = CtoEditor.ctoEditor.mixins[0].data().markdownIt.render("\u003Cspan style=\u0022padding:0px;margin:0px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E个人博客地址：\u003C\/span\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.pojun.tech\/\u0022 style=\u0022white-space:normal;padding:0px;margin:0px;color:rgb(1,95,145);background-color:rgb(255,255,255);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.pojun.tech\/\u003C\/a\u003E\u003Cspan style=\u0022padding:0px;margin:0px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E\u0026nbsp;欢迎访问\u003C\/span\u003E什么是CA\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003ECA,Catificate Authority,通俗的理解就是一种认证机制。它的作用就是提供证书（也就是服务端证书，由域名，公司信息，序列号，签名信息等等组成）来加强客户端与服务器端访问信息的安全性，同时提供证书的发放等相关工作。国内的大部分互联网公司都在国际CA机构申请了CA证书，并且在用户进行访问的时候，对用户的信息加密，保障了用户的信息安全。理论上来说，任何组织或者个人都可以扮演CA的角色，只不过，难以得到客户端的信任，不能推而广之，最典型应用莫过于12306网站，这个网站就是自己给自己颁发的根证书。\u003Cbr \/\u003E目前能够让浏览器默认支持的CA大厂有很多，Windows 操作系统在安装之初，也默认安装了很多受信任的根证书。可以通过控制面板–Internet选项来进行查看。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/windows%20%E4%B8%AD%E9%A2%84%E8%A3%85%E7%9A%84%E6%A0%B9%E8%AF%81%E4%B9%A6.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ CA\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003ESSL\/TLS\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003ESSL\/TLS是网络通信过程中非常重要的两个协议。互联网的通信安全就建立在SSL\/TLS协议基础之上。他们通过一系列的加密行为保障了通信的安全，是如今互联网通信最主要的应用之一。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003ESSL\/TLS是一个很大的互联网应用，关于他们的介绍互联网上有很多，我们暂时不做详细的介绍。关于SSL\/TLS通信的过程大致可以用下面的这张图来进行描述。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/SSLTLS%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_Linux_02\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003EOpenSSL\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003EOpenSSL是一套开源软件，在Linux中可以很容易的安装。它能够很容易的完成密钥生成以及证书管理。我们接下来就利用OpenSSL搭建CA证书，并实现证书的申请与分发。\u003C\/p\u003E\u003C\/blockquote\u003EOpenSSL实现CA证书的搭建\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cul class=\u0022list-paddingleft-2\u0022\u003E\u003Cli\u003E\u003Cp\u003E实验环境的准备\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003ECA的配置介绍\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E创建所需要的文件\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003ECA 自签名证书\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E颁发证书\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E查看证书状态\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E证书吊销\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/blockquote\u003E\u003Ch2 id=\u0022h0\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E实验环境的准备\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E首先我们应该准备三个虚拟机，他们分别用来表示根CA证书机构，以及子CA证书机构，和证书申请用户。 那么问题来了，用户向子CA证书机构申请证书，子CA机构向根CA机构申请授权，根CA是如何取得证书的呢？答案是根CA自己给自己颁发的证书。 实验环境的拓扑结构如下图所示。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/CA%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83%E7%A4%BA%E6%84%8F%E5%9B%BE.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ OpenSSL_03\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003E\u003Ch2 id=\u0022h1\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003ECA配置介绍\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E要手动创建CA证书，就必须首先了解，OpenSSL中关于CA的配置，配置文件位于下面的\/etc\/pki\/tls\/openssl.cnf\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E####################################################################\n[\u0026nbsp;ca\u0026nbsp;]\ndefault_ca=\u0026nbsp;CA_default\t\t#默认CA\n####################################################################\n[\u0026nbsp;CA_default\u0026nbsp;]\ndir=\/etc\/pki\/CA\t\t\u0026nbsp;#\u0026nbsp;CA的工作目录这里其实是定义了一个变量\ncerts=\u0026nbsp;$dir\/certs\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;#\u0026nbsp;证书存储路径\ncrl_dir=\u0026nbsp;$dir\/crl\t\u0026nbsp;#\u0026nbsp;证书吊销列表\ndatabase=\u0026nbsp;$dir\/index.txt\u0026nbsp;#\u0026nbsp;证书数据库列表\n\nnew_certs_dir=\u0026nbsp;$dir\/newcerts\t#新的证书路径\ncertificate=\u0026nbsp;$dir\/cacert.pem\u0026nbsp;\t#\u0026nbsp;CA自己的证书\nserial=\u0026nbsp;$dir\/serial\u0026nbsp;\t\t#下一个证书的编号，十六进制，默认00\ncrlnumber=\u0026nbsp;$dir\/crlnumber\t#下一个要被吊销的证书编号，十六进制，默认00\ncrl=\u0026nbsp;$dir\/crl.pem\u0026nbsp;\t\t#\u0026nbsp;The\u0026nbsp;current\u0026nbsp;CRL\nprivate_key=\u0026nbsp;$dir\/private\/cakey.pem\u0026nbsp;#\u0026nbsp;CA\u0026nbsp;的私钥\nRANDFILE=\u0026nbsp;$dir\/private\/.rand\t#\u0026nbsp;private\u0026nbsp;random\u0026nbsp;number\u0026nbsp;file\nx509_extensions\t=\u0026nbsp;usr_cert\t#\u0026nbsp;The\u0026nbsp;extentions\u0026nbsp;to\u0026nbsp;add\u0026nbsp;to\u0026nbsp;the\u0026nbsp;cert\n\n\n#\u0026nbsp;Comment\u0026nbsp;out\u0026nbsp;the\u0026nbsp;following\u0026nbsp;two\u0026nbsp;lines\u0026nbsp;for\u0026nbsp;the\u0026nbsp;\u0022traditional\u0022\n#\u0026nbsp;(and\u0026nbsp;highly\u0026nbsp;broken)\u0026nbsp;format.\nname_opt\u0026nbsp;=\u0026nbsp;ca_default\t\t#\u0026nbsp;命名方式\ncert_opt\u0026nbsp;=\u0026nbsp;ca_default\t\t#\u0026nbsp;CA的选项\n\n#\u0026nbsp;Extension\u0026nbsp;copying\u0026nbsp;option:\u0026nbsp;use\u0026nbsp;with\u0026nbsp;caution.\n#\u0026nbsp;copy_extensions\u0026nbsp;=\u0026nbsp;copy\n\n\n#\u0026nbsp;Extensions\u0026nbsp;to\u0026nbsp;add\u0026nbsp;to\u0026nbsp;a\u0026nbsp;CRL.\u0026nbsp;Note:\u0026nbsp;Netscape\u0026nbsp;communicator\u0026nbsp;chokes\u0026nbsp;on\u0026nbsp;V2\u0026nbsp;CRLs\n#\u0026nbsp;so\u0026nbsp;this\u0026nbsp;is\u0026nbsp;commented\u0026nbsp;out\u0026nbsp;by\u0026nbsp;default\u0026nbsp;to\u0026nbsp;leave\u0026nbsp;a\u0026nbsp;V1\u0026nbsp;CRL.\n#\u0026nbsp;crlnumber\u0026nbsp;must\u0026nbsp;also\u0026nbsp;be\u0026nbsp;commented\u0026nbsp;out\u0026nbsp;to\u0026nbsp;leave\u0026nbsp;a\u0026nbsp;V1\u0026nbsp;CRL.\n#\u0026nbsp;crl_extensions=\u0026nbsp;crl_ext\ndefault_days=\u0026nbsp;365\t\t\t#\u0026nbsp;默认证书的有效期限\ndefault_crl_days=\u0026nbsp;30\t\t\t#\u0026nbsp;how\u0026nbsp;long\u0026nbsp;before\u0026nbsp;next\u0026nbsp;CRL\ndefault_md=\u0026nbsp;default\t\t#\u0026nbsp;use\u0026nbsp;public\u0026nbsp;key\u0026nbsp;default\u0026nbsp;MD\npreserve=\u0026nbsp;no\t\t\t#\u0026nbsp;keep\u0026nbsp;passed\u0026nbsp;DN\u0026nbsp;ordering\n\n\n#\u0026nbsp;A\u0026nbsp;few\u0026nbsp;difference\u0026nbsp;way\u0026nbsp;of\u0026nbsp;specifying\u0026nbsp;how\u0026nbsp;similar\u0026nbsp;the\u0026nbsp;request\u0026nbsp;should\u0026nbsp;look\n#\u0026nbsp;For\u0026nbsp;type\u0026nbsp;CA,\u0026nbsp;the\u0026nbsp;listed\u0026nbsp;attributes\u0026nbsp;must\u0026nbsp;be\u0026nbsp;the\u0026nbsp;same,\u0026nbsp;and\u0026nbsp;the\u0026nbsp;optional\n#\u0026nbsp;and\u0026nbsp;supplied\u0026nbsp;fields\u0026nbsp;are\u0026nbsp;just\u0026nbsp;that\u0026nbsp;:-)\npolicy=\u0026nbsp;policy_match\u0026nbsp;\u0026nbsp;\t#策略\n\t\t\t#这里记录的是\u0026nbsp;将来CA在搭建的时候，以及客户端申请证书的时候，需要提交的信息的匹配程度。\n\n#\u0026nbsp;For\u0026nbsp;the\u0026nbsp;CA\u0026nbsp;policy\n[\u0026nbsp;policy_match\u0026nbsp;]\t\t\t#\u0026nbsp;match意味着CA以及子CA必须一致\ncountryName\t=\u0026nbsp;match\t\t\t#\u0026nbsp;国家\nstateOrProvinceName=\u0026nbsp;match\t\t#\u0026nbsp;州或者省\norganizationName=\u0026nbsp;match\t\t\t#组织公司\norganizationalUnitName\t=\u0026nbsp;optional\ncommonName=\u0026nbsp;supplied\nemailAddress=\u0026nbsp;optional\n\n#\u0026nbsp;For\u0026nbsp;the\u0026nbsp;\u0027anything\u0027\u0026nbsp;policy\n#\u0026nbsp;At\u0026nbsp;this\u0026nbsp;point\u0026nbsp;in\u0026nbsp;time,\u0026nbsp;you\u0026nbsp;must\u0026nbsp;list\u0026nbsp;all\u0026nbsp;acceptable\u0026nbsp;\u0027object\u0027\n#\u0026nbsp;types.\n[\u0026nbsp;policy_anything\u0026nbsp;]\t\t#可以对外提供证书申请，这时，证书的匹配就可以不用那么严格\ncountryName=\u0026nbsp;optional\nstateOrProvinceName=\u0026nbsp;optional\nlocalityName=\u0026nbsp;optional\norganizationName=\u0026nbsp;optional\norganizationalUnitName=\u0026nbsp;optional\ncommonName=\u0026nbsp;supplied\nemailAddress=\u0026nbsp;optional\u003C\/pre\u003E\u003Ch2 id=\u0022h2\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E创建所需要的文件\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;\u0022\u003E这里有一点需要注意，我们的实验环境中包含了三个主机，其中两个的角色是作为CA认证机构存在的，所以创建所需要的文件的时候，主机A和主机B都需要创建。 如果不提前创建这两个文件，那么在生成证书的过程中会出现错误。 我们将文件创建在配置文件中指定的路径下面。\u003C\/p\u003E\u003Cul class=\u0022list-paddingleft-2\u0022\u003E\u003Cli\u003E\u003Cp\u003E生成证书索引数据库文件\u0026nbsp;\u003Ccode class=\u0022highlighter-rouge\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\u0022\u003Etouch \/etc\/pki\/CA\/index.txt\u003C\/code\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E指定第一个颁发证书的序列号\u0026nbsp;\u003Ccode class=\u0022highlighter-rouge\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\u0022\u003Eecho 01 \u0026gt; \/etc\/pki\/CA\/serial\u003C\/code\u003E\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/blockquote\u003E\u003Ch2 id=\u0022h3\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003ECA 自签名证书(构造根CA)\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E首先构造根CA的证书。因为没有任何机构能够给根CA颁发证书，所以只能根CA自己给自己颁发证书。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ch4 id=\u0022h4\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E首先生成私钥文件\u003C\/h4\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E私钥文件是非常重要的文件，除了自己本身以外，其他任何人都不能取得。所以在生成私钥文件的同时最好修改该文件的权限，并且采用加密的形式进行生成。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;执行命令生成私钥文件。\n#\u0026nbsp;采用了des3的方式对私钥文件进行了加密\n#\u0026nbsp;同时临时指定了umask\u0026nbsp;，使得生成的私钥文件只对自己具有读写权限。\n[root@localhost\u0026nbsp;~]#(umask\u0026nbsp;066;openssl\u0026nbsp;genrsa\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;-des3\u0026nbsp;2048\u0026nbsp;)\nGenerating\u0026nbsp;RSA\u0026nbsp;private\u0026nbsp;key,\u0026nbsp;2048\u0026nbsp;bit\u0026nbsp;long\u0026nbsp;modulus\n...............+++\n.......................................+++\ne\u0026nbsp;is\u0026nbsp;65537\u0026nbsp;(0x10001)\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\t#这里需要输入密码\nVerifying\u0026nbsp;-\u0026nbsp;Enter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\t#这里确认密码\n\n#\u0026nbsp;\u0026nbsp;查看一个生成的私钥文件，就会发现已经被加密了\n[root@localhost\u0026nbsp;~]#cat\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\n-----BEGIN\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\nProc-Type:\u0026nbsp;4,ENCRYPTED\nDEK-Info:\u0026nbsp;DES-EDE3-CBC,A4FB61EACD1544F2\n\n9JrKVEPhnWhx1W+W1V4PdIvVHNDwb8mb0JYILvXZKc07gvNcYKIlvUoTxjtihbpk\nwYQcVm0Z6b2+fjZBXVVR9igFB2OOE74BnSNMsbfPTs5W\/SwWLxv0R6x0SbiZ8v\/7\nD6Qh3u\/rXmOQWWTvQnLzh6JaT00c8zgUnn48vMev17Xyg32oJqKqJVL5RNBGmJur\n6CaWX8mB5q+HYiBUXzNLQp9T3HNGcnmDNyk0gylEvjeJo3Hq+IOAkjfJE4sYO9ER\ntQtsLViFUc5jXX7p0nIO0ANwE7zdjBt9I4aXknZiC4rFYJJtNSa1Wrhoo\/MhuwWH\nzjc4UyoB1C71sbq2LMgeElHhXN\/TfqWGfXFqhkyBJwgrmzQibOJSFeWHZNurILof\nUwgNLlABmazvIL5Ps6LgZtyrO2ODSDTzPiCO7kQ0S3mTHYk9+WEeEyMb4uum6oAx\noCofADL0wea+5mHVUA2s6KwRBFr01HiQ00fiul6LFvXdCwt9IL62blIJYn2veQHl\noPvC5cTnPVqJ28GJWbPvJjiOLB8Hh+4DPwxaRA1eYf2R9SR0R1SYJIBTI6NNqNwW\nLq+pD89bGCbFdYID+kAZfG27FonmmLvvhTn3jQKVPpwQBROHQ9gpwMLnpmpJWwNK\nbyUSit+Vt+mvbzOLjuTdsTzklwZEOkNpaE\/jTqusWuhXS33D4bqA+Ws+xNVDnx6e\nrbrGcbX9skXyti21oEIYem0H37ZS2fV9z+\/CM\/55maOX5xNVQ4aDxWuiMyyUd03D\nnhhM5A4mcDvIZLpWDbHzjtkl2H9Pnb9fvGzOIOm7lVQrX8BdidpWjwGTLYG\/zUX5\ni9NimSnoiqgkhEYl8KXzbnMfD4hX69BXI7le5HAaS38wDKPsmRRW\/dgGfRNKzfTZ\nqmBimscMsllz21QnG9eqineFDdexGZw1oEQsHp2CivtEwaIKTqOZfNiwHJvm1cbz\nM0NOgs+r2qze0czV9dTqM5pVND1Iac1DXYflYZ9g54riQNre\/sHp1qpdNQHRRMTP\nyTFnGsEfWmI4V4HiSrdQpyHIrnFUryse9kJmRKDfQK7icUf5\/KrOD4FOS5zsHrep\n\/cE14w7s0Zqko9upkYQNBys5TbBmAK8yVJ\/Zq7jU3qjDxkYNddpOt8k33vl9CG53\nOeWxcWOzJCHIOjakJlLnS+XitsSY4hzUlfEO0\/Ffi99zyHXybNPws5Og4KNfgcqW\nReG943oKc5qplfST2tr0K10ipD3WoV+lMbLugrwhfmVOyHGypfJhUMU0oKEjYPP3\nJjHSiW0hrnNvrPQ4\/mqSps3LyWYZWvH40N88U6dbxgbUgamXLHWtzJdyfBNii8uH\nobtye7oeYpAzx0hNurXhpSoswFbxwU5u80eL0\/YkfkzkL1P9vtMvDUw\/TVNbwHVg\nkTS9WEQA52XLMBtanzRzLGJVIXX6ODGgXt2Gql3KO1p43OyZq4Ksvyj8NuvdmBdO\ny9SrMvv+cdOMmTkj4nmGBjqSDeFmrSSQf0HoUbfXXXw\/RIW\/gkcm4qPmNJXUolYp\nWBOg5jT78pcJ2sRwb6YQDgC5HleBwuZujixUlKgdZxF1DEpJNBFnNDxq8yKadEzB\n-----END\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\u003C\/pre\u003E\u003Ch4 id=\u0022h5\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E生成自签名证书\u003C\/h4\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E私钥文件是非常重要的文件，除了自己本身以外，其他任何人都不能取得。所以在生成私钥文件的同时最好修改该文件的权限，并且采用加密的形式进行生成。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;调用命令生成一个签名证书\n#\u0026nbsp;生成证书的过程中需要输入之前设定的私钥的密码\n#\u0026nbsp;-new:\u0026nbsp;生成新证书签署请求\n#\u0026nbsp;-x509:\u0026nbsp;专用于CA生成自签证书\n#\u0026nbsp;-key:\u0026nbsp;生成请求时用到的私钥文件\n#\u0026nbsp;-days\u0026nbsp;n：证书的有效期限\n#\u0026nbsp;-out\u0026nbsp;\/PATH\/TO\/SOMECERTFILE:\u0026nbsp;证书的保存路径\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;req\u0026nbsp;-new\u0026nbsp;-x509\u0026nbsp;-key\u0026nbsp;\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;-days\u0026nbsp;7300\u0026nbsp;-out\u0026nbsp;\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nYou\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;be\u0026nbsp;asked\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;information\u0026nbsp;that\u0026nbsp;will\u0026nbsp;be\u0026nbsp;incorporated\ninto\u0026nbsp;your\u0026nbsp;certificate\u0026nbsp;request.\nWhat\u0026nbsp;you\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;is\u0026nbsp;what\u0026nbsp;is\u0026nbsp;called\u0026nbsp;a\u0026nbsp;Distinguished\u0026nbsp;Name\u0026nbsp;or\u0026nbsp;a\u0026nbsp;DN.\nThere\u0026nbsp;are\u0026nbsp;quite\u0026nbsp;a\u0026nbsp;few\u0026nbsp;fields\u0026nbsp;but\u0026nbsp;you\u0026nbsp;can\u0026nbsp;leave\u0026nbsp;some\u0026nbsp;blank\nFor\u0026nbsp;some\u0026nbsp;fields\u0026nbsp;there\u0026nbsp;will\u0026nbsp;be\u0026nbsp;a\u0026nbsp;default\u0026nbsp;value,\nIf\u0026nbsp;you\u0026nbsp;enter\u0026nbsp;\u0027.\u0027,\u0026nbsp;the\u0026nbsp;field\u0026nbsp;will\u0026nbsp;be\u0026nbsp;left\u0026nbsp;blank.\n-----\nCountry\u0026nbsp;Name\u0026nbsp;(2\u0026nbsp;letter\u0026nbsp;code)\u0026nbsp;[XX]:CN\nState\u0026nbsp;or\u0026nbsp;Province\u0026nbsp;Name\u0026nbsp;(full\u0026nbsp;name)\u0026nbsp;[]:shandong\nLocality\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;city)\u0026nbsp;[Default\u0026nbsp;City]:qingdao\nOrganization\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;company)\u0026nbsp;[Default\u0026nbsp;Company\u0026nbsp;Ltd]:pojun.tech\nOrganizational\u0026nbsp;Unit\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;section)\u0026nbsp;[]:opt\nCommon\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;your\u0026nbsp;name\u0026nbsp;or\u0026nbsp;your\u0026nbsp;server\u0027s\u0026nbsp;hostname)\u0026nbsp;[]:ca.pojun.tech\nEmail\u0026nbsp;Address\u0026nbsp;[]:\u003C\/pre\u003E\u003Ch2 id=\u0022h6\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E颁发证书\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E颁发证书这里我们将分成两个环节介绍，分别是 子CA证书机构向根CA证书机构申请证书以及普通用户向子CA证书机构申请证书。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ch3 id=\u0022h7\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E子CA证书机构向根CA申请证书\u003C\/h3\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EA 在需要使用证书的主机上生成证书请求\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E首先在B主机上生成私钥，这一个过程与前面根CA机构生成私钥的过程是一致的。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;这次我们修改了私钥的长度\n#\u0026nbsp;并且没有采用加密的方式生成\n#\u0026nbsp;因为主机B是要作为子CA机构的形式存在，他也是一个CA，所以生成私钥的时候，就应该按照配置文件中指定的内容，生成cakey.pem\n[root@centos6\u0026nbsp;pki]$(umask\u0026nbsp;066;\u0026nbsp;openssl\u0026nbsp;genrsa\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;1024)\nGenerating\u0026nbsp;RSA\u0026nbsp;private\u0026nbsp;key,\u0026nbsp;1024\u0026nbsp;bit\u0026nbsp;long\u0026nbsp;modulus\n......++++++\n..............++++++\ne\u0026nbsp;is\u0026nbsp;65537\u0026nbsp;(0x10001)\n\n#\u0026nbsp;查看私钥文件可以发现，没有了加密的标识\n#\u0026nbsp;同时因为生成时指定了1024的长度，私钥的长度明显的变短了。\n[root@centos6\u0026nbsp;~]$cat\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\n-----BEGIN\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\nMIICXgIBAAKBgQCxLyAKQCkysisrsuou6oJFJHs\/Gk9L406x6sON1a2JX3516FJ2\n·····中间省略······\nR1ogCVEZq36sgNYUwaT55gLKk5Ik5T6YQimy0bsvo5oQuw==\n-----END\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E利用私钥文件，生成证书申请文件。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;其实这里的时间是没有必要指定的。\n#\u0026nbsp;因为证书的时间，是由颁发机构指定的，因此申请机构填写了时间也没用\n#\u0026nbsp;其中有些信息必须要与根证书的内容相同因为在根证书的openssl.cnf文件中已经指定。\n[root@centos6\u0026nbsp;tls]$openssl\u0026nbsp;req\u0026nbsp;-new\u0026nbsp;-key\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;\u0026nbsp;-days\u0026nbsp;3650\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/tls\/subca.csr\nYou\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;be\u0026nbsp;asked\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;information\u0026nbsp;that\u0026nbsp;will\u0026nbsp;be\u0026nbsp;incorporated\ninto\u0026nbsp;your\u0026nbsp;certificate\u0026nbsp;request.\nWhat\u0026nbsp;you\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;is\u0026nbsp;what\u0026nbsp;is\u0026nbsp;called\u0026nbsp;a\u0026nbsp;Distinguished\u0026nbsp;Name\u0026nbsp;or\u0026nbsp;a\u0026nbsp;DN.\nThere\u0026nbsp;are\u0026nbsp;quite\u0026nbsp;a\u0026nbsp;few\u0026nbsp;fields\u0026nbsp;but\u0026nbsp;you\u0026nbsp;can\u0026nbsp;leave\u0026nbsp;some\u0026nbsp;blank\nFor\u0026nbsp;some\u0026nbsp;fields\u0026nbsp;there\u0026nbsp;will\u0026nbsp;be\u0026nbsp;a\u0026nbsp;default\u0026nbsp;value,\nIf\u0026nbsp;you\u0026nbsp;enter\u0026nbsp;\u0027.\u0027,\u0026nbsp;the\u0026nbsp;field\u0026nbsp;will\u0026nbsp;be\u0026nbsp;left\u0026nbsp;blank.\n-----\nCountry\u0026nbsp;Name\u0026nbsp;(2\u0026nbsp;letter\u0026nbsp;code)\u0026nbsp;[XX]:CN\nState\u0026nbsp;or\u0026nbsp;Province\u0026nbsp;Name\u0026nbsp;(full\u0026nbsp;name)\u0026nbsp;[]:shandong\nLocality\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;city)\u0026nbsp;[Default\u0026nbsp;City]:qingdao\nOrganization\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;company)\u0026nbsp;[Default\u0026nbsp;Company\u0026nbsp;Ltd]:pojun.tech\nOrganizational\u0026nbsp;Unit\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;section)\u0026nbsp;[]:opt\nCommon\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;your\u0026nbsp;name\u0026nbsp;or\u0026nbsp;your\u0026nbsp;server\u0027s\u0026nbsp;hostname)\u0026nbsp;[]:subca.pojun.tech\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\nEmail\u0026nbsp;Address\u0026nbsp;[]:\n\n#\u0026nbsp;这里的两步\u0026nbsp;默认也可以不用填\nPlease\u0026nbsp;enter\u0026nbsp;the\u0026nbsp;following\u0026nbsp;\u0027extra\u0027\u0026nbsp;attributes\nto\u0026nbsp;be\u0026nbsp;sent\u0026nbsp;with\u0026nbsp;your\u0026nbsp;certificate\u0026nbsp;request\nA\u0026nbsp;challenge\u0026nbsp;password\u0026nbsp;[]:123456\nAn\u0026nbsp;optional\u0026nbsp;company\u0026nbsp;name\u0026nbsp;[]:magedu.com\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EB 将证书的申请文件，传递给根CA\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E将前一步生成的证书的申请文件，传递给根CA机构\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;最好将申请文件，传输到指定的目录下，这样便于管理\n[root@centos6\u0026nbsp;tls]$scp\u0026nbsp;\/etc\/pki\/tls\/subca.csr\u0026nbsp;\u0026nbsp;172.18.253.127:\/etc\/pki\/CA\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EC CA颁发证书\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E此时切换到根CA主机，生成证书\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;这里的时间必须要进行指定。这时证书颁发机构指定的证书的有效期。\n#\u0026nbsp;[root@localhost\u0026nbsp;CA]#openssl\u0026nbsp;ca\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/subca.csr\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u0026nbsp;-days\u0026nbsp;3650\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nCheck\u0026nbsp;that\u0026nbsp;the\u0026nbsp;request\u0026nbsp;matches\u0026nbsp;the\u0026nbsp;signature\nSignature\u0026nbsp;ok\nCertificate\u0026nbsp;Details:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Serial\u0026nbsp;Number:\u0026nbsp;1\u0026nbsp;(0x1)\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Validity\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Not\u0026nbsp;Before:\u0026nbsp;Sep\u0026nbsp;11\u0026nbsp;14:38:13\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Not\u0026nbsp;After\u0026nbsp;:\u0026nbsp;Sep\u0026nbsp;11\u0026nbsp;14:38:14\u0026nbsp;2018\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Subject:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;countryName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;CN\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;stateOrProvinceName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;shandong\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;organizationName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;pojun.tech\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;organizationalUnitName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;opt\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;commonName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;subca.pojun.tech\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;extensions:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;Basic\u0026nbsp;Constraints:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;CA:FALSE\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Netscape\u0026nbsp;Comment:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;OpenSSL\u0026nbsp;Generated\u0026nbsp;Certificate\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;Subject\u0026nbsp;Key\u0026nbsp;Identifier:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;DB:3E:9C:F4:F4:E9:42:15:00:E7:35:52:FE:04:9A:48:8C:BD:1A:1B\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;Authority\u0026nbsp;Key\u0026nbsp;Identifier:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;keyid:01:17:F1:CB:91:4B:20:AD:C7:DF:13:05:A4:D8:83:B2:AB:75:D1:05\n\nCertificate\u0026nbsp;is\u0026nbsp;to\u0026nbsp;be\u0026nbsp;certified\u0026nbsp;until\u0026nbsp;Sep\u0026nbsp;11\u0026nbsp;14:38:14\u0026nbsp;2018\u0026nbsp;GMT\u0026nbsp;(3650\u0026nbsp;days)Sign\u0026nbsp;the\u0026nbsp;certificate?\u0026nbsp;[y\/n]:y\n\n\n1\u0026nbsp;out\u0026nbsp;of\u0026nbsp;1\u0026nbsp;certificate\u0026nbsp;requests\u0026nbsp;certified,\u0026nbsp;commit?\u0026nbsp;[y\/n]y\nWrite\u0026nbsp;out\u0026nbsp;database\u0026nbsp;with\u0026nbsp;1\u0026nbsp;new\u0026nbsp;entries\nData\u0026nbsp;Base\u0026nbsp;Updated\n\n#此时查看index.txt\u0026nbsp;文件中，会看到增加了一条新的记录。\n[root@localhost\u0026nbsp;CA]#cat\u0026nbsp;index.txt\nV\t180911143814Z\t\t01\tunknown\t\/C=CN\/ST=shandong\/O=pojun.tech\/OU=opt\/CN=subca.pojun.tech\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003ED 将根CA生成的证书颁发给请求者\u003C\/strong\u003E\u003C\/p\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;主机B是作为子CA机构存在的，所以证书文件，必须是cacert.pem，否则，子CA将不能够给其他用户颁发证书。\n[root@localhost\u0026nbsp;CA]#scp\u0026nbsp;\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u0026nbsp;172.18.250.114:\/etc\/pki\/CA\/cacert.pem\u003C\/pre\u003E\u003Ch3 id=\u0022h8\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E普通用户向子CA机构，申请证书\u003C\/h3\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E这一个过程，与子CA向根CA申请证书的过程是类似的。我们将命令的记录如下\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#生成私钥文件\n#\u0026nbsp;因为是普通用户，所以生成的私钥文件应该与之前的cacert.pem\u0026nbsp;有所区别\u0026nbsp;\n[root@localhost\u0026nbsp;~]#\u0026nbsp;(umask\u0026nbsp;066;\u0026nbsp;openssl\u0026nbsp;genrsa\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/tls\/private\/app.key\u0026nbsp;1024)\n\n#利用私钥文件，生成证书申请文件\n[root@localhost\u0026nbsp;~]#\u0026nbsp;openssl\u0026nbsp;req\u0026nbsp;-new\u0026nbsp;-key\u0026nbsp;\/etc\/pki\/tls\/private\/app.key\u0026nbsp;\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/tls\/app.csr\n\n\n#\u0026nbsp;将证书申请文件发送给\u0026nbsp;子CA证书颁发机构\n[root@localhost\u0026nbsp;~]#\u0026nbsp;scp\u0026nbsp;\/etc\/pki\/tls\/app.csr\u0026nbsp;\u0026nbsp;172.18.250.114:\/etc\/pki\/CA\n\n#\u0026nbsp;切换到子CA证书颁发机构\n#\u0026nbsp;子CA证书颁发机构颁发证书\n[root@centos6\u0026nbsp;CA]$openssl\u0026nbsp;ca\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/app.csr\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/certs\/app.crt\u0026nbsp;-days\u0026nbsp;365\n\n#将生成的证书传递给申请者\n[root@centos6\u0026nbsp;CA]$scp\u0026nbsp;\/etc\/pki\/CA\/certs\/app.crt\u0026nbsp;\u0026nbsp;172.18.253.58:\/etc\/pki\/CA\/certs\/\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E这样，正常的证书颁发流程就算是完成了。将我们生成的根证书，子CA证书以及普通用户证书导出到Windows系统中，并安装，然后我们就可以看到，整个证书路径了。如下图所示。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/CA%E8%AF%81%E4%B9%A6%E8%B7%AF%E5%BE%84.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ CA_04\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003E\u003Ch2 id=\u0022h9\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E查看证书状态\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E查看证书状态，使用下面这条命令 ，可以查看证书的内容以及颁发者的多种信息。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003Eopenssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-text|issuer|subject|serial|dates\n\n-text\u0026nbsp;\u0026nbsp;\u0026nbsp;证书的内容\n-issuer\u0026nbsp;证书颁发者的信息\n-subject\u0026nbsp;\u0026nbsp;证书主体的信息\n-serial\t\u0026nbsp;证书的序列号信息\n-dates\u0026nbsp;查看证书的时间\n\n\n#\u0026nbsp;证书颁发者的信息\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-issuer\nissuer=\u0026nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\n#\u0026nbsp;\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-subject\nsubject=\u0026nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\n#\u0026nbsp;证书的有效时间\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-dates\nnotBefore=Sep\u0026nbsp;11\u0026nbsp;13:43:42\u0026nbsp;2017\u0026nbsp;GMT\nnotAfter=Sep\u0026nbsp;\u0026nbsp;6\u0026nbsp;13:43:42\u0026nbsp;2037\u0026nbsp;GMT\n\n\n#也可以根据index.txt\u0026nbsp;文件中的证书编号，进行查看状态\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;ca\u0026nbsp;-status\u0026nbsp;01\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf01=Valid\u0026nbsp;(V)\u003C\/pre\u003E\u003Ch2 id=\u0022h10\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E吊销证书\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E这里我们将子CA的证书吊销掉。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EA 首先在子CA主机上获取到要吊销的证书的serial\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E前面的例子中，我们的子CA证书的存放路径是\u003Ccode class=\u0022highlighter-rouge\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\u0022\u003E\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u003C\/code\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E[root@centos6\u0026nbsp;CA]$openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u0026nbsp;-noout\u0026nbsp;-serial\u0026nbsp;-subject\nserial=01\nsubject=\u0026nbsp;\/C=CN\/ST=shandong\/O=pojun.tech\/OU=opt\/CN=subca.pojun.tech\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EB 在根CA上根据客户提交的serial与subject信息，对比检验是否与index.txt文件中的信息一致，然后吊销证书\u003C\/strong\u003E\u003C\/p\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#进入到CA的路径下，查看文件目录\n[root@localhost\u0026nbsp;CA]#pwd\n\/etc\/pki\/CA\n\n[root@localhost\u0026nbsp;CA]#tree\n.\n├──\u0026nbsp;cacert.pem\n├──\u0026nbsp;certs\n│\u0026nbsp;\u0026nbsp;\u0026nbsp;└──\u0026nbsp;subca.crt\t\t#\u0026nbsp;这是直接颁发给子CA的证书文件├──\u0026nbsp;crl\n├──\u0026nbsp;index.txt\n├──\u0026nbsp;index.txt.attr\n├──\u0026nbsp;index.txt.old\n├──\u0026nbsp;newcerts\n│\u0026nbsp;\u0026nbsp;\u0026nbsp;└──\u0026nbsp;01.pem\t\t\t#这个就是与子CA证书一致的Serial文件├──\u0026nbsp;private\n│\u0026nbsp;\u0026nbsp;\u0026nbsp;└──\u0026nbsp;cakey.pem\n├──\u0026nbsp;serial\n├──\u0026nbsp;serial.old\n└──\u0026nbsp;subca.csr\n\n\n#\u0026nbsp;吊销子CA的证书\u0026nbsp;使用revoke\u0026nbsp;命令\n[root@localhost\u0026nbsp;CA]#openssl\u0026nbsp;ca\u0026nbsp;-revoke\u0026nbsp;\/etc\/pki\/CA\/newcerts\/01.pem\u0026nbsp;\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nRevoking\u0026nbsp;Certificate\u0026nbsp;01.\nData\u0026nbsp;Base\u0026nbsp;Updated\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EC 指定第一个吊销证书的编号\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E指定吊销证书的编号，只有在更新证书吊销列表之前，才需要操作\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;这条命令与生成证书时指定证书serial\u0026nbsp;号码的作用是一致的。\n#\u0026nbsp;就是说，指定下一个证书吊销时的编号。\n[root@localhost\u0026nbsp;~]#echo\u0026nbsp;01\u0026nbsp;\u0026gt;\u0026nbsp;\/etc\/pki\/CA\/crlnumber\n[root@localhost\u0026nbsp;~]#cat\u0026nbsp;\/etc\/pki\/CA\/crlnumber\n01\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003ED 更新证书吊销列表\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E前面指定了证书吊销列表编号之后，就可以来更新证书吊销列表了。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;ca\u0026nbsp;-gencrl\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/crl\/crl.pem\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\u0026nbsp;\u0026nbsp;\u0026nbsp;#这里提示输入密码\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E查看证书吊销列表的文件\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;crl\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/crl\/crl.pem\u0026nbsp;-noout\u0026nbsp;-text\nCertificate\u0026nbsp;Revocation\u0026nbsp;List\u0026nbsp;(CRL):\u0026nbsp;\u0026nbsp;\u0026nbsp;#证书吊销列表\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Version\u0026nbsp;2\u0026nbsp;(0x1)\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Signature\u0026nbsp;Algorithm:\u0026nbsp;sha256WithRSAEncryption\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Issuer:\u0026nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Last\u0026nbsp;Update:\u0026nbsp;Sep\u0026nbsp;12\u0026nbsp;11:58:17\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Next\u0026nbsp;Update:\u0026nbsp;Oct\u0026nbsp;12\u0026nbsp;11:58:17\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;CRL\u0026nbsp;extensions:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;CRL\u0026nbsp;Number:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;1\nRevoked\u0026nbsp;Certificates:\t\t\t\t\t#这里的标识显示，证书已经被吊销了\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Serial\u0026nbsp;Number:\u0026nbsp;01\t\t\t\t\t#吊销的序列号\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Revocation\u0026nbsp;Date:\u0026nbsp;Sep\u0026nbsp;12\u0026nbsp;11:52:47\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Signature\u0026nbsp;Algorithm:\u0026nbsp;sha256WithRSAEncryption\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;b4:6e:f2:73:21:ed:c4:38:39:06:29:76:61:ac:d6:ee:a4:5d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;e8:cb:7c:8b:f8:01:21:ba:bd:b2:46:fa:ea:bf:de:fa:6e:f6:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;85:d6:93:7c:81:b4:2d:d5:eb:c2:94:a3:6f:13:6d:f3:3f:48:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;56:85:72:96:cf:e0:ea:a9:0e:07:43:6d:62:2d:4d:e2:2e:b5:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;02:6a:27:7a:31:76:eb:4e:b1:d6:83:8b:d7:39:10:14:d6:94:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;77:4b:10:d8:24:46:95:1b:48:87:16:77:ce:8c:1b:54:2c:4d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ee:2f:24:13:10:62:30:32:74:9e:84:49:c9:dc:a9:fc:31:60:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;57:b5:43:7a:a3:09:75:60:1e:6a:f2:26:e9:54:37:2d:ce:0b:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ac:b2:41:c2:d9:02:99:fc:a3:99:15:9c:10:a7:f4:be:08:83:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;23:ee:ef:74:83:ea:fd:f7:c9:e1:87:6f:9b:1d:c3:df:88:2d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;79:2b:71:4b:9e:6f:ae:f9:08:d9:66:d4:f1:49:df:7e:89:99:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;06:a3:86:72:37:02:78:0f:16:e8:87:8a:61:5b:a3:ac:e2:46:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;38:ce:86:29:c9:c6:e5:8c:f8:25:2f:7e:d1:62:13:57:a3:a6:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;10:42:13:b9:e4:0b:fa:9f:f4:d0:95:9b:5d:9b:2d:38:7f:8d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ac:c0:e6:3f\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E在实际的使用过程中，有很多这样的实例。例如我们经常使用的淘宝，在使用浏览器访问淘宝的时候，就可以查看淘宝的证书吊销列表。如下图所示。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/%E6%B7%98%E5%AE%9D%E7%9A%84%E8%AF%81%E4%B9%A6%E5%90%8A%E9%94%80%E5%88%97%E8%A1%A8.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ OpenSSL_05\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003E至此，关于自己搭建CA的过程基本上就完成了。熟悉了上面的操作之后，就可以自己动手简单的搭建一个证书了，然后也可以体验一下整个流程\u003C\/strong\u003E\u003C\/p\u003E参考资料\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.ruanyifeng.com\/blog\/2014\/09\/illustration-ssl.html\u0022 style=\u0022color:rgb(0,127,255);\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.ruanyifeng.com\/blog\/2014\/09\/illustration-ssl.html\u003C\/a\u003E\u003C\/p\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.ruanyifeng.com\/blog\/2014\/02\/ssl_tls.html\u0022 style=\u0022color:rgb(0,127,255);\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.ruanyifeng.com\/blog\/2014\/02\/ssl_tls.html\u003C\/a\u003E\u003C\/p\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/kb.cnblogs.com\/page\/197396\/\u0022 style=\u0022color:rgb(0,127,255);\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/kb.cnblogs.com\/page\/197396\/\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cbr \/\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cbr \/\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E个人博客地址：\u003C\/span\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.pojun.tech\/\u0022 style=\u0022padding:0px;margin:0px;color:rgb(1,95,145);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;white-space:normal;\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.pojun.tech\/\u003C\/a\u003E\u003Cspan style=\u0022color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E\u0026nbsp;欢迎访问\u003C\/span\u003E\u003C\/p\u003E");
        var num=0
        htmlData= htmlData.replace(reg,function(val){
                var userData=' id="h'+Number(num++)+'" '
                val=val=val.replace(/”/,'"').replace(/“/,'"')
                if(/<(h[1-4]) [^>]{0,}id=[^>]+>/.test(val)){
                    var text=val.match(/\sid=(["\']).*?\1/)[0]
                    val=val.replace(text,userData)
                }else{
                    var text = val.match(/<(h[1-4])/)[0]
                    val = val.replace(/<(h[1-4])/,text+' '+userData)
                }
                return val
        })
        $('#markdownContent').html(htmlData)
        // $('#markdownContent').html(CtoEditor.ctoEditor.mixins[0].data().markdownIt.render("\u003Cspan style=\u0022padding:0px;margin:0px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E个人博客地址：\u003C\/span\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.pojun.tech\/\u0022 style=\u0022white-space:normal;padding:0px;margin:0px;color:rgb(1,95,145);background-color:rgb(255,255,255);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.pojun.tech\/\u003C\/a\u003E\u003Cspan style=\u0022padding:0px;margin:0px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E\u0026nbsp;欢迎访问\u003C\/span\u003E什么是CA\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003ECA,Catificate Authority,通俗的理解就是一种认证机制。它的作用就是提供证书（也就是服务端证书，由域名，公司信息，序列号，签名信息等等组成）来加强客户端与服务器端访问信息的安全性，同时提供证书的发放等相关工作。国内的大部分互联网公司都在国际CA机构申请了CA证书，并且在用户进行访问的时候，对用户的信息加密，保障了用户的信息安全。理论上来说，任何组织或者个人都可以扮演CA的角色，只不过，难以得到客户端的信任，不能推而广之，最典型应用莫过于12306网站，这个网站就是自己给自己颁发的根证书。\u003Cbr \/\u003E目前能够让浏览器默认支持的CA大厂有很多，Windows 操作系统在安装之初，也默认安装了很多受信任的根证书。可以通过控制面板–Internet选项来进行查看。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/windows%20%E4%B8%AD%E9%A2%84%E8%A3%85%E7%9A%84%E6%A0%B9%E8%AF%81%E4%B9%A6.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ CA\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003ESSL\/TLS\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003ESSL\/TLS是网络通信过程中非常重要的两个协议。互联网的通信安全就建立在SSL\/TLS协议基础之上。他们通过一系列的加密行为保障了通信的安全，是如今互联网通信最主要的应用之一。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003ESSL\/TLS是一个很大的互联网应用，关于他们的介绍互联网上有很多，我们暂时不做详细的介绍。关于SSL\/TLS通信的过程大致可以用下面的这张图来进行描述。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/SSLTLS%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_Linux_02\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003EOpenSSL\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003EOpenSSL是一套开源软件，在Linux中可以很容易的安装。它能够很容易的完成密钥生成以及证书管理。我们接下来就利用OpenSSL搭建CA证书，并实现证书的申请与分发。\u003C\/p\u003E\u003C\/blockquote\u003EOpenSSL实现CA证书的搭建\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cul class=\u0022list-paddingleft-2\u0022\u003E\u003Cli\u003E\u003Cp\u003E实验环境的准备\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003ECA的配置介绍\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E创建所需要的文件\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003ECA 自签名证书\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E颁发证书\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E查看证书状态\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E证书吊销\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/blockquote\u003E\u003Ch2 id=\u0022h0\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E实验环境的准备\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E首先我们应该准备三个虚拟机，他们分别用来表示根CA证书机构，以及子CA证书机构，和证书申请用户。 那么问题来了，用户向子CA证书机构申请证书，子CA机构向根CA机构申请授权，根CA是如何取得证书的呢？答案是根CA自己给自己颁发的证书。 实验环境的拓扑结构如下图所示。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/CA%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83%E7%A4%BA%E6%84%8F%E5%9B%BE.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ OpenSSL_03\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003E\u003Ch2 id=\u0022h1\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003ECA配置介绍\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E要手动创建CA证书，就必须首先了解，OpenSSL中关于CA的配置，配置文件位于下面的\/etc\/pki\/tls\/openssl.cnf\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E####################################################################\n[\u0026nbsp;ca\u0026nbsp;]\ndefault_ca=\u0026nbsp;CA_default\t\t#默认CA\n####################################################################\n[\u0026nbsp;CA_default\u0026nbsp;]\ndir=\/etc\/pki\/CA\t\t\u0026nbsp;#\u0026nbsp;CA的工作目录这里其实是定义了一个变量\ncerts=\u0026nbsp;$dir\/certs\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;#\u0026nbsp;证书存储路径\ncrl_dir=\u0026nbsp;$dir\/crl\t\u0026nbsp;#\u0026nbsp;证书吊销列表\ndatabase=\u0026nbsp;$dir\/index.txt\u0026nbsp;#\u0026nbsp;证书数据库列表\n\nnew_certs_dir=\u0026nbsp;$dir\/newcerts\t#新的证书路径\ncertificate=\u0026nbsp;$dir\/cacert.pem\u0026nbsp;\t#\u0026nbsp;CA自己的证书\nserial=\u0026nbsp;$dir\/serial\u0026nbsp;\t\t#下一个证书的编号，十六进制，默认00\ncrlnumber=\u0026nbsp;$dir\/crlnumber\t#下一个要被吊销的证书编号，十六进制，默认00\ncrl=\u0026nbsp;$dir\/crl.pem\u0026nbsp;\t\t#\u0026nbsp;The\u0026nbsp;current\u0026nbsp;CRL\nprivate_key=\u0026nbsp;$dir\/private\/cakey.pem\u0026nbsp;#\u0026nbsp;CA\u0026nbsp;的私钥\nRANDFILE=\u0026nbsp;$dir\/private\/.rand\t#\u0026nbsp;private\u0026nbsp;random\u0026nbsp;number\u0026nbsp;file\nx509_extensions\t=\u0026nbsp;usr_cert\t#\u0026nbsp;The\u0026nbsp;extentions\u0026nbsp;to\u0026nbsp;add\u0026nbsp;to\u0026nbsp;the\u0026nbsp;cert\n\n\n#\u0026nbsp;Comment\u0026nbsp;out\u0026nbsp;the\u0026nbsp;following\u0026nbsp;two\u0026nbsp;lines\u0026nbsp;for\u0026nbsp;the\u0026nbsp;\u0022traditional\u0022\n#\u0026nbsp;(and\u0026nbsp;highly\u0026nbsp;broken)\u0026nbsp;format.\nname_opt\u0026nbsp;=\u0026nbsp;ca_default\t\t#\u0026nbsp;命名方式\ncert_opt\u0026nbsp;=\u0026nbsp;ca_default\t\t#\u0026nbsp;CA的选项\n\n#\u0026nbsp;Extension\u0026nbsp;copying\u0026nbsp;option:\u0026nbsp;use\u0026nbsp;with\u0026nbsp;caution.\n#\u0026nbsp;copy_extensions\u0026nbsp;=\u0026nbsp;copy\n\n\n#\u0026nbsp;Extensions\u0026nbsp;to\u0026nbsp;add\u0026nbsp;to\u0026nbsp;a\u0026nbsp;CRL.\u0026nbsp;Note:\u0026nbsp;Netscape\u0026nbsp;communicator\u0026nbsp;chokes\u0026nbsp;on\u0026nbsp;V2\u0026nbsp;CRLs\n#\u0026nbsp;so\u0026nbsp;this\u0026nbsp;is\u0026nbsp;commented\u0026nbsp;out\u0026nbsp;by\u0026nbsp;default\u0026nbsp;to\u0026nbsp;leave\u0026nbsp;a\u0026nbsp;V1\u0026nbsp;CRL.\n#\u0026nbsp;crlnumber\u0026nbsp;must\u0026nbsp;also\u0026nbsp;be\u0026nbsp;commented\u0026nbsp;out\u0026nbsp;to\u0026nbsp;leave\u0026nbsp;a\u0026nbsp;V1\u0026nbsp;CRL.\n#\u0026nbsp;crl_extensions=\u0026nbsp;crl_ext\ndefault_days=\u0026nbsp;365\t\t\t#\u0026nbsp;默认证书的有效期限\ndefault_crl_days=\u0026nbsp;30\t\t\t#\u0026nbsp;how\u0026nbsp;long\u0026nbsp;before\u0026nbsp;next\u0026nbsp;CRL\ndefault_md=\u0026nbsp;default\t\t#\u0026nbsp;use\u0026nbsp;public\u0026nbsp;key\u0026nbsp;default\u0026nbsp;MD\npreserve=\u0026nbsp;no\t\t\t#\u0026nbsp;keep\u0026nbsp;passed\u0026nbsp;DN\u0026nbsp;ordering\n\n\n#\u0026nbsp;A\u0026nbsp;few\u0026nbsp;difference\u0026nbsp;way\u0026nbsp;of\u0026nbsp;specifying\u0026nbsp;how\u0026nbsp;similar\u0026nbsp;the\u0026nbsp;request\u0026nbsp;should\u0026nbsp;look\n#\u0026nbsp;For\u0026nbsp;type\u0026nbsp;CA,\u0026nbsp;the\u0026nbsp;listed\u0026nbsp;attributes\u0026nbsp;must\u0026nbsp;be\u0026nbsp;the\u0026nbsp;same,\u0026nbsp;and\u0026nbsp;the\u0026nbsp;optional\n#\u0026nbsp;and\u0026nbsp;supplied\u0026nbsp;fields\u0026nbsp;are\u0026nbsp;just\u0026nbsp;that\u0026nbsp;:-)\npolicy=\u0026nbsp;policy_match\u0026nbsp;\u0026nbsp;\t#策略\n\t\t\t#这里记录的是\u0026nbsp;将来CA在搭建的时候，以及客户端申请证书的时候，需要提交的信息的匹配程度。\n\n#\u0026nbsp;For\u0026nbsp;the\u0026nbsp;CA\u0026nbsp;policy\n[\u0026nbsp;policy_match\u0026nbsp;]\t\t\t#\u0026nbsp;match意味着CA以及子CA必须一致\ncountryName\t=\u0026nbsp;match\t\t\t#\u0026nbsp;国家\nstateOrProvinceName=\u0026nbsp;match\t\t#\u0026nbsp;州或者省\norganizationName=\u0026nbsp;match\t\t\t#组织公司\norganizationalUnitName\t=\u0026nbsp;optional\ncommonName=\u0026nbsp;supplied\nemailAddress=\u0026nbsp;optional\n\n#\u0026nbsp;For\u0026nbsp;the\u0026nbsp;\u0027anything\u0027\u0026nbsp;policy\n#\u0026nbsp;At\u0026nbsp;this\u0026nbsp;point\u0026nbsp;in\u0026nbsp;time,\u0026nbsp;you\u0026nbsp;must\u0026nbsp;list\u0026nbsp;all\u0026nbsp;acceptable\u0026nbsp;\u0027object\u0027\n#\u0026nbsp;types.\n[\u0026nbsp;policy_anything\u0026nbsp;]\t\t#可以对外提供证书申请，这时，证书的匹配就可以不用那么严格\ncountryName=\u0026nbsp;optional\nstateOrProvinceName=\u0026nbsp;optional\nlocalityName=\u0026nbsp;optional\norganizationName=\u0026nbsp;optional\norganizationalUnitName=\u0026nbsp;optional\ncommonName=\u0026nbsp;supplied\nemailAddress=\u0026nbsp;optional\u003C\/pre\u003E\u003Ch2 id=\u0022h2\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E创建所需要的文件\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;\u0022\u003E这里有一点需要注意，我们的实验环境中包含了三个主机，其中两个的角色是作为CA认证机构存在的，所以创建所需要的文件的时候，主机A和主机B都需要创建。 如果不提前创建这两个文件，那么在生成证书的过程中会出现错误。 我们将文件创建在配置文件中指定的路径下面。\u003C\/p\u003E\u003Cul class=\u0022list-paddingleft-2\u0022\u003E\u003Cli\u003E\u003Cp\u003E生成证书索引数据库文件\u0026nbsp;\u003Ccode class=\u0022highlighter-rouge\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\u0022\u003Etouch \/etc\/pki\/CA\/index.txt\u003C\/code\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E指定第一个颁发证书的序列号\u0026nbsp;\u003Ccode class=\u0022highlighter-rouge\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\u0022\u003Eecho 01 \u0026gt; \/etc\/pki\/CA\/serial\u003C\/code\u003E\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/blockquote\u003E\u003Ch2 id=\u0022h3\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003ECA 自签名证书(构造根CA)\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E首先构造根CA的证书。因为没有任何机构能够给根CA颁发证书，所以只能根CA自己给自己颁发证书。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ch4 id=\u0022h4\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E首先生成私钥文件\u003C\/h4\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E私钥文件是非常重要的文件，除了自己本身以外，其他任何人都不能取得。所以在生成私钥文件的同时最好修改该文件的权限，并且采用加密的形式进行生成。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;执行命令生成私钥文件。\n#\u0026nbsp;采用了des3的方式对私钥文件进行了加密\n#\u0026nbsp;同时临时指定了umask\u0026nbsp;，使得生成的私钥文件只对自己具有读写权限。\n[root@localhost\u0026nbsp;~]#(umask\u0026nbsp;066;openssl\u0026nbsp;genrsa\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;-des3\u0026nbsp;2048\u0026nbsp;)\nGenerating\u0026nbsp;RSA\u0026nbsp;private\u0026nbsp;key,\u0026nbsp;2048\u0026nbsp;bit\u0026nbsp;long\u0026nbsp;modulus\n...............+++\n.......................................+++\ne\u0026nbsp;is\u0026nbsp;65537\u0026nbsp;(0x10001)\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\t#这里需要输入密码\nVerifying\u0026nbsp;-\u0026nbsp;Enter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\t#这里确认密码\n\n#\u0026nbsp;\u0026nbsp;查看一个生成的私钥文件，就会发现已经被加密了\n[root@localhost\u0026nbsp;~]#cat\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\n-----BEGIN\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\nProc-Type:\u0026nbsp;4,ENCRYPTED\nDEK-Info:\u0026nbsp;DES-EDE3-CBC,A4FB61EACD1544F2\n\n9JrKVEPhnWhx1W+W1V4PdIvVHNDwb8mb0JYILvXZKc07gvNcYKIlvUoTxjtihbpk\nwYQcVm0Z6b2+fjZBXVVR9igFB2OOE74BnSNMsbfPTs5W\/SwWLxv0R6x0SbiZ8v\/7\nD6Qh3u\/rXmOQWWTvQnLzh6JaT00c8zgUnn48vMev17Xyg32oJqKqJVL5RNBGmJur\n6CaWX8mB5q+HYiBUXzNLQp9T3HNGcnmDNyk0gylEvjeJo3Hq+IOAkjfJE4sYO9ER\ntQtsLViFUc5jXX7p0nIO0ANwE7zdjBt9I4aXknZiC4rFYJJtNSa1Wrhoo\/MhuwWH\nzjc4UyoB1C71sbq2LMgeElHhXN\/TfqWGfXFqhkyBJwgrmzQibOJSFeWHZNurILof\nUwgNLlABmazvIL5Ps6LgZtyrO2ODSDTzPiCO7kQ0S3mTHYk9+WEeEyMb4uum6oAx\noCofADL0wea+5mHVUA2s6KwRBFr01HiQ00fiul6LFvXdCwt9IL62blIJYn2veQHl\noPvC5cTnPVqJ28GJWbPvJjiOLB8Hh+4DPwxaRA1eYf2R9SR0R1SYJIBTI6NNqNwW\nLq+pD89bGCbFdYID+kAZfG27FonmmLvvhTn3jQKVPpwQBROHQ9gpwMLnpmpJWwNK\nbyUSit+Vt+mvbzOLjuTdsTzklwZEOkNpaE\/jTqusWuhXS33D4bqA+Ws+xNVDnx6e\nrbrGcbX9skXyti21oEIYem0H37ZS2fV9z+\/CM\/55maOX5xNVQ4aDxWuiMyyUd03D\nnhhM5A4mcDvIZLpWDbHzjtkl2H9Pnb9fvGzOIOm7lVQrX8BdidpWjwGTLYG\/zUX5\ni9NimSnoiqgkhEYl8KXzbnMfD4hX69BXI7le5HAaS38wDKPsmRRW\/dgGfRNKzfTZ\nqmBimscMsllz21QnG9eqineFDdexGZw1oEQsHp2CivtEwaIKTqOZfNiwHJvm1cbz\nM0NOgs+r2qze0czV9dTqM5pVND1Iac1DXYflYZ9g54riQNre\/sHp1qpdNQHRRMTP\nyTFnGsEfWmI4V4HiSrdQpyHIrnFUryse9kJmRKDfQK7icUf5\/KrOD4FOS5zsHrep\n\/cE14w7s0Zqko9upkYQNBys5TbBmAK8yVJ\/Zq7jU3qjDxkYNddpOt8k33vl9CG53\nOeWxcWOzJCHIOjakJlLnS+XitsSY4hzUlfEO0\/Ffi99zyHXybNPws5Og4KNfgcqW\nReG943oKc5qplfST2tr0K10ipD3WoV+lMbLugrwhfmVOyHGypfJhUMU0oKEjYPP3\nJjHSiW0hrnNvrPQ4\/mqSps3LyWYZWvH40N88U6dbxgbUgamXLHWtzJdyfBNii8uH\nobtye7oeYpAzx0hNurXhpSoswFbxwU5u80eL0\/YkfkzkL1P9vtMvDUw\/TVNbwHVg\nkTS9WEQA52XLMBtanzRzLGJVIXX6ODGgXt2Gql3KO1p43OyZq4Ksvyj8NuvdmBdO\ny9SrMvv+cdOMmTkj4nmGBjqSDeFmrSSQf0HoUbfXXXw\/RIW\/gkcm4qPmNJXUolYp\nWBOg5jT78pcJ2sRwb6YQDgC5HleBwuZujixUlKgdZxF1DEpJNBFnNDxq8yKadEzB\n-----END\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\u003C\/pre\u003E\u003Ch4 id=\u0022h5\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E生成自签名证书\u003C\/h4\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E私钥文件是非常重要的文件，除了自己本身以外，其他任何人都不能取得。所以在生成私钥文件的同时最好修改该文件的权限，并且采用加密的形式进行生成。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;调用命令生成一个签名证书\n#\u0026nbsp;生成证书的过程中需要输入之前设定的私钥的密码\n#\u0026nbsp;-new:\u0026nbsp;生成新证书签署请求\n#\u0026nbsp;-x509:\u0026nbsp;专用于CA生成自签证书\n#\u0026nbsp;-key:\u0026nbsp;生成请求时用到的私钥文件\n#\u0026nbsp;-days\u0026nbsp;n：证书的有效期限\n#\u0026nbsp;-out\u0026nbsp;\/PATH\/TO\/SOMECERTFILE:\u0026nbsp;证书的保存路径\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;req\u0026nbsp;-new\u0026nbsp;-x509\u0026nbsp;-key\u0026nbsp;\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;-days\u0026nbsp;7300\u0026nbsp;-out\u0026nbsp;\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nYou\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;be\u0026nbsp;asked\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;information\u0026nbsp;that\u0026nbsp;will\u0026nbsp;be\u0026nbsp;incorporated\ninto\u0026nbsp;your\u0026nbsp;certificate\u0026nbsp;request.\nWhat\u0026nbsp;you\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;is\u0026nbsp;what\u0026nbsp;is\u0026nbsp;called\u0026nbsp;a\u0026nbsp;Distinguished\u0026nbsp;Name\u0026nbsp;or\u0026nbsp;a\u0026nbsp;DN.\nThere\u0026nbsp;are\u0026nbsp;quite\u0026nbsp;a\u0026nbsp;few\u0026nbsp;fields\u0026nbsp;but\u0026nbsp;you\u0026nbsp;can\u0026nbsp;leave\u0026nbsp;some\u0026nbsp;blank\nFor\u0026nbsp;some\u0026nbsp;fields\u0026nbsp;there\u0026nbsp;will\u0026nbsp;be\u0026nbsp;a\u0026nbsp;default\u0026nbsp;value,\nIf\u0026nbsp;you\u0026nbsp;enter\u0026nbsp;\u0027.\u0027,\u0026nbsp;the\u0026nbsp;field\u0026nbsp;will\u0026nbsp;be\u0026nbsp;left\u0026nbsp;blank.\n-----\nCountry\u0026nbsp;Name\u0026nbsp;(2\u0026nbsp;letter\u0026nbsp;code)\u0026nbsp;[XX]:CN\nState\u0026nbsp;or\u0026nbsp;Province\u0026nbsp;Name\u0026nbsp;(full\u0026nbsp;name)\u0026nbsp;[]:shandong\nLocality\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;city)\u0026nbsp;[Default\u0026nbsp;City]:qingdao\nOrganization\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;company)\u0026nbsp;[Default\u0026nbsp;Company\u0026nbsp;Ltd]:pojun.tech\nOrganizational\u0026nbsp;Unit\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;section)\u0026nbsp;[]:opt\nCommon\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;your\u0026nbsp;name\u0026nbsp;or\u0026nbsp;your\u0026nbsp;server\u0027s\u0026nbsp;hostname)\u0026nbsp;[]:ca.pojun.tech\nEmail\u0026nbsp;Address\u0026nbsp;[]:\u003C\/pre\u003E\u003Ch2 id=\u0022h6\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E颁发证书\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E颁发证书这里我们将分成两个环节介绍，分别是 子CA证书机构向根CA证书机构申请证书以及普通用户向子CA证书机构申请证书。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ch3 id=\u0022h7\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E子CA证书机构向根CA申请证书\u003C\/h3\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EA 在需要使用证书的主机上生成证书请求\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E首先在B主机上生成私钥，这一个过程与前面根CA机构生成私钥的过程是一致的。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;这次我们修改了私钥的长度\n#\u0026nbsp;并且没有采用加密的方式生成\n#\u0026nbsp;因为主机B是要作为子CA机构的形式存在，他也是一个CA，所以生成私钥的时候，就应该按照配置文件中指定的内容，生成cakey.pem\n[root@centos6\u0026nbsp;pki]$(umask\u0026nbsp;066;\u0026nbsp;openssl\u0026nbsp;genrsa\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;1024)\nGenerating\u0026nbsp;RSA\u0026nbsp;private\u0026nbsp;key,\u0026nbsp;1024\u0026nbsp;bit\u0026nbsp;long\u0026nbsp;modulus\n......++++++\n..............++++++\ne\u0026nbsp;is\u0026nbsp;65537\u0026nbsp;(0x10001)\n\n#\u0026nbsp;查看私钥文件可以发现，没有了加密的标识\n#\u0026nbsp;同时因为生成时指定了1024的长度，私钥的长度明显的变短了。\n[root@centos6\u0026nbsp;~]$cat\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\n-----BEGIN\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\nMIICXgIBAAKBgQCxLyAKQCkysisrsuou6oJFJHs\/Gk9L406x6sON1a2JX3516FJ2\n·····中间省略······\nR1ogCVEZq36sgNYUwaT55gLKk5Ik5T6YQimy0bsvo5oQuw==\n-----END\u0026nbsp;RSA\u0026nbsp;PRIVATE\u0026nbsp;KEY-----\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E利用私钥文件，生成证书申请文件。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;其实这里的时间是没有必要指定的。\n#\u0026nbsp;因为证书的时间，是由颁发机构指定的，因此申请机构填写了时间也没用\n#\u0026nbsp;其中有些信息必须要与根证书的内容相同因为在根证书的openssl.cnf文件中已经指定。\n[root@centos6\u0026nbsp;tls]$openssl\u0026nbsp;req\u0026nbsp;-new\u0026nbsp;-key\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem\u0026nbsp;\u0026nbsp;-days\u0026nbsp;3650\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/tls\/subca.csr\nYou\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;be\u0026nbsp;asked\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;information\u0026nbsp;that\u0026nbsp;will\u0026nbsp;be\u0026nbsp;incorporated\ninto\u0026nbsp;your\u0026nbsp;certificate\u0026nbsp;request.\nWhat\u0026nbsp;you\u0026nbsp;are\u0026nbsp;about\u0026nbsp;to\u0026nbsp;enter\u0026nbsp;is\u0026nbsp;what\u0026nbsp;is\u0026nbsp;called\u0026nbsp;a\u0026nbsp;Distinguished\u0026nbsp;Name\u0026nbsp;or\u0026nbsp;a\u0026nbsp;DN.\nThere\u0026nbsp;are\u0026nbsp;quite\u0026nbsp;a\u0026nbsp;few\u0026nbsp;fields\u0026nbsp;but\u0026nbsp;you\u0026nbsp;can\u0026nbsp;leave\u0026nbsp;some\u0026nbsp;blank\nFor\u0026nbsp;some\u0026nbsp;fields\u0026nbsp;there\u0026nbsp;will\u0026nbsp;be\u0026nbsp;a\u0026nbsp;default\u0026nbsp;value,\nIf\u0026nbsp;you\u0026nbsp;enter\u0026nbsp;\u0027.\u0027,\u0026nbsp;the\u0026nbsp;field\u0026nbsp;will\u0026nbsp;be\u0026nbsp;left\u0026nbsp;blank.\n-----\nCountry\u0026nbsp;Name\u0026nbsp;(2\u0026nbsp;letter\u0026nbsp;code)\u0026nbsp;[XX]:CN\nState\u0026nbsp;or\u0026nbsp;Province\u0026nbsp;Name\u0026nbsp;(full\u0026nbsp;name)\u0026nbsp;[]:shandong\nLocality\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;city)\u0026nbsp;[Default\u0026nbsp;City]:qingdao\nOrganization\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;company)\u0026nbsp;[Default\u0026nbsp;Company\u0026nbsp;Ltd]:pojun.tech\nOrganizational\u0026nbsp;Unit\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;section)\u0026nbsp;[]:opt\nCommon\u0026nbsp;Name\u0026nbsp;(eg,\u0026nbsp;your\u0026nbsp;name\u0026nbsp;or\u0026nbsp;your\u0026nbsp;server\u0027s\u0026nbsp;hostname)\u0026nbsp;[]:subca.pojun.tech\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\nEmail\u0026nbsp;Address\u0026nbsp;[]:\n\n#\u0026nbsp;这里的两步\u0026nbsp;默认也可以不用填\nPlease\u0026nbsp;enter\u0026nbsp;the\u0026nbsp;following\u0026nbsp;\u0027extra\u0027\u0026nbsp;attributes\nto\u0026nbsp;be\u0026nbsp;sent\u0026nbsp;with\u0026nbsp;your\u0026nbsp;certificate\u0026nbsp;request\nA\u0026nbsp;challenge\u0026nbsp;password\u0026nbsp;[]:123456\nAn\u0026nbsp;optional\u0026nbsp;company\u0026nbsp;name\u0026nbsp;[]:magedu.com\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EB 将证书的申请文件，传递给根CA\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E将前一步生成的证书的申请文件，传递给根CA机构\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;最好将申请文件，传输到指定的目录下，这样便于管理\n[root@centos6\u0026nbsp;tls]$scp\u0026nbsp;\/etc\/pki\/tls\/subca.csr\u0026nbsp;\u0026nbsp;172.18.253.127:\/etc\/pki\/CA\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EC CA颁发证书\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E此时切换到根CA主机，生成证书\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;这里的时间必须要进行指定。这时证书颁发机构指定的证书的有效期。\n#\u0026nbsp;[root@localhost\u0026nbsp;CA]#openssl\u0026nbsp;ca\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/subca.csr\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u0026nbsp;-days\u0026nbsp;3650\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nCheck\u0026nbsp;that\u0026nbsp;the\u0026nbsp;request\u0026nbsp;matches\u0026nbsp;the\u0026nbsp;signature\nSignature\u0026nbsp;ok\nCertificate\u0026nbsp;Details:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Serial\u0026nbsp;Number:\u0026nbsp;1\u0026nbsp;(0x1)\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Validity\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Not\u0026nbsp;Before:\u0026nbsp;Sep\u0026nbsp;11\u0026nbsp;14:38:13\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Not\u0026nbsp;After\u0026nbsp;:\u0026nbsp;Sep\u0026nbsp;11\u0026nbsp;14:38:14\u0026nbsp;2018\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Subject:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;countryName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;CN\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;stateOrProvinceName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;shandong\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;organizationName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;pojun.tech\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;organizationalUnitName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;opt\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;commonName\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;=\u0026nbsp;subca.pojun.tech\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;extensions:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;Basic\u0026nbsp;Constraints:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;CA:FALSE\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Netscape\u0026nbsp;Comment:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;OpenSSL\u0026nbsp;Generated\u0026nbsp;Certificate\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;Subject\u0026nbsp;Key\u0026nbsp;Identifier:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;DB:3E:9C:F4:F4:E9:42:15:00:E7:35:52:FE:04:9A:48:8C:BD:1A:1B\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;Authority\u0026nbsp;Key\u0026nbsp;Identifier:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;keyid:01:17:F1:CB:91:4B:20:AD:C7:DF:13:05:A4:D8:83:B2:AB:75:D1:05\n\nCertificate\u0026nbsp;is\u0026nbsp;to\u0026nbsp;be\u0026nbsp;certified\u0026nbsp;until\u0026nbsp;Sep\u0026nbsp;11\u0026nbsp;14:38:14\u0026nbsp;2018\u0026nbsp;GMT\u0026nbsp;(3650\u0026nbsp;days)Sign\u0026nbsp;the\u0026nbsp;certificate?\u0026nbsp;[y\/n]:y\n\n\n1\u0026nbsp;out\u0026nbsp;of\u0026nbsp;1\u0026nbsp;certificate\u0026nbsp;requests\u0026nbsp;certified,\u0026nbsp;commit?\u0026nbsp;[y\/n]y\nWrite\u0026nbsp;out\u0026nbsp;database\u0026nbsp;with\u0026nbsp;1\u0026nbsp;new\u0026nbsp;entries\nData\u0026nbsp;Base\u0026nbsp;Updated\n\n#此时查看index.txt\u0026nbsp;文件中，会看到增加了一条新的记录。\n[root@localhost\u0026nbsp;CA]#cat\u0026nbsp;index.txt\nV\t180911143814Z\t\t01\tunknown\t\/C=CN\/ST=shandong\/O=pojun.tech\/OU=opt\/CN=subca.pojun.tech\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003ED 将根CA生成的证书颁发给请求者\u003C\/strong\u003E\u003C\/p\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;主机B是作为子CA机构存在的，所以证书文件，必须是cacert.pem，否则，子CA将不能够给其他用户颁发证书。\n[root@localhost\u0026nbsp;CA]#scp\u0026nbsp;\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u0026nbsp;172.18.250.114:\/etc\/pki\/CA\/cacert.pem\u003C\/pre\u003E\u003Ch3 id=\u0022h8\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E普通用户向子CA机构，申请证书\u003C\/h3\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E这一个过程，与子CA向根CA申请证书的过程是类似的。我们将命令的记录如下\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#生成私钥文件\n#\u0026nbsp;因为是普通用户，所以生成的私钥文件应该与之前的cacert.pem\u0026nbsp;有所区别\u0026nbsp;\n[root@localhost\u0026nbsp;~]#\u0026nbsp;(umask\u0026nbsp;066;\u0026nbsp;openssl\u0026nbsp;genrsa\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/tls\/private\/app.key\u0026nbsp;1024)\n\n#利用私钥文件，生成证书申请文件\n[root@localhost\u0026nbsp;~]#\u0026nbsp;openssl\u0026nbsp;req\u0026nbsp;-new\u0026nbsp;-key\u0026nbsp;\/etc\/pki\/tls\/private\/app.key\u0026nbsp;\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/tls\/app.csr\n\n\n#\u0026nbsp;将证书申请文件发送给\u0026nbsp;子CA证书颁发机构\n[root@localhost\u0026nbsp;~]#\u0026nbsp;scp\u0026nbsp;\/etc\/pki\/tls\/app.csr\u0026nbsp;\u0026nbsp;172.18.250.114:\/etc\/pki\/CA\n\n#\u0026nbsp;切换到子CA证书颁发机构\n#\u0026nbsp;子CA证书颁发机构颁发证书\n[root@centos6\u0026nbsp;CA]$openssl\u0026nbsp;ca\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/app.csr\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/certs\/app.crt\u0026nbsp;-days\u0026nbsp;365\n\n#将生成的证书传递给申请者\n[root@centos6\u0026nbsp;CA]$scp\u0026nbsp;\/etc\/pki\/CA\/certs\/app.crt\u0026nbsp;\u0026nbsp;172.18.253.58:\/etc\/pki\/CA\/certs\/\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E这样，正常的证书颁发流程就算是完成了。将我们生成的根证书，子CA证书以及普通用户证书导出到Windows系统中，并安装，然后我们就可以看到，整个证书路径了。如下图所示。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/CA%E8%AF%81%E4%B9%A6%E8%B7%AF%E5%BE%84.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ CA_04\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003E\u003Ch2 id=\u0022h9\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E查看证书状态\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E查看证书状态，使用下面这条命令 ，可以查看证书的内容以及颁发者的多种信息。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003Eopenssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-text|issuer|subject|serial|dates\n\n-text\u0026nbsp;\u0026nbsp;\u0026nbsp;证书的内容\n-issuer\u0026nbsp;证书颁发者的信息\n-subject\u0026nbsp;\u0026nbsp;证书主体的信息\n-serial\t\u0026nbsp;证书的序列号信息\n-dates\u0026nbsp;查看证书的时间\n\n\n#\u0026nbsp;证书颁发者的信息\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-issuer\nissuer=\u0026nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\n#\u0026nbsp;\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-subject\nsubject=\u0026nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\n#\u0026nbsp;证书的有效时间\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/cacert.pem\u0026nbsp;-noout\u0026nbsp;-dates\nnotBefore=Sep\u0026nbsp;11\u0026nbsp;13:43:42\u0026nbsp;2017\u0026nbsp;GMT\nnotAfter=Sep\u0026nbsp;\u0026nbsp;6\u0026nbsp;13:43:42\u0026nbsp;2037\u0026nbsp;GMT\n\n\n#也可以根据index.txt\u0026nbsp;文件中的证书编号，进行查看状态\n[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;ca\u0026nbsp;-status\u0026nbsp;01\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf01=Valid\u0026nbsp;(V)\u003C\/pre\u003E\u003Ch2 id=\u0022h10\u0022 style=\u0022font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E吊销证书\u003C\/h2\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E这里我们将子CA的证书吊销掉。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EA 首先在子CA主机上获取到要吊销的证书的serial\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E前面的例子中，我们的子CA证书的存放路径是\u003Ccode class=\u0022highlighter-rouge\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\u0022\u003E\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u003C\/code\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E[root@centos6\u0026nbsp;CA]$openssl\u0026nbsp;x509\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/certs\/subca.crt\u0026nbsp;-noout\u0026nbsp;-serial\u0026nbsp;-subject\nserial=01\nsubject=\u0026nbsp;\/C=CN\/ST=shandong\/O=pojun.tech\/OU=opt\/CN=subca.pojun.tech\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EB 在根CA上根据客户提交的serial与subject信息，对比检验是否与index.txt文件中的信息一致，然后吊销证书\u003C\/strong\u003E\u003C\/p\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#进入到CA的路径下，查看文件目录\n[root@localhost\u0026nbsp;CA]#pwd\n\/etc\/pki\/CA\n\n[root@localhost\u0026nbsp;CA]#tree\n.\n├──\u0026nbsp;cacert.pem\n├──\u0026nbsp;certs\n│\u0026nbsp;\u0026nbsp;\u0026nbsp;└──\u0026nbsp;subca.crt\t\t#\u0026nbsp;这是直接颁发给子CA的证书文件├──\u0026nbsp;crl\n├──\u0026nbsp;index.txt\n├──\u0026nbsp;index.txt.attr\n├──\u0026nbsp;index.txt.old\n├──\u0026nbsp;newcerts\n│\u0026nbsp;\u0026nbsp;\u0026nbsp;└──\u0026nbsp;01.pem\t\t\t#这个就是与子CA证书一致的Serial文件├──\u0026nbsp;private\n│\u0026nbsp;\u0026nbsp;\u0026nbsp;└──\u0026nbsp;cakey.pem\n├──\u0026nbsp;serial\n├──\u0026nbsp;serial.old\n└──\u0026nbsp;subca.csr\n\n\n#\u0026nbsp;吊销子CA的证书\u0026nbsp;使用revoke\u0026nbsp;命令\n[root@localhost\u0026nbsp;CA]#openssl\u0026nbsp;ca\u0026nbsp;-revoke\u0026nbsp;\/etc\/pki\/CA\/newcerts\/01.pem\u0026nbsp;\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nRevoking\u0026nbsp;Certificate\u0026nbsp;01.\nData\u0026nbsp;Base\u0026nbsp;Updated\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003EC 指定第一个吊销证书的编号\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E指定吊销证书的编号，只有在更新证书吊销列表之前，才需要操作\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E#\u0026nbsp;这条命令与生成证书时指定证书serial\u0026nbsp;号码的作用是一致的。\n#\u0026nbsp;就是说，指定下一个证书吊销时的编号。\n[root@localhost\u0026nbsp;~]#echo\u0026nbsp;01\u0026nbsp;\u0026gt;\u0026nbsp;\/etc\/pki\/CA\/crlnumber\n[root@localhost\u0026nbsp;~]#cat\u0026nbsp;\/etc\/pki\/CA\/crlnumber\n01\u003C\/pre\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003ED 更新证书吊销列表\u003C\/strong\u003E\u003C\/p\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E前面指定了证书吊销列表编号之后，就可以来更新证书吊销列表了。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;ca\u0026nbsp;-gencrl\u0026nbsp;-out\u0026nbsp;\/etc\/pki\/CA\/crl\/crl.pem\nUsing\u0026nbsp;configuration\u0026nbsp;from\u0026nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter\u0026nbsp;pass\u0026nbsp;phrase\u0026nbsp;for\u0026nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\u0026nbsp;\u0026nbsp;\u0026nbsp;#这里提示输入密码\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E查看证书吊销列表的文件\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cpre class=\u0022highlight\u0022 style=\u0022font-family:Menlo, Monaco, Consolas, \u0027Courier New\u0027, monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\u0022\u003E[root@localhost\u0026nbsp;~]#openssl\u0026nbsp;crl\u0026nbsp;-in\u0026nbsp;\/etc\/pki\/CA\/crl\/crl.pem\u0026nbsp;-noout\u0026nbsp;-text\nCertificate\u0026nbsp;Revocation\u0026nbsp;List\u0026nbsp;(CRL):\u0026nbsp;\u0026nbsp;\u0026nbsp;#证书吊销列表\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Version\u0026nbsp;2\u0026nbsp;(0x1)\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Signature\u0026nbsp;Algorithm:\u0026nbsp;sha256WithRSAEncryption\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Issuer:\u0026nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Last\u0026nbsp;Update:\u0026nbsp;Sep\u0026nbsp;12\u0026nbsp;11:58:17\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Next\u0026nbsp;Update:\u0026nbsp;Oct\u0026nbsp;12\u0026nbsp;11:58:17\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;CRL\u0026nbsp;extensions:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;X509v3\u0026nbsp;CRL\u0026nbsp;Number:\u0026nbsp;\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;1\nRevoked\u0026nbsp;Certificates:\t\t\t\t\t#这里的标识显示，证书已经被吊销了\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Serial\u0026nbsp;Number:\u0026nbsp;01\t\t\t\t\t#吊销的序列号\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Revocation\u0026nbsp;Date:\u0026nbsp;Sep\u0026nbsp;12\u0026nbsp;11:52:47\u0026nbsp;2017\u0026nbsp;GMT\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Signature\u0026nbsp;Algorithm:\u0026nbsp;sha256WithRSAEncryption\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;b4:6e:f2:73:21:ed:c4:38:39:06:29:76:61:ac:d6:ee:a4:5d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;e8:cb:7c:8b:f8:01:21:ba:bd:b2:46:fa:ea:bf:de:fa:6e:f6:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;85:d6:93:7c:81:b4:2d:d5:eb:c2:94:a3:6f:13:6d:f3:3f:48:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;56:85:72:96:cf:e0:ea:a9:0e:07:43:6d:62:2d:4d:e2:2e:b5:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;02:6a:27:7a:31:76:eb:4e:b1:d6:83:8b:d7:39:10:14:d6:94:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;77:4b:10:d8:24:46:95:1b:48:87:16:77:ce:8c:1b:54:2c:4d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ee:2f:24:13:10:62:30:32:74:9e:84:49:c9:dc:a9:fc:31:60:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;57:b5:43:7a:a3:09:75:60:1e:6a:f2:26:e9:54:37:2d:ce:0b:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ac:b2:41:c2:d9:02:99:fc:a3:99:15:9c:10:a7:f4:be:08:83:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;23:ee:ef:74:83:ea:fd:f7:c9:e1:87:6f:9b:1d:c3:df:88:2d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;79:2b:71:4b:9e:6f:ae:f9:08:d9:66:d4:f1:49:df:7e:89:99:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;06:a3:86:72:37:02:78:0f:16:e8:87:8a:61:5b:a3:ac:e2:46:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;38:ce:86:29:c9:c6:e5:8c:f8:25:2f:7e:d1:62:13:57:a3:a6:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;10:42:13:b9:e4:0b:fa:9f:f4:d0:95:9b:5d:9b:2d:38:7f:8d:\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ac:c0:e6:3f\u003C\/pre\u003E\u003Cblockquote style=\u0022padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:0px;\u0022\u003E在实际的使用过程中，有很多这样的实例。例如我们经常使用的淘宝，在使用浏览器访问淘宝的时候，就可以查看淘宝的证书吊销列表。如下图所示。\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cimg src=\u0022http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/%E6%B7%98%E5%AE%9D%E7%9A%84%E8%AF%81%E4%B9%A6%E5%90%8A%E9%94%80%E5%88%97%E8%A1%A8.png\u0022 alt=\u0027使用OpenSSL实现CA证书的搭建过程_ OpenSSL_05\u0027 style=\u0022border:0px;vertical-align:middle;\u0022 \/\u003E\u003C\/p\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Cstrong\u003E至此，关于自己搭建CA的过程基本上就完成了。熟悉了上面的操作之后，就可以自己动手简单的搭建一个证书了，然后也可以体验一下整个流程\u003C\/strong\u003E\u003C\/p\u003E参考资料\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.ruanyifeng.com\/blog\/2014\/09\/illustration-ssl.html\u0022 style=\u0022color:rgb(0,127,255);\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.ruanyifeng.com\/blog\/2014\/09\/illustration-ssl.html\u003C\/a\u003E\u003C\/p\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.ruanyifeng.com\/blog\/2014\/02\/ssl_tls.html\u0022 style=\u0022color:rgb(0,127,255);\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.ruanyifeng.com\/blog\/2014\/02\/ssl_tls.html\u003C\/a\u003E\u003C\/p\u003E\u003Cp style=\u0022margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\u0022\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/kb.cnblogs.com\/page\/197396\/\u0022 style=\u0022color:rgb(0,127,255);\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/kb.cnblogs.com\/page\/197396\/\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cbr \/\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cbr \/\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E个人博客地址：\u003C\/span\u003E\u003Ca rel=\u0022nofollow\u0022 href=\u0022http:\/\/www.pojun.tech\/\u0022 style=\u0022padding:0px;margin:0px;color:rgb(1,95,145);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;white-space:normal;\u0022 target=\u0022_blank\u0022\u003Ehttp:\/\/www.pojun.tech\/\u003C\/a\u003E\u003Cspan style=\u0022color:rgb(51,51,51);font-family:\u0027Open Sans\u0027, Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\u0022\u003E\u0026nbsp;欢迎访问\u003C\/span\u003E\u003C\/p\u003E"))
        var bucketObj = CtoEditor.analysisChart
        bucketObj.searchChartDom()
    }
</script>
<!-- <script id="MathJax-script" async src="https://cdn.bootcss.com/mathjax/3.0.5/es5/tex-mml-chtml.js"></script> -->
    

<div class="common-section common-spacing mb30 comment-box" id="comment">
    <div class="comment-textarea clearfix">
        <div class="avatar">
            <a href="https://blog.51cto.com/" class="header-img" target="_blank">
                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/noavatar_middle.gif">
            </a>
        </div>
        <div class="textarea-box">
            <div class="textarea-show clearfix">
                <span>提问和评论都可以，用心的回复会被更多人看到</span>
                <strong>评论</strong>
            </div>
            <div class="textarea-hide">
                <div class="top">
                    <textarea class="textareadiv textareadiv-publish" name="" id="textareadiv-publish" placeholder="提问和评论都可以，用心的回复会被更多人看到和认可" maxlength="500"></textarea>
                </div>
                <div class="bot clearfix">
                    <strong class="fr publish-btn" flag="1" id="publish-btn">发布评论</strong>
                </div>
            </div>
        </div>
    </div>
    <div class="comment-num" style="display:none;">
        <strong>全部评论</strong>
        <span>(<b id="CommentNum"></b>)</span>
        <span class="fr sort" type="up_num" order="0"><i class="iconblog blogzuire"></i>最热</span>
        <span class="fr sort on" type="create_time" order="0"><i class="iconblog blogzuixinblogzuixin"></i>最新</span>
    </div>
    <div class="comment-List-box"></div>
    <script id="commentListScript" type="text/html">
        {{each list value index}}
        <div class="floor-1">
            <div class="comment-List clearfix" id="{{value.id}}">
                <div class="avatar">
                    <a href="{{value.location_url}}"><img src="{{value.avatar}}" alt=""></a>
                    {{if value.is_vip == 1}}
                    <i class="vip-icon vip-icon-4" title="51CTO VIP会员"></i>
                    {{/if}}
                </div>
                <div class="comment-detail">
                    <h3 class="clearfix">
                        <a href="{{value.location_url}}" class="fl">{{value.nickname}}</a>
                        {{if value.is_author == 1}}
                        <span class="tag fl">博主</span>
                        {{/if}}
                        <span class="time fr">{{value.create_time}}</span></h3>
                    <div class="content">{{value.content}}</div>
                    <div class="action clearfix">
                        {{if value.is_reply == 1}}
                        <span class="reply"><i class="iconblog blogpinglun2"></i>回复</span>
                        {{/if}}
                        <span class="vote {{value.is_praise ==1 ? 'on' : ''}}"><i class="iconblog blogzan2"></i>点赞<b num="{{value.up_num}}">{{value.up_num>0 ? value.up_num : ''}}</b></span>
                        {{if value.is_delete == 1}}
                        <span class="delete"><i class="iconblog blogshan"></i>删除</span>
                        {{/if}}
                    </div>
                </div>
                <input type="hidden"  class="first_pid" value="{{value.id}}">
                <input type="hidden"  class="parent_id" value="{{value.id}}">
                <input type="hidden"  class="reply_uid" value="{{value.user_id}}">
            </div>
            <div class="floor-2">
                {{if value.children.total > 0}}
                    {{each value.children.list item key}}
                    <div class="comment-List clearfix" id="{{item.id}}" {{if key>3}}style="display:none;"{{/if}}>
                        <div class="avatar">
                            <a href=""><img src="{{item.avatar}}" alt=""></a>
                            {{if item.is_vip == 1}}
                            <i class="vip-icon vip-icon-4" title="51CTO VIP会员"></i>
                            {{/if}}
                        </div>
                        <div class="comment-detail">
                            <h3 class="clearfix">
                                <a href="" class="fl">{{item.nickname}}</a>
                                {{if item.is_author == 1}}
                                <span class="tag fl">博主</span>
                                {{/if}}
                                <i class="fl">回复了</i>
                                <b class="other fl">{{item.reply_nickname}}</b>

                                <span class="time fr">{{item.create_time}}</span>
                            </h3>
                            {{if item.is_reply_content>0}}
                            <div class="reply-content">{{item.reply_content}}</div>
                            {{/if}}
                            <div class="content">{{item.content}}</div>
                            <div class="action clearfix">
                                {{if item.is_reply == 1}}
                                <span class="reply"><i class="iconblog blogpinglun2"></i>回复</span>
                                {{/if}}
                                <span class="vote {{item.is_praise ==1 ? 'on' : ''}}"><i class="iconblog blogzan2"></i>点赞<b num="{{item.up_num}}">{{item.up_num>0 ? item.up_num : ''}}</b></span>
                                {{if item.is_delete == 1}}
                                <span class="delete"><i class="iconblog blogshan"></i>删除</span>
                                {{/if}}
                            </div>
                        </div>
                        <input type="hidden"  class="first_pid" value="{{item.first_pid}}">
                        <input type="hidden"  class="parent_id" value="{{item.id}}">
                        <input type="hidden"  class="reply_uid" value="{{item.user_id}}">
                    </div>
                    {{if key == 3}}
                    <div class="more-toggle">查看更多回复<i class="iconblog blogchuangzuolanhufan"></i></div>
                    {{/if}}
                    {{/each}}
                {{/if}}
            </div>
        </div>
        {{/each}}
        {{if total>0}}
        {{@pagination}}
        {{/if}}
    </script>
</div>
<script>
    var cid = '0';
    var fid = '0';
    var page = '1';
</script>
    
    <section class="common-section common-spacing mb30">
        <div class="clearfix common-sub-title">
            <h2>相关文章</h2>
        </div>
        <ul class="recommend-about">
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_15239532/5195902" data-report-query="xiangguantuijian&amp;01" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/31150445_61ceab8d2c10d16176.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>Nginx-从零开始使用nginx实现反向代理及负载均衡</h3>
                            <p> 块需要 zlib 库  ://.zlib.net/ （上不去了。。。可以从别的地方下载 ，比如 https:/...</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         centos安装nginx                                    </span>
                                                                    <span class="tag-item">
                                         nginx反向代理                                    </span>
                                                                    <span class="tag-item">
                                         nginx负载均衡                                    </span>
                                                                    <span class="tag-item">
                                         keepalived高可用                                    </span>
                                                                    <span class="tag-item">
                                         nginx                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/zhaodongwei/5205395" data-report-query="xiangguantuijian&amp;02" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/1649908501221313.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>Exchange2016 DAG部署</h3>
                            <p> 公司的邮件架构可能会随着业务发展、网络、机房等原因做相应更改。故搭建一套Exchange2016环境，后续会在此环境中来做测试。域名为oa.demo.com架构如下角色机器名IP地址主域控DC01192.168.3.230辅域控DC02（暂未部署）192.168.2.231邮箱服务器012016CAS01192.168.2.232邮箱服务器022016CAS02192.168.2.233邮箱服务器</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         exchange2016dag                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/thinkerlxw/5192757" data-report-query="xiangguantuijian&amp;03" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/10004723_6251b89bc102d63473.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>宝塔简单部署vue</h3>
                            <p> 宝塔简单部署vue​​1、宝塔环境搭建​​​​2、创建网站​​​​1、添加站点​​​​2、上传文件​​​​3、重新配置该网站目录​​​​3、添加域名证书​​ 利用vue打包后的dist文件直接部署网站1、宝塔环境搭建​​网站环境搭建​​2、创建网站1、添加站点新建一个站点，编写域名，域名可以添加端口号，如：www.test.com:9999，则访问的时候要戴上端口号访问，如果有域名证书，用80即可</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         宝塔                                    </span>
                                                                    <span class="tag-item">
                                         网站                                    </span>
                                                                    <span class="tag-item">
                                         环境搭建                                    </span>
                                                                    <span class="tag-item">
                                         上传文件                                    </span>
                                                                    <span class="tag-item">
                                         端口号                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_14368928/5249007" data-report-query="xiangguantuijian&amp;04" target="_blank">
                                                        <h3>申请免费的 SSL 证书，nginx配置ssl证书，并部署到阿里云服务器</h3>
                            <p> 最近阿里云服务器ssl证书快过期了，就申请的新的ssl免费证书，顺便在自己的服务器上搭建了nginx，可以支持https请求，下面就来说下怎么购买并配置ssl证书，并部署到阿里云服务器。一，在阿里云购买ssl证书1，在阿里云搜索ssl2，这里进入ssl证书控制台3，这里点购买证书4，这里购买免费证书即可5，购买成功后，这里申请签发6,填写相应信息...</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         ssl                                    </span>
                                                                    <span class="tag-item">
                                         ssl证书                                    </span>
                                                                    <span class="tag-item">
                                         nginx                                    </span>
                                                                    <span class="tag-item">
                                         阿里云                                    </span>
                                                                    <span class="tag-item">
                                         服务器                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_14842009/5145902" data-report-query="xiangguantuijian&amp;05" target="_blank">
                                                        <h3>CA证书转换</h3>
                            <p> ca证书转换1.pfx解释1.带有私钥的证书 由Public Key Cryptography Standards #12（公钥加密技术12号标准），PKCS#12标准定义，包含了公钥和私钥的二进制形式的证书，以pfx作为证书文件的后缀名。2.二进制编码的证书 证书中没有私钥，DER编码二进制格式的证书文件，以cer作为证书文件后缀名。3.Base64编码的证书 证书中没有私钥，BASE</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         后缀名                                    </span>
                                                                    <span class="tag-item">
                                         linux                                    </span>
                                                                    <span class="tag-item">
                                         公钥加密                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/lvcy/5001401" data-report-query="xiangguantuijian&amp;06" target="_blank">
                                                        <h3>4、CA证书服务器</h3>
                            <p> 一、证书服务证书颁发机构（CA,CertificateAuthority）即颁发数字证书的机构。是负责发放和管理数字证书的权威机构，并作为电子商务交易中受信任的第三方，承担公钥体系中公钥的合法性检验的责任。1、证书配文件存放shell查看openssl配置文件cat/etc/pki/tls/openssl.cnfcadefault_ca=CA_default默认的ca部分CA_defaultdir</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         CA                                    </span>
                                                                    <span class="tag-item">
                                         数字证书                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_15619251/5259362" data-report-query="xiangguantuijian&amp;07" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/832db9203fc1e206d486594bc0291ed9df812b.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>终于有人把搭建Linux系统BC脚本命令应用给讲明白了</h3>
                            <p> 今天进51cto学习中看到这几篇文章，想来我也写一遍关于搭建Linux系统命令运用的文章，其实都是老调重弹了，BC命令的范式组已近被别人讲很多次了，我就在通过这个有趣的标题“终于有人把搭建***给讲明白了"在嗷诉一遍有关BC命令脚本应用范式&lt;caichen.cc&gt;详述一编。&amp;nbsp; bc命令的简单使用应用方法&amp;nbsp;bc是搭建内置Linux系统的计算器，可以处理浮点数的计算。 </p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         linux系统                                    </span>
                                                                    <span class="tag-item">
                                         浮点数                                    </span>
                                                                    <span class="tag-item">
                                         重定向                                    </span>
                                                                    <span class="tag-item">
                                         命令                                    </span>
                                                            </div>
                                                                            <a href="https://blog.51cto.com/subject/9/new" target="_blank" class="list-subjuct">
                                <i class="iconblog bloghuati fontsizeIcon"></i>
                                <span title="#在51CTO的第一篇博文#">#在51CTO的第一篇博文#</span>
                            </a>
                                            </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/binghe001/5235393" data-report-query="xiangguantuijian&amp;08" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/10123811_61dbb833e996a92595.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>Java之——导出Excel通用工具类</h3>
                            <p> 转载请注明出处：https://blog.csdn.net/l1028386804/article/details/79659605新版地址 https://blog.csdn.net/l1028386804/article/details/103791256一、概述相信大家在工作过程中，都会遇到这样一个需求，就是将相关的数据列表导出成excel，那么，有没有通用的导出方式呢，这里，...</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         Java                                    </span>
                                                                    <span class="tag-item">
                                         java                                    </span>
                                                                    <span class="tag-item">
                                         apache                                    </span>
                                                                    <span class="tag-item">
                                         数据                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/wellname/5252436" data-report-query="xiangguantuijian&amp;09" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/96f8af427cbb266c207086893eff90d2cd486d.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>【Ceph】基于VMware Workstation虚拟机Ceph集群安装配置笔记</h3>
                            <p> 1.写在前面本文主要内容为搭建三节点Ceph集群的过程。这两天捣鼓了一下ceph，准备做个底层基于ceph的nas存储，首先网上看了一些教程，还有对照了一下书籍，依然在安装配置时ceph还是遇到很多问题，所以写此贴记录一下自己遇到的问题和安装过程。2.安装环境linux版本，精简版Ceph版本 Giant&nbsp;VMware workstation版本网络（桥接物理主机）node1 192.1</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         ceph                                    </span>
                                                            </div>
                                                                            <a href="https://blog.51cto.com/subject/2/new" target="_blank" class="list-subjuct">
                                <i class="iconblog bloghuati fontsizeIcon"></i>
                                <span title="#私藏项目实操分享#">#私藏项目实操分享#</span>
                            </a>
                                            </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_15070896/5250423" data-report-query="xiangguantuijian&amp;10" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/8748eb620c87a7669c675904baa80d195af377.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>使用二层三层交换机连接DHCP服务器进行操作（思科）</h3>
                            <p> 正确连接DHCP服务器</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         服务器                                    </span>
                                                                    <span class="tag-item">
                                         配置文件                                    </span>
                                                                    <span class="tag-item">
                                         ip地址                                    </span>
                                                            </div>
                                                                            <a href="https://blog.51cto.com/subject/2/new" target="_blank" class="list-subjuct">
                                <i class="iconblog bloghuati fontsizeIcon"></i>
                                <span title="#私藏项目实操分享#">#私藏项目实操分享#</span>
                            </a>
                                            </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/shijianfeng/5152355" data-report-query="xiangguantuijian&amp;11" target="_blank">
                                                        <h3>SSL证书 和 CA证书 区别</h3>
                            <p> ssl是https证书，是用来加密通信。ca是用户身份的证书，用来验证这个用户是否具有权限做某件事</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         计算机网络                                    </span>
                                                                    <span class="tag-item">
                                         其他                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_15070913/5231603" data-report-query="xiangguantuijian&amp;12" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/c3f525440fcfcda7620042c59c684fd5434d5f.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>搭建vsftp 服务器</h3>
                            <p> 实验一：1.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;搭建VSFTP服务器，实现系统账号可以被锁定，并且将tom用户加入到黑名单。1.搭建vsftp服务器2.实现系统账号可以被锁定3.将tom加入到黑名单4.测试结果</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         ftp服务器                                    </span>
                                                            </div>
                                                                            <a href="https://blog.51cto.com/subject/2/new" target="_blank" class="list-subjuct">
                                <i class="iconblog bloghuati fontsizeIcon"></i>
                                <span title="#私藏项目实操分享#">#私藏项目实操分享#</span>
                            </a>
                                            </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/abnerhuang/5258233" data-report-query="xiangguantuijian&amp;13" target="_blank">
                                                        <h3>FortiGate与Aruze搭建虚拟专用隧道使用BGP动态路由注意事项</h3>
                            <p> 当我们通过FortiGate防火墙与Azure配置虚拟专用隧道且中间跑了BGP动态路由的时候，可能会出现VPN隧道正常Up状态，但是BGP邻居关系却处于关闭状态。</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         azure                                    </span>
                                                                    <span class="tag-item">
                                         网络协议                                    </span>
                                                                    <span class="tag-item">
                                         网络                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_14637492/5260093" data-report-query="xiangguantuijian&amp;14" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/19001048_6234af0810e3c24380.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>领域驱动设计（DDD）架构演进和DDD的几种典型架构介绍（图文详解）</h3>
                            <p> 我们生活中都听说了DDD，也了解了DDD，那么怎么将一个新项目从头开始按照DDD的过程进行划分与架构设计呢？一、专业术语各种服务IAAS：基础设施服务，Infrastructure-as-...</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         编程语言                                    </span>
                                                                    <span class="tag-item">
                                         java                                    </span>
                                                                    <span class="tag-item">
                                         分布式                                    </span>
                                                                    <span class="tag-item">
                                         人工智能                                    </span>
                                                                    <span class="tag-item">
                                         大数据                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/pengds/5224229" data-report-query="xiangguantuijian&amp;15" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/19101211_625e1a7b5f8d061040.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>在UOS上配置nfs共享存储</h3>
                            <p> Hello，大家好啊，今天为大家带来如何在uos操作系统上搭建nfs共享存储的内容，之前我们已经学习过如何在《centos7上搭建nfs》的内容，今天一起来看看在uos上如何搭建吧，参考信息已经放到如下表格中，各位可以自行获取</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         centos                                    </span>
                                                                    <span class="tag-item">
                                         服务器                                    </span>
                                                                    <span class="tag-item">
                                         ubuntu                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/binghe001/5246556" data-report-query="xiangguantuijian&amp;16" target="_blank">
                                                        <h3>Kafka之——单机多broker实例集群搭建</h3>
                            <p> 今天，就带着大家一起来实现Kafka集群的</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         Kafka                                    </span>
                                                                    <span class="tag-item">
                                         kafka                                    </span>
                                                                    <span class="tag-item">
                                         properties文件                                    </span>
                                                                    <span class="tag-item">
                                         集群配置                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/andye/5219445" data-report-query="xiangguantuijian&amp;17" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/18143402_625d065a9eb6d25500.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>终极完美《简易商城购物车系统》揭秘--MVC设计模式</h3>
                            <p> 《简易商城购物系统》大家经常去网上够物，对网上所谓的购物车应该不会陌生吧，那么今天我们就用使用javaweb的MVC设计模式来实现一个网上购物系统的案例。最终效果如下：​​三层架构的简单介绍​​一、开发步骤首先要搞清楚你要做什么，然后：1.搭建开发环境jstl.jarstandard.jar2.建立类包3.建立数据库使用内存数据库总之，此购物车的实现，使用的是MVC设计模式，MVC设计模式的思路就</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         java                                    </span>
                                                                    <span class="tag-item">
                                         html                                    </span>
                                                                    <span class="tag-item">
                                         mvc                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/u_15264787/5216956" data-report-query="xiangguantuijian&amp;18" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/31072456_61ce3fc81f73563604.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>First——tornaod环境搭建及基本框架搭建——成功运行第一个基于tornado搭建的服务器框架</h3>
                            <p> ​tornado官方文档：官方英文中文4.31.项目环境搭建与本人django项目环境搭建步骤一样（不同点如下！）：点我立即跳转！（1）windows本地存储项目的文件夹为:tudo_first（2）ubuntu下创建的tornado项目环境①创建项目运行的python虚拟环境（指定python版本为python3）ubuntu命令：mkvirtualenv -p python3 tudo②安装t</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                                    <span class="tag-item">
                                         ubuntu                                    </span>
                                                                    <span class="tag-item">
                                         tornado                                    </span>
                                                                    <span class="tag-item">
                                         html                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                            <li>
                    <div class="about-aticle-list">
                        <a href="https://blog.51cto.com/chengluchao/5243257" data-report-query="" target="_blank">
                                                            <div class="pic">
                                    <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/20181858_625fde123b93213428.png" alt="">
                                    <!-- 此处是什么意思？ -->
                                                                    </div>
                                                        <h3>搭建zookeeper集群</h3>
                            <p> 环境centos6.8 准备zookeeper安装包：zookeeper-3.4.6.tar.gz 单节点搭建 解压 创建配置文件 使用命令vi“conf / zoo.cfg"打开名为&nbsp;conf / zoo.cfg&nbsp;的配置文件，并将所有以下参数设置为起点。 一旦配置文件成功保存并再次返回终端，您可以</p>
                        </a>
                        <!-- 标签页 -->
                                                    <div class="tag-box">
                                                                    <span class="tag-item">
                                         zookeeper                                    </span>
                                                                    <span class="tag-item">
                                         服务器                                    </span>
                                                                    <span class="tag-item">
                                         配置文件                                    </span>
                                                            </div>
                                                                    </div>

                </li>
                    </ul>
    </section>

</article>
        
<aside class="detail-content-right">
    <!--右上角统计-->
    <section class="common-section common-spacing mb24 user-intr">
    <div class="user-content">
				<div class="top">
					<div class="avatar">
						<div class="avatar-img">
							<a href="https://blog.51cto.com/xiaoshuaigege" target="_blank">
								<img class="is-vip-img is-vip-img-4" data-uid="6217242" src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/wKioL1ngd9qznignAAAZM1-1ZP4926_small.jpg">
							</a>
						</div>
					</div>
					<div class="clearfix username">
						<a href="https://blog.51cto.com/xiaoshuaigege" target="_blank"><span class="blog-user" title="Eumenides_s" style="max-width: 272px;">Eumenides_s</span></a>
						<div class="icon">
							<ul class="clearfix detail-list">
                                                                                                                                                                                                                                							</ul>
						</div>
					</div>
				</div>
				<div class="bottom" id="userStat">
					<div class="num-name num-top">
						<ul class="first-num">
                                <li>
                                    <div class="num"><a href="https://blog.51cto.com/xiaoshuaigege/original" target="_blank">39</a></div>
                                    <div class="label-name"><a href="https://blog.51cto.com/xiaoshuaigege/original" target="_blank">原创</a></div>
                                </li>
                                <li>
                                    <div class="num">21.1<span>万</span></div>
                                    <div class="label-name">人气</div>
                                </li>
                                <li>
                                    <div class="num"><a href="https://blog.51cto.com/xiaoshuaigege/followers" target="_blank">3<span></span></a></div>
                                    <div class="label-name"><a href="https://blog.51cto.com/xiaoshuaigege/followers" target="_blank">粉丝</a></div>
                                </li>
                                <li>
                                    <div class="num">8<span></span></div>
                                    <div class="label-name">评论</div>
                                </li>

						</ul>
					</div>
                    <div class="lines"></div>
					<div class="num-name num-bottom">
						<ul>
                            <li>
								<div class="num"><a href="https://blog.51cto.com/xiaoshuaigege/translate" target="_blank">0</a></div>
								<div class="label-name"><a href="https://blog.51cto.com/xiaoshuaigege/translate" target="_blank">翻译</a></div>
							</li>
							<li>
								<div class="num"><a href="https://blog.51cto.com/xiaoshuaigege/reproduce" target="_blank">1</a></div>
								<div class="label-name"><a href="https://blog.51cto.com/xiaoshuaigege/reproduce" target="_blank">转载</a></div>
							</li>
							<li>
								<div class="num"><a href="https://blog.51cto.com/xiaoshuaigege/following" target="_blank">0</a></div>
								<div class="label-name"><a href="https://blog.51cto.com/xiaoshuaigege/following" target="_blank">关注</a></div>
							</li>
							<li>
								<div class="num">42</div>
								<div class="label-name">收藏</div>
							</li>
							<div class="clear"></div>
						</ul>
					</div>
                    </div>
                <div id="medalListBox" class="medal-list">
                        
                            <div title="锋芒毕露" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/f6f53e943b8feeab330770a0ec42efed855946.png">
                            </div>
                        
                            <div title="知名人士" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/15ab11299b3053d6c281582e1acf449c18b312.png">
                            </div>
                        
                            <div title="初见码名" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/5636945283bfe677050789457e8ebbc115f77f.png">
                            </div>
                        
                            <div title="崭露头角" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/31b28da6607cbc93cd900122f89b19420ac8c5.png">
                            </div>
                        
                            <div title="自成一派" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/81ba9de79b69d05f4333211abd2d0d4a008a05.png">
                            </div>
                        
                            <div title="挑战自我" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/03ea5c8040c00c2cbaf04751aae5540380427a.png">
                            </div>
                        
                            <div title="初学乍练" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/e6f51ba16aff6795ae8301531aecaf9001d3b3.png">
                            </div>
                        
                            <div title="新人报到" class="item" id="medalItem">
                                <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/527253e72c5bb0e15610863965f07e8d6be7aa.png">
                            </div>
                        
                    </div>
                <div class="operating clearfix ">
                                                                        <a id="checkFollow2_6217242" class="follow-1 checkFollow on">关注</a>
                                                                <button class="sx" data="https://home.51cto.com/space?uid=6217242" id="ToSx"><a href="javascript:;" rel="nofollow"><i class="iconblog blogsixin"></i>私信</a></button>
                </div>
			</div>
    </section>

    <!-- 其他近期文章 -->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="Linux 学习分类的近期文章">Linux 学习分类的近期文章</h2>
        </div>
        <ul class="common-list common-list-dot">
                        <li>
                <h3 title="Step By Step 搭建 MySql MHA 集群"><a href="https://blog.51cto.com/xiaoshuaigege/2060768" target="_blank" class="title">Step By Step 搭建 MySql MHA 集群</a></h3>
            </li>
                        <li>
                <h3 title="zabbix 安装指导手册"><a href="https://blog.51cto.com/xiaoshuaigege/2056295" target="_blank" class="title">zabbix 安装指导手册</a></h3>
            </li>
                        <li>
                <h3 title="Ansible 自动化运维实例"><a href="https://blog.51cto.com/xiaoshuaigege/2056103" target="_blank" class="title">Ansible 自动化运维实例</a></h3>
            </li>
                        <li>
                <h3 title="Tomcat/Memcached实现会话保持(SessionServer)"><a href="https://blog.51cto.com/xiaoshuaigege/1979587" target="_blank" class="title">Tomcat/Memcached实现会话保持(SessionServer)</a></h3>
            </li>
                        <li>
                <h3 title="基于HAProxy+Varnish实现动静分离、负载均衡的高可用集群"><a href="https://blog.51cto.com/xiaoshuaigege/1978988" target="_blank" class="title">基于HAProxy+Varnish实现动静分离、负载均衡的高可用集群</a></h3>
            </li>
                    </ul>
    </section>
    
    <!-- 近期评论 -->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="近期评论">近期评论</h2>
        </div>
        <ul class="common-list common-list-dot">
                        <li>
                <h3 title="centos7.3实现基于源码编译安装LAMP的wordpress应用"><a href="https://blog.51cto.com/xiaoshuaigege/1971597" target="_blank" title="centos7.3实现基于源码编译安装LAMP的wordpress应用" class="title">centos7.3实现基于源码编译安装LAMP的wordpress应用</a></h3>
                <div class="dec" title="好，正在学习"><a href="https://blog.51cto.com/78124107" target="_blank">好，正在学习</a></div>
            </li>
                        <li>
                <h3 title="CentOS7安装通用二进制格式MariaDB 10.2.8"><a href="https://blog.51cto.com/xiaoshuaigege/1969104" target="_blank" title="CentOS7安装通用二进制格式MariaDB 10.2.8" class="title">CentOS7安装通用二进制格式MariaDB 10.2.8</a></h3>
                <div class="dec" title="ScreenToGif  一款小而精悍的软件，能够直接录制屏幕内容生成gif图片。搜索ScreenToGif 可以下载，也可以直接去官网下载http://www.screentogif.com/?l=zh_cn "><a href="https://blog.51cto.com/xiaoshuaigege" target="_blank">ScreenToGif  一款小而精悍的软件，能够直接录制屏幕内容生成gif图片。搜索ScreenToGif 可以下载，也可以直接去官网下载http://www.screentogif.com/?l=zh_cn </a></div>
            </li>
                        <li>
                <h3 title="使用Cobbler批量安装操作系统"><a href="https://blog.51cto.com/xiaoshuaigege/1967134" target="_blank" title="使用Cobbler批量安装操作系统" class="title">使用Cobbler批量安装操作系统</a></h3>
                <div class="dec" title="Windows Server 2008 R2部署安装"><a href="https://blog.51cto.com/u_13191450" target="_blank">Windows Server 2008 R2部署安装</a></div>
            </li>
                        <li>
                <h3 title="SSH 端口转发实战"><a href="https://blog.51cto.com/xiaoshuaigege/1965114" target="_blank" title="SSH 端口转发实战" class="title">SSH 端口转发实战</a></h3>
                <div class="dec" title="思路很清晰，想必花了不少功夫，谢谢"><a href="https://blog.51cto.com/1062817308" target="_blank">思路很清晰，想必花了不少功夫，谢谢</a></div>
            </li>
                    </ul>
    </section>
    
    <!-- 近期文章 -->
    <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="近期文章">近期文章</h2>
        </div>
        <ul class="common-list">
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/1663466" target="_blank" title="新人报道">1.新人报道</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/1754392" target="_blank" title="Sencha Touch 开发环境搭建（一）">2.Sencha Touch 开发环境搭建（一）</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/1878634" target="_blank" title="Retrofit2.0+ .Net MVC4(WebApi) 上传多张图片">3.Retrofit2.0+ .Net MVC4(WebApi) 上传多张图片</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/1885366" target="_blank" title="使用win10远程控制ubuntu16.04">4.使用win10远程控制ubuntu16.04</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/1889700" target="_blank" title="C# Word 转PDF">5.C# Word 转PDF</a>
            </li>
                    </ul>
        <div id="Datelist">
            <div class="common-list-lines"></div>
            
            
            <div class="otherYear">
                <div class="clearfix years">
                    
                        <a href="https://blog.51cto.com/xiaoshuaigege/article/year2018">2018年   2篇</a>
                    
                        <a href="https://blog.51cto.com/xiaoshuaigege/article/year2017">2017年   34篇</a>
                    
                        <a href="https://blog.51cto.com/xiaoshuaigege/article/year2016">2016年   3篇</a>
                    
                        <a href="https://blog.51cto.com/xiaoshuaigege/article/year2015">2015年   1篇</a>
                    
                </div>
            </div>
            
            </div>
    </section>

    <!-- 热门文章 -->
    
    <!-- 热评好文 -->
    
    <!--七日热门-->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="七日热门">七日热门</h2>
        </div>
        <ul class="common-list common-list-dot">
                        <li>
                <a href="https://blog.51cto.com/4528728/3799252" target="_blank" title="ftp  linux to linux" class="title">ftp  linux to linux</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15127521/4536069" target="_blank" title="Linux - Linux简介" class="title">Linux - Linux简介</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15127624/3585447" target="_blank" title="[Linux] Linux shell (1)" class="title">[Linux] Linux shell (1)</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dlican/3782459" target="_blank" title="【Linux基础】Linux简史" class="title">【Linux基础】Linux简史</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15064641/3954029" target="_blank" title="【Linux】linux命令大全" class="title">【Linux】linux命令大全</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/4611628/1328586" target="_blank" title="linux 安装linux  作业" class="title">linux 安装linux  作业</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/professor/1572573" target="_blank" title="【Linux基础】Linux目录" class="title">【Linux基础】Linux目录</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/hellogithub/2775089" target="_blank" title="[linux]重拾linux" class="title">[linux]重拾linux</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/12741079/2130131" target="_blank" title="linux初探－安装linux" class="title">linux初探－安装linux</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dlican/5093320" target="_blank" title="【Linux基础】Linux简史" class="title">【Linux基础】Linux简史</a>
            </li>
                    </ul>
    </section>
    
    <!-- 分类列表 -->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="分类列表">分类列表</h2>
                    </div>
        <ul class="common-list" id="classification-list">
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/category1.html" target="_blank" title="#  Android 开发"><span>#  Android 开发</span><span>2篇</span></a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/category2.html" target="_blank" title="#  Linux 学习"><span>#  Linux 学习</span><span>33篇</span></a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/category3.html" target="_blank" title="#  C# 开发"><span>#  C# 开发</span><span>2篇</span></a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/xiaoshuaigege/category4.html" target="_blank" title="#  Python 开发"><span>#  Python 开发</span><span>1篇</span></a>
            </li>
                    </ul>
    </section>
    
    <!--相关标签-->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="相关标签">相关标签</h2>
            <a href="https://blog.51cto.com/topic/all" target="_blank" class="fr more">全部</a>
        </div>
        <div class="label-list">
                            <a href="https://blog.51cto.com/topic/cazhengshu.html" class="tag-text" target="_blank">ca证书</a>
                            <a href="https://blog.51cto.com/topic/https-openssl-ca.html" class="tag-text" target="_blank">https openssl ca</a>
                            <a href="https://blog.51cto.com/topic/javashixiancazhengshu.html" class="tag-text" target="_blank">java实现ca证书</a>
                            <a href="https://blog.51cto.com/topic/linux-openssl-ca.html" class="tag-text" target="_blank">linux openssl ca</a>
                            <a href="https://blog.51cto.com/topic/openssl-ca.html" class="tag-text" target="_blank">openssl ca</a>
                            <a href="https://blog.51cto.com/topic/openssl-ca-yuanli.html" class="tag-text" target="_blank">openssl ca 原理</a>
                            <a href="https://blog.51cto.com/topic/openssl-cazuoyong.html" class="tag-text" target="_blank">openssl ca作用</a>
                            <a href="https://blog.51cto.com/topic/openssl-camingling.html" class="tag-text" target="_blank">openssl ca命令</a>
                            <a href="https://blog.51cto.com/topic/openssl-capeizhi.html" class="tag-text" target="_blank">openssl ca配置</a>
                            <a href="https://blog.51cto.com/topic/opensslshengchengcazhengshu.html" class="tag-text" target="_blank">openssl生成ca证书</a>
                    </div>
    </section>
    
    <!-- 文章目录 -->
            <section class="common-section common-spacing table-contents common-content-directory">
            <div class="clearfix common-sub-title">
                <strong title="文章目录">文章目录</strong>
            </div>
            <div class="directory" id="directory-parent1">
                <ul class="directory-list" id="directory-right">
                                                                    <li class="lv1 on">
                            <div class="title" title="实验环境的准备">
                                <span data-id="#h0">
                                                                        实验环境的准备                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="CA配置介绍">
                                <span data-id="#h1">
                                                                        CA配置介绍                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="创建所需要的文件">
                                <span data-id="#h2">
                                                                        创建所需要的文件                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="CA 自签名证书(构造根CA)">
                                <span data-id="#h3">
                                                                        CA 自签名证书(构造根CA)                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv4">
                            <div class="title" title="首先生成私钥文件">
                                <span data-id="#h4">
                                                                        首先生成私钥文件                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv4">
                            <div class="title" title="生成自签名证书">
                                <span data-id="#h5">
                                                                        生成自签名证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="颁发证书">
                                <span data-id="#h6">
                                                                        颁发证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv3">
                            <div class="title" title="子CA证书机构向根CA申请证书">
                                <span data-id="#h7">
                                                                        子CA证书机构向根CA申请证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv3">
                            <div class="title" title="普通用户向子CA机构，申请证书">
                                <span data-id="#h8">
                                                                        普通用户向子CA机构，申请证书                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="查看证书状态">
                                <span data-id="#h9">
                                                                        查看证书状态                                </span>
                            </div>
                        </li>
                                                                                            <li class="lv1">
                            <div class="title" title="吊销证书">
                                <span data-id="#h10">
                                                                        吊销证书                                </span>
                            </div>
                        </li>
                                                            <div class="arrow" style="top: 2105px;"></div></ul>
            </div>
            <div class="table-contents">

            </div>
        </section>
    </aside>
<script>
    var page = 'person'
</script>
    </div>

    <!--返回顶部-->
    <aside class="action-aside action-aside-right">
        <ul>
            <li>
                <strong class="sign" id="sign">
                    <a href="javascript:;">
                        <i class="iconblog blogqiandao"></i>
                                                <b class="dot"></b>
                                            </a>
                    <span>签到送好礼</span>
                </strong>
            </li>
            <li class="scrollTop" style="display: none;">
                <strong class="ScrollWindowTop">
                    <a href="javascript:;"><i class="iconblog blogzhi"></i></a>
                    <span>返回顶部</span>
                </strong>
            </li>
        </ul>
    </aside>
</div>

<div class="imgViewDom disnone" style="display: none;">
    <div class="img-content"></div>
</div>

<div class="zhiCustomBtn" style="display:none;" id="hide-zhiCustomBtn"></div>

    <script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/shCores.js.download"></script>

<script>
    var codeArr = $('.editor-preview-side pre code')
    if(codeArr.length > 0) {
        $.each(codeArr, function(index, item) {
            var parent = $(this).parent('pre')
            var classStr = $(this).attr('class') || parent.attr('class')
            if(classStr && classStr.indexOf('language-') != -1) return
            $(this).addClass('language-html') && parent.addClass('language-html')
        })
    }


    $(document).ready(function() {
        addPreNumber()
        //  代码高亮
        mdPrism.highlightAll();
        // 代码添加行号
        // prenumber(['hljs-cto', 'code-toolbar'])
        if(is_old != 0) {
            prenumber(['code-toolbar'])
        }
    })
    var tipStatus = '1'
    if( tipStatus == '1') {
        $('#zanTip').show()
    } else {
        $('#zanTip').hide()
    }
    var totalWidth = $('.detail-list').outerWidth(true)+$('.dbk').outerWidth(true)
    var usernameWidth = $('.username').outerWidth(true)
    var cha = usernameWidth-totalWidth-10+'px'
    $('.blog-user').css('max-width', cha)
    var BLOG_URL = 'https://blog.51cto.com/';
    var praise_url = 'https://blog.51cto.com/praise/praise'
    addReply_url = 'https://blog.51cto.com/addBlogComment'
    removeUrl = 'https://blog.51cto.com/delBlogComment'
    blog_id = '1965113'
    pv_log_info = {
        'pv_type':'blog',
        'user_id':'6217242',
        'blog_id':'1965113'
    };
    is_comment = '0'
    comment_list = 'https://blog.51cto.com/getBlogCommentList'
    index_url = 'https://blog.51cto.com/xiaoshuaigege';
    uc_url = 'https://ucenter.51cto.com/'
    blog_url = 'https://blog.51cto.com/'
    img_url = 'https://static1.51cto.com/edu/blog/'
    i_user_id = ''
    c_user_id ='6217242'
    collect_url = 'https://blog.51cto.com/addUserCollect'
    is_old = '1'
    nicknameurl = 'https://blog.51cto.com/xiaoshuaigege'
    nickname = 'Eumenides_s'
    myself = window.location.href,
    shareimgUrl = '/qr/qr-url?url=https%3A%2F%2Fblog.51cto.com%2Fxiaoshuaigege%2F1965113';
        function FollowBtnSucc(e){//1:未关注,2:已关注,3:互相关注
        if(e==2||e==3){
            $('#zanTip').hide()
            boxProxy()
        } else if(e == 1) {
            $('#zanTip').show()
        }
    }
    FollowBtn = new Follow($('#checkFollow1_6217242'),'6217242','1',['on','in','mutual','off']);
    FollowBtn.success=FollowBtnSucc;
    FollowBtn = new Follow($('#checkFollow2_6217242'),'6217242','1',['on','in','mutual','off']);
    FollowBtn.success=FollowBtnSucc;
        if(is_old==1 || is_old==2){
        // SyntaxHighlighter.all();
        insertCodeElement("<span style=\"padding:0px;margin:0px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\">\u4e2a\u4eba\u535a\u5ba2\u5730\u5740\uff1a<\/span><a rel=\"nofollow\" href=\"http:\/\/www.pojun.tech\/\" style=\"white-space:normal;padding:0px;margin:0px;color:rgb(1,95,145);background-color:rgb(255,255,255);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;\" target=\"_blank\">http:\/\/www.pojun.tech\/<\/a><span style=\"padding:0px;margin:0px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\">&nbsp;\u6b22\u8fce\u8bbf\u95ee<\/span>\u4ec0\u4e48\u662fCA<blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">CA,Catificate Authority,\u901a\u4fd7\u7684\u7406\u89e3\u5c31\u662f\u4e00\u79cd\u8ba4\u8bc1\u673a\u5236\u3002\u5b83\u7684\u4f5c\u7528\u5c31\u662f\u63d0\u4f9b\u8bc1\u4e66\uff08\u4e5f\u5c31\u662f\u670d\u52a1\u7aef\u8bc1\u4e66\uff0c\u7531\u57df\u540d\uff0c\u516c\u53f8\u4fe1\u606f\uff0c\u5e8f\u5217\u53f7\uff0c\u7b7e\u540d\u4fe1\u606f\u7b49\u7b49\u7ec4\u6210\uff09\u6765\u52a0\u5f3a\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7aef\u8bbf\u95ee\u4fe1\u606f\u7684\u5b89\u5168\u6027\uff0c\u540c\u65f6\u63d0\u4f9b\u8bc1\u4e66\u7684\u53d1\u653e\u7b49\u76f8\u5173\u5de5\u4f5c\u3002\u56fd\u5185\u7684\u5927\u90e8\u5206\u4e92\u8054\u7f51\u516c\u53f8\u90fd\u5728\u56fd\u9645CA\u673a\u6784\u7533\u8bf7\u4e86CA\u8bc1\u4e66\uff0c\u5e76\u4e14\u5728\u7528\u6237\u8fdb\u884c\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u5bf9\u7528\u6237\u7684\u4fe1\u606f\u52a0\u5bc6\uff0c\u4fdd\u969c\u4e86\u7528\u6237\u7684\u4fe1\u606f\u5b89\u5168\u3002\u7406\u8bba\u4e0a\u6765\u8bf4\uff0c\u4efb\u4f55\u7ec4\u7ec7\u6216\u8005\u4e2a\u4eba\u90fd\u53ef\u4ee5\u626e\u6f14CA\u7684\u89d2\u8272\uff0c\u53ea\u4e0d\u8fc7\uff0c\u96be\u4ee5\u5f97\u5230\u5ba2\u6237\u7aef\u7684\u4fe1\u4efb\uff0c\u4e0d\u80fd\u63a8\u800c\u5e7f\u4e4b\uff0c\u6700\u5178\u578b\u5e94\u7528\u83ab\u8fc7\u4e8e12306\u7f51\u7ad9\uff0c\u8fd9\u4e2a\u7f51\u7ad9\u5c31\u662f\u81ea\u5df1\u7ed9\u81ea\u5df1\u9881\u53d1\u7684\u6839\u8bc1\u4e66\u3002<br \/>\u76ee\u524d\u80fd\u591f\u8ba9\u6d4f\u89c8\u5668\u9ed8\u8ba4\u652f\u6301\u7684CA\u5927\u5382\u6709\u5f88\u591a\uff0cWindows \u64cd\u4f5c\u7cfb\u7edf\u5728\u5b89\u88c5\u4e4b\u521d\uff0c\u4e5f\u9ed8\u8ba4\u5b89\u88c5\u4e86\u5f88\u591a\u53d7\u4fe1\u4efb\u7684\u6839\u8bc1\u4e66\u3002\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u9762\u677f\u2013Internet\u9009\u9879\u6765\u8fdb\u884c\u67e5\u770b\u3002<\/p><\/blockquote><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><img src=\"http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/windows%20%E4%B8%AD%E9%A2%84%E8%A3%85%E7%9A%84%E6%A0%B9%E8%AF%81%E4%B9%A6.png\" alt='\u4f7f\u7528OpenSSL\u5b9e\u73b0CA\u8bc1\u4e66\u7684\u642d\u5efa\u8fc7\u7a0b_ CA' style=\"border:0px;vertical-align:middle;\" \/><\/p>SSL\/TLS<blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">SSL\/TLS\u662f\u7f51\u7edc\u901a\u4fe1\u8fc7\u7a0b\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e24\u4e2a\u534f\u8bae\u3002\u4e92\u8054\u7f51\u7684\u901a\u4fe1\u5b89\u5168\u5c31\u5efa\u7acb\u5728SSL\/TLS\u534f\u8bae\u57fa\u7840\u4e4b\u4e0a\u3002\u4ed6\u4eec\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u52a0\u5bc6\u884c\u4e3a\u4fdd\u969c\u4e86\u901a\u4fe1\u7684\u5b89\u5168\uff0c\u662f\u5982\u4eca\u4e92\u8054\u7f51\u901a\u4fe1\u6700\u4e3b\u8981\u7684\u5e94\u7528\u4e4b\u4e00\u3002<\/p><\/blockquote><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">SSL\/TLS\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u4e92\u8054\u7f51\u5e94\u7528\uff0c\u5173\u4e8e\u4ed6\u4eec\u7684\u4ecb\u7ecd\u4e92\u8054\u7f51\u4e0a\u6709\u5f88\u591a\uff0c\u6211\u4eec\u6682\u65f6\u4e0d\u505a\u8be6\u7ec6\u7684\u4ecb\u7ecd\u3002\u5173\u4e8eSSL\/TLS\u901a\u4fe1\u7684\u8fc7\u7a0b\u5927\u81f4\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u8fd9\u5f20\u56fe\u6765\u8fdb\u884c\u63cf\u8ff0\u3002<\/p><\/blockquote><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><img src=\"http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/SSLTLS%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B.png\" alt='\u4f7f\u7528OpenSSL\u5b9e\u73b0CA\u8bc1\u4e66\u7684\u642d\u5efa\u8fc7\u7a0b_Linux_02' style=\"border:0px;vertical-align:middle;\" \/><\/p>OpenSSL<blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">OpenSSL\u662f\u4e00\u5957\u5f00\u6e90\u8f6f\u4ef6\uff0c\u5728Linux\u4e2d\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5b89\u88c5\u3002\u5b83\u80fd\u591f\u5f88\u5bb9\u6613\u7684\u5b8c\u6210\u5bc6\u94a5\u751f\u6210\u4ee5\u53ca\u8bc1\u4e66\u7ba1\u7406\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u5c31\u5229\u7528OpenSSL\u642d\u5efaCA\u8bc1\u4e66\uff0c\u5e76\u5b9e\u73b0\u8bc1\u4e66\u7684\u7533\u8bf7\u4e0e\u5206\u53d1\u3002<\/p><\/blockquote>OpenSSL\u5b9e\u73b0CA\u8bc1\u4e66\u7684\u642d\u5efa<blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><ul class=\"list-paddingleft-2\"><li><p>\u5b9e\u9a8c\u73af\u5883\u7684\u51c6\u5907<\/p><\/li><li><p>CA\u7684\u914d\u7f6e\u4ecb\u7ecd<\/p><\/li><li><p>\u521b\u5efa\u6240\u9700\u8981\u7684\u6587\u4ef6<\/p><\/li><li><p>CA \u81ea\u7b7e\u540d\u8bc1\u4e66<\/p><\/li><li><p>\u9881\u53d1\u8bc1\u4e66<\/p><\/li><li><p>\u67e5\u770b\u8bc1\u4e66\u72b6\u6001<\/p><\/li><li><p>\u8bc1\u4e66\u540a\u9500<\/p><\/li><\/ul><\/blockquote><h2 id=\"h0\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u5b9e\u9a8c\u73af\u5883\u7684\u51c6\u5907<\/h2><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u9996\u5148\u6211\u4eec\u5e94\u8be5\u51c6\u5907\u4e09\u4e2a\u865a\u62df\u673a\uff0c\u4ed6\u4eec\u5206\u522b\u7528\u6765\u8868\u793a\u6839CA\u8bc1\u4e66\u673a\u6784\uff0c\u4ee5\u53ca\u5b50CA\u8bc1\u4e66\u673a\u6784\uff0c\u548c\u8bc1\u4e66\u7533\u8bf7\u7528\u6237\u3002 \u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u7528\u6237\u5411\u5b50CA\u8bc1\u4e66\u673a\u6784\u7533\u8bf7\u8bc1\u4e66\uff0c\u5b50CA\u673a\u6784\u5411\u6839CA\u673a\u6784\u7533\u8bf7\u6388\u6743\uff0c\u6839CA\u662f\u5982\u4f55\u53d6\u5f97\u8bc1\u4e66\u7684\u5462\uff1f\u7b54\u6848\u662f\u6839CA\u81ea\u5df1\u7ed9\u81ea\u5df1\u9881\u53d1\u7684\u8bc1\u4e66\u3002 \u5b9e\u9a8c\u73af\u5883\u7684\u62d3\u6251\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\u3002<\/p><\/blockquote><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><img src=\"http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/CA%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83%E7%A4%BA%E6%84%8F%E5%9B%BE.png\" alt='\u4f7f\u7528OpenSSL\u5b9e\u73b0CA\u8bc1\u4e66\u7684\u642d\u5efa\u8fc7\u7a0b_ OpenSSL_03' style=\"border:0px;vertical-align:middle;\" \/><\/p><h2 id=\"h1\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">CA\u914d\u7f6e\u4ecb\u7ecd<\/h2><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u8981\u624b\u52a8\u521b\u5efaCA\u8bc1\u4e66\uff0c\u5c31\u5fc5\u987b\u9996\u5148\u4e86\u89e3\uff0cOpenSSL\u4e2d\u5173\u4e8eCA\u7684\u914d\u7f6e\uff0c\u914d\u7f6e\u6587\u4ef6\u4f4d\u4e8e\u4e0b\u9762\u7684\/etc\/pki\/tls\/openssl.cnf<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">####################################################################\n[&nbsp;ca&nbsp;]\ndefault_ca=&nbsp;CA_default\t\t#\u9ed8\u8ba4CA\n####################################################################\n[&nbsp;CA_default&nbsp;]\ndir=\/etc\/pki\/CA\t\t&nbsp;#&nbsp;CA\u7684\u5de5\u4f5c\u76ee\u5f55\u8fd9\u91cc\u5176\u5b9e\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53d8\u91cf\ncerts=&nbsp;$dir\/certs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;\u8bc1\u4e66\u5b58\u50a8\u8def\u5f84\ncrl_dir=&nbsp;$dir\/crl\t&nbsp;#&nbsp;\u8bc1\u4e66\u540a\u9500\u5217\u8868\ndatabase=&nbsp;$dir\/index.txt&nbsp;#&nbsp;\u8bc1\u4e66\u6570\u636e\u5e93\u5217\u8868\n\nnew_certs_dir=&nbsp;$dir\/newcerts\t#\u65b0\u7684\u8bc1\u4e66\u8def\u5f84\ncertificate=&nbsp;$dir\/cacert.pem&nbsp;\t#&nbsp;CA\u81ea\u5df1\u7684\u8bc1\u4e66\nserial=&nbsp;$dir\/serial&nbsp;\t\t#\u4e0b\u4e00\u4e2a\u8bc1\u4e66\u7684\u7f16\u53f7\uff0c\u5341\u516d\u8fdb\u5236\uff0c\u9ed8\u8ba400\ncrlnumber=&nbsp;$dir\/crlnumber\t#\u4e0b\u4e00\u4e2a\u8981\u88ab\u540a\u9500\u7684\u8bc1\u4e66\u7f16\u53f7\uff0c\u5341\u516d\u8fdb\u5236\uff0c\u9ed8\u8ba400\ncrl=&nbsp;$dir\/crl.pem&nbsp;\t\t#&nbsp;The&nbsp;current&nbsp;CRL\nprivate_key=&nbsp;$dir\/private\/cakey.pem&nbsp;#&nbsp;CA&nbsp;\u7684\u79c1\u94a5\nRANDFILE=&nbsp;$dir\/private\/.rand\t#&nbsp;private&nbsp;random&nbsp;number&nbsp;file\nx509_extensions\t=&nbsp;usr_cert\t#&nbsp;The&nbsp;extentions&nbsp;to&nbsp;add&nbsp;to&nbsp;the&nbsp;cert\n\n\n#&nbsp;Comment&nbsp;out&nbsp;the&nbsp;following&nbsp;two&nbsp;lines&nbsp;for&nbsp;the&nbsp;\"traditional\"\n#&nbsp;(and&nbsp;highly&nbsp;broken)&nbsp;format.\nname_opt&nbsp;=&nbsp;ca_default\t\t#&nbsp;\u547d\u540d\u65b9\u5f0f\ncert_opt&nbsp;=&nbsp;ca_default\t\t#&nbsp;CA\u7684\u9009\u9879\n\n#&nbsp;Extension&nbsp;copying&nbsp;option:&nbsp;use&nbsp;with&nbsp;caution.\n#&nbsp;copy_extensions&nbsp;=&nbsp;copy\n\n\n#&nbsp;Extensions&nbsp;to&nbsp;add&nbsp;to&nbsp;a&nbsp;CRL.&nbsp;Note:&nbsp;Netscape&nbsp;communicator&nbsp;chokes&nbsp;on&nbsp;V2&nbsp;CRLs\n#&nbsp;so&nbsp;this&nbsp;is&nbsp;commented&nbsp;out&nbsp;by&nbsp;default&nbsp;to&nbsp;leave&nbsp;a&nbsp;V1&nbsp;CRL.\n#&nbsp;crlnumber&nbsp;must&nbsp;also&nbsp;be&nbsp;commented&nbsp;out&nbsp;to&nbsp;leave&nbsp;a&nbsp;V1&nbsp;CRL.\n#&nbsp;crl_extensions=&nbsp;crl_ext\ndefault_days=&nbsp;365\t\t\t#&nbsp;\u9ed8\u8ba4\u8bc1\u4e66\u7684\u6709\u6548\u671f\u9650\ndefault_crl_days=&nbsp;30\t\t\t#&nbsp;how&nbsp;long&nbsp;before&nbsp;next&nbsp;CRL\ndefault_md=&nbsp;default\t\t#&nbsp;use&nbsp;public&nbsp;key&nbsp;default&nbsp;MD\npreserve=&nbsp;no\t\t\t#&nbsp;keep&nbsp;passed&nbsp;DN&nbsp;ordering\n\n\n#&nbsp;A&nbsp;few&nbsp;difference&nbsp;way&nbsp;of&nbsp;specifying&nbsp;how&nbsp;similar&nbsp;the&nbsp;request&nbsp;should&nbsp;look\n#&nbsp;For&nbsp;type&nbsp;CA,&nbsp;the&nbsp;listed&nbsp;attributes&nbsp;must&nbsp;be&nbsp;the&nbsp;same,&nbsp;and&nbsp;the&nbsp;optional\n#&nbsp;and&nbsp;supplied&nbsp;fields&nbsp;are&nbsp;just&nbsp;that&nbsp;:-)\npolicy=&nbsp;policy_match&nbsp;&nbsp;\t#\u7b56\u7565\n\t\t\t#\u8fd9\u91cc\u8bb0\u5f55\u7684\u662f&nbsp;\u5c06\u6765CA\u5728\u642d\u5efa\u7684\u65f6\u5019\uff0c\u4ee5\u53ca\u5ba2\u6237\u7aef\u7533\u8bf7\u8bc1\u4e66\u7684\u65f6\u5019\uff0c\u9700\u8981\u63d0\u4ea4\u7684\u4fe1\u606f\u7684\u5339\u914d\u7a0b\u5ea6\u3002\n\n#&nbsp;For&nbsp;the&nbsp;CA&nbsp;policy\n[&nbsp;policy_match&nbsp;]\t\t\t#&nbsp;match\u610f\u5473\u7740CA\u4ee5\u53ca\u5b50CA\u5fc5\u987b\u4e00\u81f4\ncountryName\t=&nbsp;match\t\t\t#&nbsp;\u56fd\u5bb6\nstateOrProvinceName=&nbsp;match\t\t#&nbsp;\u5dde\u6216\u8005\u7701\norganizationName=&nbsp;match\t\t\t#\u7ec4\u7ec7\u516c\u53f8\norganizationalUnitName\t=&nbsp;optional\ncommonName=&nbsp;supplied\nemailAddress=&nbsp;optional\n\n#&nbsp;For&nbsp;the&nbsp;'anything'&nbsp;policy\n#&nbsp;At&nbsp;this&nbsp;point&nbsp;in&nbsp;time,&nbsp;you&nbsp;must&nbsp;list&nbsp;all&nbsp;acceptable&nbsp;'object'\n#&nbsp;types.\n[&nbsp;policy_anything&nbsp;]\t\t#\u53ef\u4ee5\u5bf9\u5916\u63d0\u4f9b\u8bc1\u4e66\u7533\u8bf7\uff0c\u8fd9\u65f6\uff0c\u8bc1\u4e66\u7684\u5339\u914d\u5c31\u53ef\u4ee5\u4e0d\u7528\u90a3\u4e48\u4e25\u683c\ncountryName=&nbsp;optional\nstateOrProvinceName=&nbsp;optional\nlocalityName=&nbsp;optional\norganizationName=&nbsp;optional\norganizationalUnitName=&nbsp;optional\ncommonName=&nbsp;supplied\nemailAddress=&nbsp;optional<\/pre><h2 id=\"h2\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u521b\u5efa\u6240\u9700\u8981\u7684\u6587\u4ef6<\/h2><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:10.5px;\">\u8fd9\u91cc\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u6211\u4eec\u7684\u5b9e\u9a8c\u73af\u5883\u4e2d\u5305\u542b\u4e86\u4e09\u4e2a\u4e3b\u673a\uff0c\u5176\u4e2d\u4e24\u4e2a\u7684\u89d2\u8272\u662f\u4f5c\u4e3aCA\u8ba4\u8bc1\u673a\u6784\u5b58\u5728\u7684\uff0c\u6240\u4ee5\u521b\u5efa\u6240\u9700\u8981\u7684\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u4e3b\u673aA\u548c\u4e3b\u673aB\u90fd\u9700\u8981\u521b\u5efa\u3002 \u5982\u679c\u4e0d\u63d0\u524d\u521b\u5efa\u8fd9\u4e24\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u5728\u751f\u6210\u8bc1\u4e66\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u51fa\u73b0\u9519\u8bef\u3002 \u6211\u4eec\u5c06\u6587\u4ef6\u521b\u5efa\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u8def\u5f84\u4e0b\u9762\u3002<\/p><ul class=\"list-paddingleft-2\"><li><p>\u751f\u6210\u8bc1\u4e66\u7d22\u5f15\u6570\u636e\u5e93\u6587\u4ef6&nbsp;<code class=\"highlighter-rouge\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\">touch \/etc\/pki\/CA\/index.txt<\/code><\/p><\/li><li><p>\u6307\u5b9a\u7b2c\u4e00\u4e2a\u9881\u53d1\u8bc1\u4e66\u7684\u5e8f\u5217\u53f7&nbsp;<code class=\"highlighter-rouge\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\">echo 01 &gt; \/etc\/pki\/CA\/serial<\/code><\/p><\/li><\/ul><\/blockquote><h2 id=\"h3\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">CA \u81ea\u7b7e\u540d\u8bc1\u4e66(\u6784\u9020\u6839CA)<\/h2><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u9996\u5148\u6784\u9020\u6839CA\u7684\u8bc1\u4e66\u3002\u56e0\u4e3a\u6ca1\u6709\u4efb\u4f55\u673a\u6784\u80fd\u591f\u7ed9\u6839CA\u9881\u53d1\u8bc1\u4e66\uff0c\u6240\u4ee5\u53ea\u80fd\u6839CA\u81ea\u5df1\u7ed9\u81ea\u5df1\u9881\u53d1\u8bc1\u4e66\u3002<\/p><\/blockquote><h4 id=\"h4\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u9996\u5148\u751f\u6210\u79c1\u94a5\u6587\u4ef6<\/h4><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u79c1\u94a5\u6587\u4ef6\u662f\u975e\u5e38\u91cd\u8981\u7684\u6587\u4ef6\uff0c\u9664\u4e86\u81ea\u5df1\u672c\u8eab\u4ee5\u5916\uff0c\u5176\u4ed6\u4efb\u4f55\u4eba\u90fd\u4e0d\u80fd\u53d6\u5f97\u3002\u6240\u4ee5\u5728\u751f\u6210\u79c1\u94a5\u6587\u4ef6\u7684\u540c\u65f6\u6700\u597d\u4fee\u6539\u8be5\u6587\u4ef6\u7684\u6743\u9650\uff0c\u5e76\u4e14\u91c7\u7528\u52a0\u5bc6\u7684\u5f62\u5f0f\u8fdb\u884c\u751f\u6210\u3002<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u6267\u884c\u547d\u4ee4\u751f\u6210\u79c1\u94a5\u6587\u4ef6\u3002\n#&nbsp;\u91c7\u7528\u4e86des3\u7684\u65b9\u5f0f\u5bf9\u79c1\u94a5\u6587\u4ef6\u8fdb\u884c\u4e86\u52a0\u5bc6\n#&nbsp;\u540c\u65f6\u4e34\u65f6\u6307\u5b9a\u4e86umask&nbsp;\uff0c\u4f7f\u5f97\u751f\u6210\u7684\u79c1\u94a5\u6587\u4ef6\u53ea\u5bf9\u81ea\u5df1\u5177\u6709\u8bfb\u5199\u6743\u9650\u3002\n[root@localhost&nbsp;~]#(umask&nbsp;066;openssl&nbsp;genrsa&nbsp;-out&nbsp;\/etc\/pki\/CA\/private\/cakey.pem&nbsp;-des3&nbsp;2048&nbsp;)\nGenerating&nbsp;RSA&nbsp;private&nbsp;key,&nbsp;2048&nbsp;bit&nbsp;long&nbsp;modulus\n...............+++\n.......................................+++\ne&nbsp;is&nbsp;65537&nbsp;(0x10001)\nEnter&nbsp;pass&nbsp;phrase&nbsp;for&nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\t#\u8fd9\u91cc\u9700\u8981\u8f93\u5165\u5bc6\u7801\nVerifying&nbsp;-&nbsp;Enter&nbsp;pass&nbsp;phrase&nbsp;for&nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\t#\u8fd9\u91cc\u786e\u8ba4\u5bc6\u7801\n\n#&nbsp;&nbsp;\u67e5\u770b\u4e00\u4e2a\u751f\u6210\u7684\u79c1\u94a5\u6587\u4ef6\uff0c\u5c31\u4f1a\u53d1\u73b0\u5df2\u7ecf\u88ab\u52a0\u5bc6\u4e86\n[root@localhost&nbsp;~]#cat&nbsp;\/etc\/pki\/CA\/private\/cakey.pem\n-----BEGIN&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----\nProc-Type:&nbsp;4,ENCRYPTED\nDEK-Info:&nbsp;DES-EDE3-CBC,A4FB61EACD1544F2\n\n9JrKVEPhnWhx1W+W1V4PdIvVHNDwb8mb0JYILvXZKc07gvNcYKIlvUoTxjtihbpk\nwYQcVm0Z6b2+fjZBXVVR9igFB2OOE74BnSNMsbfPTs5W\/SwWLxv0R6x0SbiZ8v\/7\nD6Qh3u\/rXmOQWWTvQnLzh6JaT00c8zgUnn48vMev17Xyg32oJqKqJVL5RNBGmJur\n6CaWX8mB5q+HYiBUXzNLQp9T3HNGcnmDNyk0gylEvjeJo3Hq+IOAkjfJE4sYO9ER\ntQtsLViFUc5jXX7p0nIO0ANwE7zdjBt9I4aXknZiC4rFYJJtNSa1Wrhoo\/MhuwWH\nzjc4UyoB1C71sbq2LMgeElHhXN\/TfqWGfXFqhkyBJwgrmzQibOJSFeWHZNurILof\nUwgNLlABmazvIL5Ps6LgZtyrO2ODSDTzPiCO7kQ0S3mTHYk9+WEeEyMb4uum6oAx\noCofADL0wea+5mHVUA2s6KwRBFr01HiQ00fiul6LFvXdCwt9IL62blIJYn2veQHl\noPvC5cTnPVqJ28GJWbPvJjiOLB8Hh+4DPwxaRA1eYf2R9SR0R1SYJIBTI6NNqNwW\nLq+pD89bGCbFdYID+kAZfG27FonmmLvvhTn3jQKVPpwQBROHQ9gpwMLnpmpJWwNK\nbyUSit+Vt+mvbzOLjuTdsTzklwZEOkNpaE\/jTqusWuhXS33D4bqA+Ws+xNVDnx6e\nrbrGcbX9skXyti21oEIYem0H37ZS2fV9z+\/CM\/55maOX5xNVQ4aDxWuiMyyUd03D\nnhhM5A4mcDvIZLpWDbHzjtkl2H9Pnb9fvGzOIOm7lVQrX8BdidpWjwGTLYG\/zUX5\ni9NimSnoiqgkhEYl8KXzbnMfD4hX69BXI7le5HAaS38wDKPsmRRW\/dgGfRNKzfTZ\nqmBimscMsllz21QnG9eqineFDdexGZw1oEQsHp2CivtEwaIKTqOZfNiwHJvm1cbz\nM0NOgs+r2qze0czV9dTqM5pVND1Iac1DXYflYZ9g54riQNre\/sHp1qpdNQHRRMTP\nyTFnGsEfWmI4V4HiSrdQpyHIrnFUryse9kJmRKDfQK7icUf5\/KrOD4FOS5zsHrep\n\/cE14w7s0Zqko9upkYQNBys5TbBmAK8yVJ\/Zq7jU3qjDxkYNddpOt8k33vl9CG53\nOeWxcWOzJCHIOjakJlLnS+XitsSY4hzUlfEO0\/Ffi99zyHXybNPws5Og4KNfgcqW\nReG943oKc5qplfST2tr0K10ipD3WoV+lMbLugrwhfmVOyHGypfJhUMU0oKEjYPP3\nJjHSiW0hrnNvrPQ4\/mqSps3LyWYZWvH40N88U6dbxgbUgamXLHWtzJdyfBNii8uH\nobtye7oeYpAzx0hNurXhpSoswFbxwU5u80eL0\/YkfkzkL1P9vtMvDUw\/TVNbwHVg\nkTS9WEQA52XLMBtanzRzLGJVIXX6ODGgXt2Gql3KO1p43OyZq4Ksvyj8NuvdmBdO\ny9SrMvv+cdOMmTkj4nmGBjqSDeFmrSSQf0HoUbfXXXw\/RIW\/gkcm4qPmNJXUolYp\nWBOg5jT78pcJ2sRwb6YQDgC5HleBwuZujixUlKgdZxF1DEpJNBFnNDxq8yKadEzB\n-----END&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----<\/pre><h4 id=\"h5\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:10.5px;margin-bottom:10.5px;font-size:19px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u751f\u6210\u81ea\u7b7e\u540d\u8bc1\u4e66<\/h4><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u79c1\u94a5\u6587\u4ef6\u662f\u975e\u5e38\u91cd\u8981\u7684\u6587\u4ef6\uff0c\u9664\u4e86\u81ea\u5df1\u672c\u8eab\u4ee5\u5916\uff0c\u5176\u4ed6\u4efb\u4f55\u4eba\u90fd\u4e0d\u80fd\u53d6\u5f97\u3002\u6240\u4ee5\u5728\u751f\u6210\u79c1\u94a5\u6587\u4ef6\u7684\u540c\u65f6\u6700\u597d\u4fee\u6539\u8be5\u6587\u4ef6\u7684\u6743\u9650\uff0c\u5e76\u4e14\u91c7\u7528\u52a0\u5bc6\u7684\u5f62\u5f0f\u8fdb\u884c\u751f\u6210\u3002<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u8c03\u7528\u547d\u4ee4\u751f\u6210\u4e00\u4e2a\u7b7e\u540d\u8bc1\u4e66\n#&nbsp;\u751f\u6210\u8bc1\u4e66\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u8f93\u5165\u4e4b\u524d\u8bbe\u5b9a\u7684\u79c1\u94a5\u7684\u5bc6\u7801\n#&nbsp;-new:&nbsp;\u751f\u6210\u65b0\u8bc1\u4e66\u7b7e\u7f72\u8bf7\u6c42\n#&nbsp;-x509:&nbsp;\u4e13\u7528\u4e8eCA\u751f\u6210\u81ea\u7b7e\u8bc1\u4e66\n#&nbsp;-key:&nbsp;\u751f\u6210\u8bf7\u6c42\u65f6\u7528\u5230\u7684\u79c1\u94a5\u6587\u4ef6\n#&nbsp;-days&nbsp;n\uff1a\u8bc1\u4e66\u7684\u6709\u6548\u671f\u9650\n#&nbsp;-out&nbsp;\/PATH\/TO\/SOMECERTFILE:&nbsp;\u8bc1\u4e66\u7684\u4fdd\u5b58\u8def\u5f84\n[root@localhost&nbsp;~]#openssl&nbsp;req&nbsp;-new&nbsp;-x509&nbsp;-key&nbsp;&nbsp;\/etc\/pki\/CA\/private\/cakey.pem&nbsp;-days&nbsp;7300&nbsp;-out&nbsp;&nbsp;\/etc\/pki\/CA\/cacert.pem\nEnter&nbsp;pass&nbsp;phrase&nbsp;for&nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nYou&nbsp;are&nbsp;about&nbsp;to&nbsp;be&nbsp;asked&nbsp;to&nbsp;enter&nbsp;information&nbsp;that&nbsp;will&nbsp;be&nbsp;incorporated\ninto&nbsp;your&nbsp;certificate&nbsp;request.\nWhat&nbsp;you&nbsp;are&nbsp;about&nbsp;to&nbsp;enter&nbsp;is&nbsp;what&nbsp;is&nbsp;called&nbsp;a&nbsp;Distinguished&nbsp;Name&nbsp;or&nbsp;a&nbsp;DN.\nThere&nbsp;are&nbsp;quite&nbsp;a&nbsp;few&nbsp;fields&nbsp;but&nbsp;you&nbsp;can&nbsp;leave&nbsp;some&nbsp;blank\nFor&nbsp;some&nbsp;fields&nbsp;there&nbsp;will&nbsp;be&nbsp;a&nbsp;default&nbsp;value,\nIf&nbsp;you&nbsp;enter&nbsp;'.',&nbsp;the&nbsp;field&nbsp;will&nbsp;be&nbsp;left&nbsp;blank.\n-----\nCountry&nbsp;Name&nbsp;(2&nbsp;letter&nbsp;code)&nbsp;[XX]:CN\nState&nbsp;or&nbsp;Province&nbsp;Name&nbsp;(full&nbsp;name)&nbsp;[]:shandong\nLocality&nbsp;Name&nbsp;(eg,&nbsp;city)&nbsp;[Default&nbsp;City]:qingdao\nOrganization&nbsp;Name&nbsp;(eg,&nbsp;company)&nbsp;[Default&nbsp;Company&nbsp;Ltd]:pojun.tech\nOrganizational&nbsp;Unit&nbsp;Name&nbsp;(eg,&nbsp;section)&nbsp;[]:opt\nCommon&nbsp;Name&nbsp;(eg,&nbsp;your&nbsp;name&nbsp;or&nbsp;your&nbsp;server's&nbsp;hostname)&nbsp;[]:ca.pojun.tech\nEmail&nbsp;Address&nbsp;[]:<\/pre><h2 id=\"h6\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u9881\u53d1\u8bc1\u4e66<\/h2><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u9881\u53d1\u8bc1\u4e66\u8fd9\u91cc\u6211\u4eec\u5c06\u5206\u6210\u4e24\u4e2a\u73af\u8282\u4ecb\u7ecd\uff0c\u5206\u522b\u662f \u5b50CA\u8bc1\u4e66\u673a\u6784\u5411\u6839CA\u8bc1\u4e66\u673a\u6784\u7533\u8bf7\u8bc1\u4e66\u4ee5\u53ca\u666e\u901a\u7528\u6237\u5411\u5b50CA\u8bc1\u4e66\u673a\u6784\u7533\u8bf7\u8bc1\u4e66\u3002<\/p><\/blockquote><h3 id=\"h7\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u5b50CA\u8bc1\u4e66\u673a\u6784\u5411\u6839CA\u7533\u8bf7\u8bc1\u4e66<\/h3><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>A \u5728\u9700\u8981\u4f7f\u7528\u8bc1\u4e66\u7684\u4e3b\u673a\u4e0a\u751f\u6210\u8bc1\u4e66\u8bf7\u6c42<\/strong><\/p><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u9996\u5148\u5728B\u4e3b\u673a\u4e0a\u751f\u6210\u79c1\u94a5\uff0c\u8fd9\u4e00\u4e2a\u8fc7\u7a0b\u4e0e\u524d\u9762\u6839CA\u673a\u6784\u751f\u6210\u79c1\u94a5\u7684\u8fc7\u7a0b\u662f\u4e00\u81f4\u7684\u3002<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u8fd9\u6b21\u6211\u4eec\u4fee\u6539\u4e86\u79c1\u94a5\u7684\u957f\u5ea6\n#&nbsp;\u5e76\u4e14\u6ca1\u6709\u91c7\u7528\u52a0\u5bc6\u7684\u65b9\u5f0f\u751f\u6210\n#&nbsp;\u56e0\u4e3a\u4e3b\u673aB\u662f\u8981\u4f5c\u4e3a\u5b50CA\u673a\u6784\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u4ed6\u4e5f\u662f\u4e00\u4e2aCA\uff0c\u6240\u4ee5\u751f\u6210\u79c1\u94a5\u7684\u65f6\u5019\uff0c\u5c31\u5e94\u8be5\u6309\u7167\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u5185\u5bb9\uff0c\u751f\u6210cakey.pem\n[root@centos6&nbsp;pki]$(umask&nbsp;066;&nbsp;openssl&nbsp;genrsa&nbsp;-out&nbsp;\/etc\/pki\/CA\/private\/cakey.pem&nbsp;1024)\nGenerating&nbsp;RSA&nbsp;private&nbsp;key,&nbsp;1024&nbsp;bit&nbsp;long&nbsp;modulus\n......++++++\n..............++++++\ne&nbsp;is&nbsp;65537&nbsp;(0x10001)\n\n#&nbsp;\u67e5\u770b\u79c1\u94a5\u6587\u4ef6\u53ef\u4ee5\u53d1\u73b0\uff0c\u6ca1\u6709\u4e86\u52a0\u5bc6\u7684\u6807\u8bc6\n#&nbsp;\u540c\u65f6\u56e0\u4e3a\u751f\u6210\u65f6\u6307\u5b9a\u4e861024\u7684\u957f\u5ea6\uff0c\u79c1\u94a5\u7684\u957f\u5ea6\u660e\u663e\u7684\u53d8\u77ed\u4e86\u3002\n[root@centos6&nbsp;~]$cat&nbsp;\/etc\/pki\/CA\/private\/cakey.pem\n-----BEGIN&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----\nMIICXgIBAAKBgQCxLyAKQCkysisrsuou6oJFJHs\/Gk9L406x6sON1a2JX3516FJ2\n\u00b7\u00b7\u00b7\u00b7\u00b7\u4e2d\u95f4\u7701\u7565\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\nR1ogCVEZq36sgNYUwaT55gLKk5Ik5T6YQimy0bsvo5oQuw==\n-----END&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----<\/pre><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u5229\u7528\u79c1\u94a5\u6587\u4ef6\uff0c\u751f\u6210\u8bc1\u4e66\u7533\u8bf7\u6587\u4ef6\u3002<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u5176\u5b9e\u8fd9\u91cc\u7684\u65f6\u95f4\u662f\u6ca1\u6709\u5fc5\u8981\u6307\u5b9a\u7684\u3002\n#&nbsp;\u56e0\u4e3a\u8bc1\u4e66\u7684\u65f6\u95f4\uff0c\u662f\u7531\u9881\u53d1\u673a\u6784\u6307\u5b9a\u7684\uff0c\u56e0\u6b64\u7533\u8bf7\u673a\u6784\u586b\u5199\u4e86\u65f6\u95f4\u4e5f\u6ca1\u7528\n#&nbsp;\u5176\u4e2d\u6709\u4e9b\u4fe1\u606f\u5fc5\u987b\u8981\u4e0e\u6839\u8bc1\u4e66\u7684\u5185\u5bb9\u76f8\u540c\u56e0\u4e3a\u5728\u6839\u8bc1\u4e66\u7684openssl.cnf\u6587\u4ef6\u4e2d\u5df2\u7ecf\u6307\u5b9a\u3002\n[root@centos6&nbsp;tls]$openssl&nbsp;req&nbsp;-new&nbsp;-key&nbsp;\/etc\/pki\/CA\/private\/cakey.pem&nbsp;&nbsp;-days&nbsp;3650&nbsp;-out&nbsp;\/etc\/pki\/tls\/subca.csr\nYou&nbsp;are&nbsp;about&nbsp;to&nbsp;be&nbsp;asked&nbsp;to&nbsp;enter&nbsp;information&nbsp;that&nbsp;will&nbsp;be&nbsp;incorporated\ninto&nbsp;your&nbsp;certificate&nbsp;request.\nWhat&nbsp;you&nbsp;are&nbsp;about&nbsp;to&nbsp;enter&nbsp;is&nbsp;what&nbsp;is&nbsp;called&nbsp;a&nbsp;Distinguished&nbsp;Name&nbsp;or&nbsp;a&nbsp;DN.\nThere&nbsp;are&nbsp;quite&nbsp;a&nbsp;few&nbsp;fields&nbsp;but&nbsp;you&nbsp;can&nbsp;leave&nbsp;some&nbsp;blank\nFor&nbsp;some&nbsp;fields&nbsp;there&nbsp;will&nbsp;be&nbsp;a&nbsp;default&nbsp;value,\nIf&nbsp;you&nbsp;enter&nbsp;'.',&nbsp;the&nbsp;field&nbsp;will&nbsp;be&nbsp;left&nbsp;blank.\n-----\nCountry&nbsp;Name&nbsp;(2&nbsp;letter&nbsp;code)&nbsp;[XX]:CN\nState&nbsp;or&nbsp;Province&nbsp;Name&nbsp;(full&nbsp;name)&nbsp;[]:shandong\nLocality&nbsp;Name&nbsp;(eg,&nbsp;city)&nbsp;[Default&nbsp;City]:qingdao\nOrganization&nbsp;Name&nbsp;(eg,&nbsp;company)&nbsp;[Default&nbsp;Company&nbsp;Ltd]:pojun.tech\nOrganizational&nbsp;Unit&nbsp;Name&nbsp;(eg,&nbsp;section)&nbsp;[]:opt\nCommon&nbsp;Name&nbsp;(eg,&nbsp;your&nbsp;name&nbsp;or&nbsp;your&nbsp;server's&nbsp;hostname)&nbsp;[]:subca.pojun.tech&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nEmail&nbsp;Address&nbsp;[]:\n\n#&nbsp;\u8fd9\u91cc\u7684\u4e24\u6b65&nbsp;\u9ed8\u8ba4\u4e5f\u53ef\u4ee5\u4e0d\u7528\u586b\nPlease&nbsp;enter&nbsp;the&nbsp;following&nbsp;'extra'&nbsp;attributes\nto&nbsp;be&nbsp;sent&nbsp;with&nbsp;your&nbsp;certificate&nbsp;request\nA&nbsp;challenge&nbsp;password&nbsp;[]:123456\nAn&nbsp;optional&nbsp;company&nbsp;name&nbsp;[]:magedu.com<\/pre><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>B \u5c06\u8bc1\u4e66\u7684\u7533\u8bf7\u6587\u4ef6\uff0c\u4f20\u9012\u7ed9\u6839CA<\/strong><\/p><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u5c06\u524d\u4e00\u6b65\u751f\u6210\u7684\u8bc1\u4e66\u7684\u7533\u8bf7\u6587\u4ef6\uff0c\u4f20\u9012\u7ed9\u6839CA\u673a\u6784<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u6700\u597d\u5c06\u7533\u8bf7\u6587\u4ef6\uff0c\u4f20\u8f93\u5230\u6307\u5b9a\u7684\u76ee\u5f55\u4e0b\uff0c\u8fd9\u6837\u4fbf\u4e8e\u7ba1\u7406\n[root@centos6&nbsp;tls]$scp&nbsp;\/etc\/pki\/tls\/subca.csr&nbsp;&nbsp;172.18.253.127:\/etc\/pki\/CA<\/pre><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>C CA\u9881\u53d1\u8bc1\u4e66<\/strong><\/p><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u6b64\u65f6\u5207\u6362\u5230\u6839CA\u4e3b\u673a\uff0c\u751f\u6210\u8bc1\u4e66<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u8fd9\u91cc\u7684\u65f6\u95f4\u5fc5\u987b\u8981\u8fdb\u884c\u6307\u5b9a\u3002\u8fd9\u65f6\u8bc1\u4e66\u9881\u53d1\u673a\u6784\u6307\u5b9a\u7684\u8bc1\u4e66\u7684\u6709\u6548\u671f\u3002\n#&nbsp;[root@localhost&nbsp;CA]#openssl&nbsp;ca&nbsp;-in&nbsp;\/etc\/pki\/CA\/subca.csr&nbsp;-out&nbsp;\/etc\/pki\/CA\/certs\/subca.crt&nbsp;-days&nbsp;3650\nUsing&nbsp;configuration&nbsp;from&nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter&nbsp;pass&nbsp;phrase&nbsp;for&nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nCheck&nbsp;that&nbsp;the&nbsp;request&nbsp;matches&nbsp;the&nbsp;signature\nSignature&nbsp;ok\nCertificate&nbsp;Details:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;Number:&nbsp;1&nbsp;(0x1)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validity\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Not&nbsp;Before:&nbsp;Sep&nbsp;11&nbsp;14:38:13&nbsp;2017&nbsp;GMT\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Not&nbsp;After&nbsp;:&nbsp;Sep&nbsp;11&nbsp;14:38:14&nbsp;2018&nbsp;GMT\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;countryName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;CN\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stateOrProvinceName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;shandong\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;organizationName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;pojun.tech\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;organizationalUnitName&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;opt\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commonName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;subca.pojun.tech\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X509v3&nbsp;extensions:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X509v3&nbsp;Basic&nbsp;Constraints:&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CA:FALSE\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Netscape&nbsp;Comment:&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OpenSSL&nbsp;Generated&nbsp;Certificate\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X509v3&nbsp;Subject&nbsp;Key&nbsp;Identifier:&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DB:3E:9C:F4:F4:E9:42:15:00:E7:35:52:FE:04:9A:48:8C:BD:1A:1B\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X509v3&nbsp;Authority&nbsp;Key&nbsp;Identifier:&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyid:01:17:F1:CB:91:4B:20:AD:C7:DF:13:05:A4:D8:83:B2:AB:75:D1:05\n\nCertificate&nbsp;is&nbsp;to&nbsp;be&nbsp;certified&nbsp;until&nbsp;Sep&nbsp;11&nbsp;14:38:14&nbsp;2018&nbsp;GMT&nbsp;(3650&nbsp;days)Sign&nbsp;the&nbsp;certificate?&nbsp;[y\/n]:y\n\n\n1&nbsp;out&nbsp;of&nbsp;1&nbsp;certificate&nbsp;requests&nbsp;certified,&nbsp;commit?&nbsp;[y\/n]y\nWrite&nbsp;out&nbsp;database&nbsp;with&nbsp;1&nbsp;new&nbsp;entries\nData&nbsp;Base&nbsp;Updated\n\n#\u6b64\u65f6\u67e5\u770bindex.txt&nbsp;\u6587\u4ef6\u4e2d\uff0c\u4f1a\u770b\u5230\u589e\u52a0\u4e86\u4e00\u6761\u65b0\u7684\u8bb0\u5f55\u3002\n[root@localhost&nbsp;CA]#cat&nbsp;index.txt\nV\t180911143814Z\t\t01\tunknown\t\/C=CN\/ST=shandong\/O=pojun.tech\/OU=opt\/CN=subca.pojun.tech<\/pre><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>D \u5c06\u6839CA\u751f\u6210\u7684\u8bc1\u4e66\u9881\u53d1\u7ed9\u8bf7\u6c42\u8005<\/strong><\/p><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u4e3b\u673aB\u662f\u4f5c\u4e3a\u5b50CA\u673a\u6784\u5b58\u5728\u7684\uff0c\u6240\u4ee5\u8bc1\u4e66\u6587\u4ef6\uff0c\u5fc5\u987b\u662fcacert.pem\uff0c\u5426\u5219\uff0c\u5b50CA\u5c06\u4e0d\u80fd\u591f\u7ed9\u5176\u4ed6\u7528\u6237\u9881\u53d1\u8bc1\u4e66\u3002\n[root@localhost&nbsp;CA]#scp&nbsp;&nbsp;\/etc\/pki\/CA\/certs\/subca.crt&nbsp;172.18.250.114:\/etc\/pki\/CA\/cacert.pem<\/pre><h3 id=\"h8\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:26px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u666e\u901a\u7528\u6237\u5411\u5b50CA\u673a\u6784\uff0c\u7533\u8bf7\u8bc1\u4e66<\/h3><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u8fd9\u4e00\u4e2a\u8fc7\u7a0b\uff0c\u4e0e\u5b50CA\u5411\u6839CA\u7533\u8bf7\u8bc1\u4e66\u7684\u8fc7\u7a0b\u662f\u7c7b\u4f3c\u7684\u3002\u6211\u4eec\u5c06\u547d\u4ee4\u7684\u8bb0\u5f55\u5982\u4e0b<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#\u751f\u6210\u79c1\u94a5\u6587\u4ef6\n#&nbsp;\u56e0\u4e3a\u662f\u666e\u901a\u7528\u6237\uff0c\u6240\u4ee5\u751f\u6210\u7684\u79c1\u94a5\u6587\u4ef6\u5e94\u8be5\u4e0e\u4e4b\u524d\u7684cacert.pem&nbsp;\u6709\u6240\u533a\u522b&nbsp;\n[root@localhost&nbsp;~]#&nbsp;(umask&nbsp;066;&nbsp;openssl&nbsp;genrsa&nbsp;-out&nbsp;\/etc\/pki\/tls\/private\/app.key&nbsp;1024)\n\n#\u5229\u7528\u79c1\u94a5\u6587\u4ef6\uff0c\u751f\u6210\u8bc1\u4e66\u7533\u8bf7\u6587\u4ef6\n[root@localhost&nbsp;~]#&nbsp;openssl&nbsp;req&nbsp;-new&nbsp;-key&nbsp;\/etc\/pki\/tls\/private\/app.key&nbsp;&nbsp;-out&nbsp;\/etc\/pki\/tls\/app.csr\n\n\n#&nbsp;\u5c06\u8bc1\u4e66\u7533\u8bf7\u6587\u4ef6\u53d1\u9001\u7ed9&nbsp;\u5b50CA\u8bc1\u4e66\u9881\u53d1\u673a\u6784\n[root@localhost&nbsp;~]#&nbsp;scp&nbsp;\/etc\/pki\/tls\/app.csr&nbsp;&nbsp;172.18.250.114:\/etc\/pki\/CA\n\n#&nbsp;\u5207\u6362\u5230\u5b50CA\u8bc1\u4e66\u9881\u53d1\u673a\u6784\n#&nbsp;\u5b50CA\u8bc1\u4e66\u9881\u53d1\u673a\u6784\u9881\u53d1\u8bc1\u4e66\n[root@centos6&nbsp;CA]$openssl&nbsp;ca&nbsp;-in&nbsp;\/etc\/pki\/CA\/app.csr&nbsp;-out&nbsp;\/etc\/pki\/CA\/certs\/app.crt&nbsp;-days&nbsp;365\n\n#\u5c06\u751f\u6210\u7684\u8bc1\u4e66\u4f20\u9012\u7ed9\u7533\u8bf7\u8005\n[root@centos6&nbsp;CA]$scp&nbsp;\/etc\/pki\/CA\/certs\/app.crt&nbsp;&nbsp;172.18.253.58:\/etc\/pki\/CA\/certs\/<\/pre><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u8fd9\u6837\uff0c\u6b63\u5e38\u7684\u8bc1\u4e66\u9881\u53d1\u6d41\u7a0b\u5c31\u7b97\u662f\u5b8c\u6210\u4e86\u3002\u5c06\u6211\u4eec\u751f\u6210\u7684\u6839\u8bc1\u4e66\uff0c\u5b50CA\u8bc1\u4e66\u4ee5\u53ca\u666e\u901a\u7528\u6237\u8bc1\u4e66\u5bfc\u51fa\u5230Windows\u7cfb\u7edf\u4e2d\uff0c\u5e76\u5b89\u88c5\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230\uff0c\u6574\u4e2a\u8bc1\u4e66\u8def\u5f84\u4e86\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002<\/p><\/blockquote><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><img src=\"http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/CA%E8%AF%81%E4%B9%A6%E8%B7%AF%E5%BE%84.png\" alt='\u4f7f\u7528OpenSSL\u5b9e\u73b0CA\u8bc1\u4e66\u7684\u642d\u5efa\u8fc7\u7a0b_ CA_04' style=\"border:0px;vertical-align:middle;\" \/><\/p><h2 id=\"h9\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u67e5\u770b\u8bc1\u4e66\u72b6\u6001<\/h2><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u67e5\u770b\u8bc1\u4e66\u72b6\u6001\uff0c\u4f7f\u7528\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4 \uff0c\u53ef\u4ee5\u67e5\u770b\u8bc1\u4e66\u7684\u5185\u5bb9\u4ee5\u53ca\u9881\u53d1\u8005\u7684\u591a\u79cd\u4fe1\u606f\u3002<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">openssl&nbsp;x509&nbsp;-in&nbsp;\/etc\/pki\/CA\/cacert.pem&nbsp;-noout&nbsp;-text|issuer|subject|serial|dates\n\n-text&nbsp;&nbsp;&nbsp;\u8bc1\u4e66\u7684\u5185\u5bb9\n-issuer&nbsp;\u8bc1\u4e66\u9881\u53d1\u8005\u7684\u4fe1\u606f\n-subject&nbsp;&nbsp;\u8bc1\u4e66\u4e3b\u4f53\u7684\u4fe1\u606f\n-serial\t&nbsp;\u8bc1\u4e66\u7684\u5e8f\u5217\u53f7\u4fe1\u606f\n-dates&nbsp;\u67e5\u770b\u8bc1\u4e66\u7684\u65f6\u95f4\n\n\n#&nbsp;\u8bc1\u4e66\u9881\u53d1\u8005\u7684\u4fe1\u606f\n[root@localhost&nbsp;~]#openssl&nbsp;x509&nbsp;-in&nbsp;\/etc\/pki\/CA\/cacert.pem&nbsp;-noout&nbsp;-issuer\nissuer=&nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\n#&nbsp;\n[root@localhost&nbsp;~]#openssl&nbsp;x509&nbsp;-in&nbsp;\/etc\/pki\/CA\/cacert.pem&nbsp;-noout&nbsp;-subject\nsubject=&nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n\n#&nbsp;\u8bc1\u4e66\u7684\u6709\u6548\u65f6\u95f4\n[root@localhost&nbsp;~]#openssl&nbsp;x509&nbsp;-in&nbsp;\/etc\/pki\/CA\/cacert.pem&nbsp;-noout&nbsp;-dates\nnotBefore=Sep&nbsp;11&nbsp;13:43:42&nbsp;2017&nbsp;GMT\nnotAfter=Sep&nbsp;&nbsp;6&nbsp;13:43:42&nbsp;2037&nbsp;GMT\n\n\n#\u4e5f\u53ef\u4ee5\u6839\u636eindex.txt&nbsp;\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7f16\u53f7\uff0c\u8fdb\u884c\u67e5\u770b\u72b6\u6001\n[root@localhost&nbsp;~]#openssl&nbsp;ca&nbsp;-status&nbsp;01\nUsing&nbsp;configuration&nbsp;from&nbsp;\/etc\/pki\/tls\/openssl.cnf01=Valid&nbsp;(V)<\/pre><h2 id=\"h10\" style=\"font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-weight:300;line-height:1.1;color:rgb(51,51,51);margin-top:21px;margin-bottom:10.5px;font-size:32px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\">\u540a\u9500\u8bc1\u4e66<\/h2><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u8fd9\u91cc\u6211\u4eec\u5c06\u5b50CA\u7684\u8bc1\u4e66\u540a\u9500\u6389\u3002<\/p><\/blockquote><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>A \u9996\u5148\u5728\u5b50CA\u4e3b\u673a\u4e0a\u83b7\u53d6\u5230\u8981\u540a\u9500\u7684\u8bc1\u4e66\u7684serial<\/strong><\/p><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u7684\u5b50CA\u8bc1\u4e66\u7684\u5b58\u653e\u8def\u5f84\u662f<code class=\"highlighter-rouge\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:16.875px;padding:2px 4px;color:rgb(199,37,78);background-color:rgb(249,242,244);white-space:nowrap;\">&nbsp;\/etc\/pki\/CA\/certs\/subca.crt<\/code><\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">[root@centos6&nbsp;CA]$openssl&nbsp;x509&nbsp;-in&nbsp;\/etc\/pki\/CA\/certs\/subca.crt&nbsp;-noout&nbsp;-serial&nbsp;-subject\nserial=01\nsubject=&nbsp;\/C=CN\/ST=shandong\/O=pojun.tech\/OU=opt\/CN=subca.pojun.tech<\/pre><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>B \u5728\u6839CA\u4e0a\u6839\u636e\u5ba2\u6237\u63d0\u4ea4\u7684serial\u4e0esubject\u4fe1\u606f\uff0c\u5bf9\u6bd4\u68c0\u9a8c\u662f\u5426\u4e0eindex.txt\u6587\u4ef6\u4e2d\u7684\u4fe1\u606f\u4e00\u81f4\uff0c\u7136\u540e\u540a\u9500\u8bc1\u4e66<\/strong><\/p><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#\u8fdb\u5165\u5230CA\u7684\u8def\u5f84\u4e0b\uff0c\u67e5\u770b\u6587\u4ef6\u76ee\u5f55\n[root@localhost&nbsp;CA]#pwd\n\/etc\/pki\/CA\n\n[root@localhost&nbsp;CA]#tree\n.\n\u251c\u2500\u2500&nbsp;cacert.pem\n\u251c\u2500\u2500&nbsp;certs\n\u2502&nbsp;&nbsp;&nbsp;\u2514\u2500\u2500&nbsp;subca.crt\t\t#&nbsp;\u8fd9\u662f\u76f4\u63a5\u9881\u53d1\u7ed9\u5b50CA\u7684\u8bc1\u4e66\u6587\u4ef6\u251c\u2500\u2500&nbsp;crl\n\u251c\u2500\u2500&nbsp;index.txt\n\u251c\u2500\u2500&nbsp;index.txt.attr\n\u251c\u2500\u2500&nbsp;index.txt.old\n\u251c\u2500\u2500&nbsp;newcerts\n\u2502&nbsp;&nbsp;&nbsp;\u2514\u2500\u2500&nbsp;01.pem\t\t\t#\u8fd9\u4e2a\u5c31\u662f\u4e0e\u5b50CA\u8bc1\u4e66\u4e00\u81f4\u7684Serial\u6587\u4ef6\u251c\u2500\u2500&nbsp;private\n\u2502&nbsp;&nbsp;&nbsp;\u2514\u2500\u2500&nbsp;cakey.pem\n\u251c\u2500\u2500&nbsp;serial\n\u251c\u2500\u2500&nbsp;serial.old\n\u2514\u2500\u2500&nbsp;subca.csr\n\n\n#&nbsp;\u540a\u9500\u5b50CA\u7684\u8bc1\u4e66&nbsp;\u4f7f\u7528revoke&nbsp;\u547d\u4ee4\n[root@localhost&nbsp;CA]#openssl&nbsp;ca&nbsp;-revoke&nbsp;\/etc\/pki\/CA\/newcerts\/01.pem&nbsp;\nUsing&nbsp;configuration&nbsp;from&nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter&nbsp;pass&nbsp;phrase&nbsp;for&nbsp;\/etc\/pki\/CA\/private\/cakey.pem:\nRevoking&nbsp;Certificate&nbsp;01.\nData&nbsp;Base&nbsp;Updated<\/pre><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>C \u6307\u5b9a\u7b2c\u4e00\u4e2a\u540a\u9500\u8bc1\u4e66\u7684\u7f16\u53f7<\/strong><\/p><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u6307\u5b9a\u540a\u9500\u8bc1\u4e66\u7684\u7f16\u53f7\uff0c\u53ea\u6709\u5728\u66f4\u65b0\u8bc1\u4e66\u540a\u9500\u5217\u8868\u4e4b\u524d\uff0c\u624d\u9700\u8981\u64cd\u4f5c<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">#&nbsp;\u8fd9\u6761\u547d\u4ee4\u4e0e\u751f\u6210\u8bc1\u4e66\u65f6\u6307\u5b9a\u8bc1\u4e66serial&nbsp;\u53f7\u7801\u7684\u4f5c\u7528\u662f\u4e00\u81f4\u7684\u3002\n#&nbsp;\u5c31\u662f\u8bf4\uff0c\u6307\u5b9a\u4e0b\u4e00\u4e2a\u8bc1\u4e66\u540a\u9500\u65f6\u7684\u7f16\u53f7\u3002\n[root@localhost&nbsp;~]#echo&nbsp;01&nbsp;&gt;&nbsp;\/etc\/pki\/CA\/crlnumber\n[root@localhost&nbsp;~]#cat&nbsp;\/etc\/pki\/CA\/crlnumber\n01<\/pre><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>D \u66f4\u65b0\u8bc1\u4e66\u540a\u9500\u5217\u8868<\/strong><\/p><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u524d\u9762\u6307\u5b9a\u4e86\u8bc1\u4e66\u540a\u9500\u5217\u8868\u7f16\u53f7\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u6765\u66f4\u65b0\u8bc1\u4e66\u540a\u9500\u5217\u8868\u4e86\u3002<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">[root@localhost&nbsp;~]#openssl&nbsp;ca&nbsp;-gencrl&nbsp;-out&nbsp;\/etc\/pki\/CA\/crl\/crl.pem\nUsing&nbsp;configuration&nbsp;from&nbsp;\/etc\/pki\/tls\/openssl.cnf\nEnter&nbsp;pass&nbsp;phrase&nbsp;for&nbsp;\/etc\/pki\/CA\/private\/cakey.pem:&nbsp;&nbsp;&nbsp;#\u8fd9\u91cc\u63d0\u793a\u8f93\u5165\u5bc6\u7801<\/pre><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u67e5\u770b\u8bc1\u4e66\u540a\u9500\u5217\u8868\u7684\u6587\u4ef6<\/p><\/blockquote><pre class=\"highlight\" style=\"font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:14px;padding:10px;margin-top:0px;margin-bottom:10.5px;line-height:1.42857;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);\">[root@localhost&nbsp;~]#openssl&nbsp;crl&nbsp;-in&nbsp;\/etc\/pki\/CA\/crl\/crl.pem&nbsp;-noout&nbsp;-text\nCertificate&nbsp;Revocation&nbsp;List&nbsp;(CRL):&nbsp;&nbsp;&nbsp;#\u8bc1\u4e66\u540a\u9500\u5217\u8868\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Version&nbsp;2&nbsp;(0x1)\n&nbsp;&nbsp;&nbsp;&nbsp;Signature&nbsp;Algorithm:&nbsp;sha256WithRSAEncryption\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Issuer:&nbsp;\/C=CN\/ST=shandong\/L=qingdao\/O=pojun.tech\/OU=opt\/CN=ca.pojun.tech\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Last&nbsp;Update:&nbsp;Sep&nbsp;12&nbsp;11:58:17&nbsp;2017&nbsp;GMT\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Next&nbsp;Update:&nbsp;Oct&nbsp;12&nbsp;11:58:17&nbsp;2017&nbsp;GMT\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CRL&nbsp;extensions:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X509v3&nbsp;CRL&nbsp;Number:&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1\nRevoked&nbsp;Certificates:\t\t\t\t\t#\u8fd9\u91cc\u7684\u6807\u8bc6\u663e\u793a\uff0c\u8bc1\u4e66\u5df2\u7ecf\u88ab\u540a\u9500\u4e86\n&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;Number:&nbsp;01\t\t\t\t\t#\u540a\u9500\u7684\u5e8f\u5217\u53f7\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Revocation&nbsp;Date:&nbsp;Sep&nbsp;12&nbsp;11:52:47&nbsp;2017&nbsp;GMT\n&nbsp;&nbsp;&nbsp;&nbsp;Signature&nbsp;Algorithm:&nbsp;sha256WithRSAEncryption\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b4:6e:f2:73:21:ed:c4:38:39:06:29:76:61:ac:d6:ee:a4:5d:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e8:cb:7c:8b:f8:01:21:ba:bd:b2:46:fa:ea:bf:de:fa:6e:f6:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85:d6:93:7c:81:b4:2d:d5:eb:c2:94:a3:6f:13:6d:f3:3f:48:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56:85:72:96:cf:e0:ea:a9:0e:07:43:6d:62:2d:4d:e2:2e:b5:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;02:6a:27:7a:31:76:eb:4e:b1:d6:83:8b:d7:39:10:14:d6:94:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77:4b:10:d8:24:46:95:1b:48:87:16:77:ce:8c:1b:54:2c:4d:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ee:2f:24:13:10:62:30:32:74:9e:84:49:c9:dc:a9:fc:31:60:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57:b5:43:7a:a3:09:75:60:1e:6a:f2:26:e9:54:37:2d:ce:0b:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ac:b2:41:c2:d9:02:99:fc:a3:99:15:9c:10:a7:f4:be:08:83:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23:ee:ef:74:83:ea:fd:f7:c9:e1:87:6f:9b:1d:c3:df:88:2d:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79:2b:71:4b:9e:6f:ae:f9:08:d9:66:d4:f1:49:df:7e:89:99:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;06:a3:86:72:37:02:78:0f:16:e8:87:8a:61:5b:a3:ac:e2:46:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38:ce:86:29:c9:c6:e5:8c:f8:25:2f:7e:d1:62:13:57:a3:a6:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10:42:13:b9:e4:0b:fa:9f:f4:d0:95:9b:5d:9b:2d:38:7f:8d:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ac:c0:e6:3f<\/pre><blockquote style=\"padding:10.5px 21px;margin:0px 0px 21px;font-size:18.75px;border-left:5px solid rgb(230,230,230);color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><p style=\"margin-top:0px;margin-bottom:0px;\">\u5728\u5b9e\u9645\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6709\u5f88\u591a\u8fd9\u6837\u7684\u5b9e\u4f8b\u3002\u4f8b\u5982\u6211\u4eec\u7ecf\u5e38\u4f7f\u7528\u7684\u6dd8\u5b9d\uff0c\u5728\u4f7f\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee\u6dd8\u5b9d\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u67e5\u770b\u6dd8\u5b9d\u7684\u8bc1\u4e66\u540a\u9500\u5217\u8868\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002<\/p><\/blockquote><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><img src=\"http:\/\/ot2trm1s2.bkt.clouddn.com\/Linux\/2017-09-11-linux-middle-command-1\/%E6%B7%98%E5%AE%9D%E7%9A%84%E8%AF%81%E4%B9%A6%E5%90%8A%E9%94%80%E5%88%97%E8%A1%A8.png\" alt='\u4f7f\u7528OpenSSL\u5b9e\u73b0CA\u8bc1\u4e66\u7684\u642d\u5efa\u8fc7\u7a0b_ OpenSSL_05' style=\"border:0px;vertical-align:middle;\" \/><\/p><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><strong>\u81f3\u6b64\uff0c\u5173\u4e8e\u81ea\u5df1\u642d\u5efaCA\u7684\u8fc7\u7a0b\u57fa\u672c\u4e0a\u5c31\u5b8c\u6210\u4e86\u3002\u719f\u6089\u4e86\u4e0a\u9762\u7684\u64cd\u4f5c\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u81ea\u5df1\u52a8\u624b\u7b80\u5355\u7684\u642d\u5efa\u4e00\u4e2a\u8bc1\u4e66\u4e86\uff0c\u7136\u540e\u4e5f\u53ef\u4ee5\u4f53\u9a8c\u4e00\u4e0b\u6574\u4e2a\u6d41\u7a0b<\/strong><\/p>\u53c2\u8003\u8d44\u6599<p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><a rel=\"nofollow\" href=\"http:\/\/www.ruanyifeng.com\/blog\/2014\/09\/illustration-ssl.html\" style=\"color:rgb(0,127,255);\" target=\"_blank\">http:\/\/www.ruanyifeng.com\/blog\/2014\/09\/illustration-ssl.html<\/a><\/p><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><a rel=\"nofollow\" href=\"http:\/\/www.ruanyifeng.com\/blog\/2014\/02\/ssl_tls.html\" style=\"color:rgb(0,127,255);\" target=\"_blank\">http:\/\/www.ruanyifeng.com\/blog\/2014\/02\/ssl_tls.html<\/a><\/p><p style=\"margin-top:0px;margin-bottom:10.5px;color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:15px;text-align:justify;white-space:normal;background-color:rgb(255,255,255);\"><a rel=\"nofollow\" href=\"http:\/\/kb.cnblogs.com\/page\/197396\/\" style=\"color:rgb(0,127,255);\" target=\"_blank\">http:\/\/kb.cnblogs.com\/page\/197396\/<\/a><\/p><p><br \/><\/p><p><br \/><\/p><p><span style=\"color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\">\u4e2a\u4eba\u535a\u5ba2\u5730\u5740\uff1a<\/span><a rel=\"nofollow\" href=\"http:\/\/www.pojun.tech\/\" style=\"padding:0px;margin:0px;color:rgb(1,95,145);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;white-space:normal;\" target=\"_blank\">http:\/\/www.pojun.tech\/<\/a><span style=\"color:rgb(51,51,51);font-family:'Open Sans', Calibri, Candara, Arial, sans-serif;font-size:18.75px;text-align:justify;background-color:rgb(255,255,255);\">&nbsp;\u6b22\u8fce\u8bbf\u95ee<\/span><\/p>", '#result');
    }

  function insertCodeElement(content, container){
    if(content.indexOf('<code>') != -1) return
    container = container || document;
    // 创建一个 div 来放置获取到的内容，这样就可以把 content 字符串内容转换成 dom
    // 方便我们对这个 dom 进行操作（只是创建 div，并没有插入到文档，他只存在于内存中）
    var parent = document.createElement('div');
    parent.innerHTML = content;
    if($('.am-engine').length===0){
        // 找到 parent 中的所有 pre 标签，并遍历
       var $pres = $(parent).find('pre');
       $pres.each(function(index, el) {
            var $el = $(el),
            html = $el.html(),
            code = document.createElement('code'),
            elClass = $el.attr('class');
            if(!elClass) {return};
            // 获取 pre 标签中，class 属性中包含的本段代码所有的编程语言
            var language = elClass.substring(6, elClass.indexOf(';'));
            code.className = 'language-' + language;
            code.innerHTML = html;
            $el.html(code);
        });
        }else{
        var $pres = $(parent).find('pre');
        let cardData=$(parent).find('.card-activated')
        $pres.each(function(index,el){
            var  $el = $(el),
            html = $el.html(),
            code = document.createElement('div');
            code.className = 'language-';
            code.innerHTML = html;
            $el.html(code);
                $(el).css("padding",'15px 0 17px 0')       
            })
        }
        
        $(container).html(parent.innerHTML);

        // 最后，调用 Prism 的方法来高亮代码
        // Prism.highlightAll();
    }
</script>

<script>
    var page = 'detail'
</script>
<div class="dialog-box">
    <div class="mask"></div>
    <div class="body">
        <div id="close" class="close"></div>
        <div id="medalListBox2">
        <script id="medalList2" type="text/html">
            <div class="title">
                <div class="titleP"><span class="txt1">Eumenides_s</span> <span class="txt2">（已经获得 {{total}} 枚勋章啦）</span></div>
                <a href="https://blog.51cto.com/creative-center/medal" class="medal-button">勋章管理</a>
            </div>
            <div class="scroll">
                <div class="medal-list">
                    {{each list}}
                    <div class="item">
                        <img src="{{$value.img_light}}">
                        <span class="txt3" title="{{$value.name}}">
                            {{$value.name}}
                            {{if $value.type == 0}}
                             Lv{{$value.level}}</span>
                            {{/if}}
                        <span class="txt4" title="{{$value.rule}}">{{$value.rule}}</span>
                        <span class="txt4">{{$value.get_time}} 获得</span>
                    </div>
                    {{/each}}
                </div>
            </div>
        </script>
        </div>
    </div>
</div><div class="dialog-box-small">
    <div class="mask"></div>
    <div class="body">
        <div id="close" class="close"></div>
        <div id="medalBox2" class="medal-list">
            <script id="medalBoxTemp2" type="text/html">
                <span class="txt1">恭喜您，获得1枚勋章</span>
                <img src="{{$data.img_light}}" alt="" srcset="">
                <span class="txt2">
                    {{$data.name}}
                    {{if $data.type == 0}}
                        Lv{{$data.level}}</span>
                    {{/if}}
                </span>
                <span class="txt3">{{$data.rule}}</span>
                <span class="txt4" id="close2">查看全部已获取勋章> </span>
            </script>
        </div>
    </div>
</div></div><div style="background: url(&quot;https://static1.51cto.com/edu/blog/images/bg50.png&quot;) repeat; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 10000000; display: none;"><div style="z-index:10000001;width:50px;height:50px;background:url(https://static1.51cto.com/edu/blog/images/loading2.gif) no-repeat center;background-size:50px 50px;position:absolute;left:50%;top:50%;margin-left:-25px;margin-top:-25px;"></div></div>
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->
<header class="home-top">
    <div class="Page">
        <div class="top-box">
            <div class="item-lf"><a class="top" href="https://www.51cto.com/" target="_blank" rel="nofollow">51CTO首页</a></div>
            <div class="item-lf">
                <a href="https://blog.51cto.com/" target="_blank">博客</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://edu.51cto.com/?utm_source=hometop" data-id="2" target="_blank" rel="nofollow">学堂</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://e.51cto.com/?utm_platform=pc&amp;utm_medi-um=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar" data-id="3" target="_blank" rel="nofollow">精培</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://b.51cto.com/index?utm_source=hometop" data-id="4" target="_blank" rel="nofollow">企业培训</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://x.51cto.com/?www" data-id="5" target="_blank" rel="nofollow">CTO训练营</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://ost.51cto.com/openharmony?utm_source=hometop" data-id="6" target="_blank" rel="nofollow">鸿蒙技术社区</a>
            </div>
            <div class="item-lf">
                <a href="http://wot.51cto.com/act/wot2021/dev?www1" target="_blank" rel="nofollow">WOT技术大会</a>
            </div>
            <div class="item-lf hot">
                <a href="https://metacon.51cto.com/?utm_source=blogtop" target="_blank" rel="nofollow">元宇宙大会   </a>
            </div>
            <div class="top-right">
                <div class="item-rt"><span class="subweb" data-id="8">移动端</span></div>
                <div class="item-rt"><span class="subweb" data-id="7">公众号矩阵</span></div>
                <div class="item-rt collection">收藏本站</div>
                <div class="item-rt"><a href="http://so.51cto.com/?keywords=&amp;sort=time" target="_blank" class="search-top" rel="nofollow"><i class="iconblog blogsou"></i></a></div>
            </div>
        </div>
    </div>
    <div class="nav-more-container" style="height: 0px;">
        <div class="Page nav-contant-box" style="height: 0px; z-index: 0;">
            <div class="nav-contant nav-contant1" data-id="1" style="height: 0px; z-index: 0;">
                <a href="https://blog.51cto.com/" target="_blank">博客</a>
            </div>
            <div class="nav-contant nav-contant2" data-id="2" style="height: 0px; z-index: 0;">
                <a href="https://edu.51cto.com/courselist/index-zh5.html?utm_source=hometop" target="_blank" rel="nofollow">免费课程</a>
                <a href="https://edu.51cto.com/ranking/index.html?utm_source=hometop" target="_blank" rel="nofollow">课程排行</a>
                <a href="https://e.51cto.com/ncamp/list?utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=13" target="_blank" rel="nofollow">直播课</a>
                <a href="https://e.51cto.com/rk/?utm_platform=pc&amp;utm_medi-um=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=14" target="_blank" rel="nofollow">软考学堂</a>
            </div>
            <div class="nav-contant nav-contant3" data-id="3" style="height: 0px; z-index: 0;">
                <a href="https://e.51cto.com/?utm_platform=pc&amp;utm_medi-um=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar" target="_blank" rel="nofollow">精品班</a>
                <a href="https://e.51cto.com/wejob/list?pid=5&amp;utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=41" target="_blank" rel="nofollow">厂商认证</a>
                <a href="https://e.51cto.com/wejob/list?pid=1&amp;utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=42" target="_blank" rel="nofollow">IT技术</a>
                <a href="https://e.51cto.com/rk/?utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_xyzq_rightwzl&amp;rtm_frd=07&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=43" target="_blank" rel="nofollow">2022年软考</a>
                <a href="https://e.51cto.com/wejob/list?pid=33&amp;utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=44" target="_blank" rel="nofollow">PMP项目管理</a>
            </div>
            <div class="nav-contant nav-contant4" data-id="4" style="height: 0px; z-index: 0;">
                <a href="https://b.51cto.com/index?utm_source=hometop" target="_blank" rel="nofollow">在线学习</a>
                <a href="https://b.edu.51cto.com/site/home" target="_blank" rel="nofollow">企业服务</a>
            </div>
            <div class="nav-contant nav-contant5" data-id="5" style="height: 0px; z-index: 0;">
                <a href="https://x.51cto.com/?www" target="_blank" rel="nofollow">CTO训练营</a>
                <a href="https://x.51cto.com/act/cto/tl" target="_blank" rel="nofollow">技术经理研习营</a>
                <a href="https://x.51cto.com/act/cto/leatech2021?www1" target="_blank" rel="nofollow">LeaTech峰会</a>
            </div>
            <div class="nav-contant nav-contant6" data-id="6" style="height: 0px; z-index: 0;">
                <a href="https://ost.51cto.com/postlist" target="_blank" rel="nofollow">文章</a>
                <a href="https://ost.51cto.com/resource" target="_blank" rel="nofollow">资源</a>
                <a href="https://ost.51cto.com/answerlist" target="_blank" rel="nofollow">问答</a>
                <a href="https://ost.51cto.com/study" target="_blank" rel="nofollow">鸿蒙课堂</a>
                <a href="https://ost.51cto.com/column" target="_blank" rel="nofollow">专栏</a>
                <a href="https://ost.51cto.com/activity" target="_blank" rel="nofollow">直播</a>
            </div>
            <div class="nav-contant nav-contant7" data-id="7" style="height: 0px; z-index: 0;">
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_4.jpeg" alt=""></div>
                    <span class="txt">51CTO</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_1.png" alt=""></div>
                    <span class="txt">51CTO鸿蒙技术社区</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_2.jpeg" alt=""></div>
                    <span class="txt">51CTO技术栈</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_3.jpeg" alt=""></div>
                    <span class="txt">51CTO官微</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_5.jpeg" alt=""></div>
                    <span class="txt">51CTO学堂</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/blog.jpg" alt=""></div>
                    <span class="txt">51CTO博客</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_10.jpg" alt=""></div>
                    <span class="txt">CTO训练营</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_6.jpg" alt=""></div>
                    <span class="txt">鸿蒙技术社区订阅号</span>
                </div>
            </div>
            <div class="nav-contant nav-contant8" data-id="8" style="height: 0px; z-index: 0;">
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_8.jpg" alt=""></div>
                    <span class="txt">51CTO学堂APP</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/ewm_qy.png" alt=""></div>
                    <span class="txt">51CTO学堂企业版APP</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/video.png" alt=""></div>
                    <span class="txt">鸿蒙技术社区视频号</span>
                </div>
            </div>
        </div>
    </div>
</header>
<div class="Header" style="height:61px;">
  <div class="Page clearfix ">
      <div class="Logo"><a href="https://blog.51cto.com/"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/logonew5.png" alt="51CTO博客" width="202" title="51CTO博客"><h2>51CTO博客</h2></a></div>
      <ul class="Navigates fl commonhide">
      <li><a href="https://blog.51cto.com/">首页</a>
        <div class="spam-classifications" style="display:none;">
          <div class="spam-classifications-content">
          <div class="classification-ipc" id="classification-ipc"></div> <div class="classification-primary-list-box" id="classification-primary-list-box"></div>

          </div>
        </div>
      </li>
      <li><a href="https://blog.51cto.com/nav/following">关注</a></li>
        <li><a href="https://blog.51cto.com/ranking">热榜</a></li>
      <li class="">
        <a href="https://blog.51cto.com/cloumn/index" target="_blank">订阅专栏</a>
      </li>
      
                  </ul>
    <ul class="Navigates Navigates-right fr">
      <li class="more maps">
        <a href="javascript:void(0);" class="menu"></a>
        <div>
          <div class="ins">

            <a href="https://edu.51cto.com/" target="_blank">学堂</a>
            <a href="https://e.51cto.com/" target="_blank" rel="nofollow">精培</a>
            <a href="https://ost.51cto.com/?utm_source=blognav" target="_blank">鸿蒙社区</a>
            <a href="http://x.51cto.com/" target="_blank" rel="nofollow">CTO训练营</a>
            <a href="http://www.51cto.com/" target="_blank">51CTO</a>
              <a href="https://blog.51cto.com/class-blog/index" target="_blank">班级博客</a>
          </div>
        </div>
      </li>
              <li class="logins">
			    <a href="https://home.51cto.com/index?from_service=blog&amp;scene=login1&amp;reback=https://blog.51cto.com/xiaoshuaigege/1965113" target="_self" class="clearfix" rel="nofollow"><span class="fl">登录</span><b class="fgline fl"></b><span class="fl">注册</span></a>
        </li>
                        <li class="mRead commonhide">
            <a href="javascript:;" rel="nofollow"></a>
            <div>
              <div class="ins">
                  <div class="towD-box">
                      <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/blog_qr.png">
                      <p>手机随时阅读</p>
                  </div>
                  <div class="towD-box">
                      <img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/5a45016915218bb53e32af17b14a8822.jpg">
                      <p>新人专享大礼包￥24</p>
                  </div>
                </div>
            </div>
        </li>
                  <li class="write commonhide"><a href="javascript:;" id="toPublish" onclick="Login({scene:&#39;write1&#39;})" rel="nofollow">写文章</a></li>
                <li class="search commonhide">

          <form class="fr form-search" method="get" action="https://blog.51cto.com/search/result" target="_blank">
            <input type="text" name="q" placeholder="大家都在搜索..." id="TopSearchInput" autocomplete="off">
            <button id="TopSearchBtn"></button>
          </form>
                    <div class="focusSelect focusSelect_his" style="display: none;">

              <div class="searchHistoryList" style="display: none;">
                <div class="clearfix hishead">搜索历史
                  <span class="clearhis"><i class="iconblog blogshanchu18 "></i>清空</span>
                </div>
                <div class="hisitem-wrap"></div>
              </div>

              <div class="hotList" style="display: none;">
                <div class="clearfix hishead">热门搜索</div>
                <div class="hot-wrap"></div>
              </div>

          </div>

          <div class="focusSelect focusSelect_key" style="display: none;">
            <div class="keyitem-wrap">

            </div>
            <div class="clearfix checkSearchResult">
              <span>查看【</span>
              <span class="checkKey"></span>
              <span>】的结果</span></div>
          </div>


        </li>
          </ul>
    <div class="clear"></div>
  </div>
<div class="search-mask" style="display: none;"></div></div>
<script>
    var isLogin = '0';
    var userId = '';
    var imgpath = 'https://s4.51cto.com/';
    var BLOG_URL = 'https://blog.51cto.com/';
    var YII_ENV = 'prod';
    var router = 'blog/index'
    localStorage.removeItem('userDraft')
    $('.want-write').click(function(){
        localStorage.removeItem('userDraft')
    })

</script>
   <style type="text/css">
  .Header{
    top:30px;
  }
  </style>
<script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/medal.js_v=c4f6e3b551"></script>
<script type="text/javascript" src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/count_v2.php"></script>
<!-- if publish show -->
<div class="Footer">
  <div class="Page ">
    <div class="fl">
      <a href="https://blog.51cto.com/" class="Logo"><img src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/logonew4.png" alt="51CTO博客" width="214" title="51CTO博客"></a>
      <p class="copy">Copyright © 2005-2022 <a href="http://www.51cto.com/" target="_blank">51CTO.COM</a>
          版权所有 京ICP证060544号</p>
    </div>

    <dl class="foot_ab fr">
      <dt>关于我们</dt>
      <dd>
        <table class="aboutList">
              <tbody><tr>
                  <td><a href="https://blog.51cto.com/51ctoblog" target="_blank">官方博客</a></td>
                  <td><a href="https://blog.51cto.com/51ctoblog/2643377" target="_blank">意见反馈</a></td>
                  <td><a href="http://www.51cto.com/about/aboutus.html" target="_blank">了解我们</a></td>
                  <td><a href="https://blog.51cto.com/nav" target="_blank">全部文章</a></td>
              </tr>
              <tr>
                  <td><a href="javascript:;" class="zhiCustomBtn">在线客服</a></td>
                  <td><a href="http://www.51cto.com/about/map.html" target="_blank">网站地图</a></td>
                  <td><a href="https://blog.51cto.com/topic/all" target="_blank">热门标签</a></td>
              </tr>
          </tbody></table>
      </dd>
    </dl>


    <dl class="foot_link fr">
      <dt>友情链接</dt>
      <dd>

        <table class="aboutList-2">
            <tbody><tr>
                <td><a href="https://ost.51cto.com/?utm_source=blogsitemap" target="_blank">51CTO鸿蒙社区</a></td>
                <td><a href="https://edu.51cto.com/" target="_blank">51CTO学堂</a></td>
            </tr>
            <tr>
              <td><a href="http://www.51cto.com/" target="_blank">51CTO</a></td>

            </tr>
        </tbody></table>
      </dd>
    </dl>

  </div>
</div>

<script>
  var uid = '';
  var BLOG_URL = 'https://blog.51cto.com/';
</script>

<script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/time-on-page.js.download" charset="utf-8"></script>
  <script src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/entrance.js.download" id="zhichiScript" class="zhiCustomBtn" data-args="manual=true"></script>
  <script>
      var zhiManager = (getzhiSDKInstance());
      zhiManager.on("load", function() {
          zhiManager.initBtnDOM();
      });
      zhiManager.set('title','欢迎咨询');
      zhiManager.set('powered',false);
      zhiManager.set('color','4285f4');
      zhiManager.set('customBtn', 'true');
      zhiManager.set('size',{'width':360,'height':500});
      zhiManager.set('userinfo', {'partnerId':'','uname':'','params':{'用户名':''}});
      zhiManager.set('customMargin', 20);
      zhiManager.set('preVisitArgs',{'preVisitUrl': document.referrer?document.referrer:''});
      zhiManager.set('curVisitArgs',{'curVisitUrl': location.href,curVisitTitle:document.title,});
  </script>




<script>
    (function(){
        var wh=$(window).height(),fh=$('.Footer').outerHeight(true),hh=$('.Header').outerHeight(true)
        $('.Content-box').css({'min-height': wh-fh-hh})
    })()
</script>
    <div class="zhiCustomBtn" style="display:none;" id="hide-zhiCustomBtn"></div>


<div id="waf_nc_block" style="display: none;"><div class="waf-nc-mask"></div><div id="WAF_NC_WRAPPER" class="waf-nc-wrapper"><img class="waf-nc-icon" src="./使用OpenSSL实现CA证书的搭建过程_救火队长的技术博客_51CTO博客_files/robot.png" alt="" height="111" width="150"><p class="waf-nc-description">为保证您的正常访问，请进行如下验证：</p><div id="nocaptcha"></div></div></div><div id="zhichiBtnBox" style="position: fixed; z-index: 2147483583; box-shadow: rgba(15, 66, 76, 0.25) 0px 0px 14px 0px; width: 60px; height: 60px; border-radius: 50%; background-color: rgb(66, 133, 244); background-image: url(&quot;//www.sobot.com/chat/frame/imgs/icon.png&quot;); background-repeat: no-repeat; background-position: 18px -58px; right: 40px; bottom: 20px; display: none;"><a hidefocus="" id="zhichiBtn" style="position:relative;text-decoration: none; outline: none; font-family: Microsoft Yahei, Arial, Helvetica; color: #fff; font-size: 16px; display: inline-block; margin: 0; padding: 0; border: none; line-height:43px; float:none;width:100%;height:100%;border-radius:50%;"><span class="zc-advice-icon-btn-title" style="box-shadow: rgba(107, 113, 114, 0.15) 0px 2px 4px 0px; border: 1px solid rgb(235, 239, 240); font-family: &quot;Microsoft Yahei&quot;, Arial, Helvetica; color: rgb(85, 85, 86); font-size: 13px; margin: 0px; text-align: right; background: rgb(255, 255, 255); position: absolute; top: 15px; right: 70px; text-overflow: ellipsis; white-space: nowrap; word-break: normal; display: none; border-radius: 3px; padding: 0px 5px; height: 30px; line-height: 30px;">欢迎咨询</span></a><i style="position:absolute;top:0px;right:0px;padding:1px;line-height:20px;text-align:center;color:#fff;font-weight:bold;height:18px;min-width:18px;background-color:#ed5c5c;border-radius:18px;font-size:12px;display:none;font-style:normal;" id="zhichiCount"></i></div></body></html>